<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>éåŒæ­¥è™•ç† Axios</title>
    <url>/2021/03/05/axios-api/</url>
    <content><![CDATA[<h1 id="ä½¿ç”¨-Axios-å–å¾—-API"><a href="#ä½¿ç”¨-Axios-å–å¾—-API" class="headerlink" title="ä½¿ç”¨ Axios å–å¾— API"></a>ä½¿ç”¨ Axios å–å¾— API</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onMounted &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// åœ¨DOMå…ƒç´ æ¸²æŸ“å®Œæˆå¾ŒåŸ·è¡Œ</span></span><br><span class="line">      axios</span><br><span class="line">        .get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res.data);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h1 id="Axios-æ¸²æŸ“è³‡æ–™"><a href="#Axios-æ¸²æŸ“è³‡æ–™" class="headerlink" title="Axios æ¸²æŸ“è³‡æ–™"></a>Axios æ¸²æŸ“è³‡æ–™</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;img</span><br><span class="line">      v-for=&quot;(item, i) in imgArray.arr&quot;</span><br><span class="line">      :key=&quot;item.url&quot;</span><br><span class="line">      v-show=&quot;ImgIdx === i&quot;</span><br><span class="line">      class=&quot;img&quot;</span><br><span class="line">      :src=&quot;item.url&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnbox&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxRemove&quot;</span>&gt;</span>ä¸Šä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxAdd&quot;</span>&gt;</span>ä¸‹ä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onMounted, reactive, ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> imgArray = reactive(&#123; <span class="attr">arr</span>: [] &#125;); <span class="comment">// å°‡å–å¾—çš„è³‡æ–™æ”¾é€²é™£åˆ—</span></span><br><span class="line">    <span class="keyword">const</span> ImgIdx = ref(<span class="number">0</span>); <span class="comment">// åœ–ç‰‡ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">const</span> ImgIdxAdd = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ImgIdx.value++;</span><br><span class="line">      <span class="keyword">if</span> (ImgIdx.value &gt; imgArray.arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">        ImgIdx.value = <span class="number">0</span>; <span class="comment">// å¤§æ–¼ç¸½æ•¸é‡æ™‚è¿”å›ç¬¬ä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> ImgIdxRemove = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ImgIdx.value--;</span><br><span class="line">      <span class="keyword">if</span> (ImgIdx.value &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        ImgIdx.value = imgArray.arr.length - <span class="number">1</span>; <span class="comment">//å°æ–¼0æ™‚è¿”å›æœ€å¾Œä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      axios</span><br><span class="line">        .get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          imgArray.arr = res.data;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123; imgArray, ImgIdx, ImgIdxAdd, ImgIdxRemove &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="åŠ å…¥-loading-æ•ˆæœ"><a href="#åŠ å…¥-loading-æ•ˆæœ" class="headerlink" title="åŠ å…¥ loading æ•ˆæœ"></a>åŠ å…¥ loading æ•ˆæœ</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isLoad&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;img</span><br><span class="line">      v-for=&quot;(item, i) in imgArray.arr&quot;</span><br><span class="line">      :key=&quot;item.url&quot;</span><br><span class="line">      v-show=&quot;ImgIdx === i&quot;</span><br><span class="line">      class=&quot;img&quot;</span><br><span class="line">      :src=&quot;item.url&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnbox&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isLoad&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxRemove&quot;</span>&gt;</span>ä¸Šä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxAdd&quot;</span>&gt;</span>ä¸‹ä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;!isLoad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;load&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/load.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> imgArray = reactive(&#123; <span class="attr">arr</span>: [] &#125;); <span class="comment">// å°‡å–å¾—çš„è³‡æ–™æ”¾é€²é™£åˆ—</span></span><br><span class="line"><span class="keyword">const</span> ImgIdx = ref(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> isLoad = ref(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> ImgIdxAdd = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ImgIdx.value++;</span><br><span class="line">  <span class="keyword">if</span> (ImgIdx.value &gt; imgArray.arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">    ImgIdx.value = <span class="number">0</span>; <span class="comment">// å¤§æ–¼ç¸½æ•¸é‡æ™‚è¿”å›ç¬¬ä¸€å¼µ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> ImgIdxRemove = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ImgIdx.value--;</span><br><span class="line">  <span class="keyword">if</span> (ImgIdx.value &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    ImgIdx.value = imgArray.arr.length - <span class="number">1</span>; <span class="comment">//å°æ–¼0æ™‚è¿”å›æœ€å¾Œä¸€å¼µ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> handImgLoad = <span class="function">(<span class="params">imgArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>; <span class="comment">// é€éiè¨˜éŒ„loadingè·‘å®Œæ²’</span></span><br><span class="line">  imgArr.forEach(<span class="function">(<span class="params">image</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> newImage = <span class="keyword">new</span> Image(); <span class="comment">// å»ºç«‹Imageå¯¦é«”</span></span><br><span class="line">    newImage.src = image.url; <span class="comment">// é€ésrcå»è§¸ç™¼onloadäº‹ä»¶</span></span><br><span class="line">    newImage.onload = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      i++;</span><br><span class="line">      <span class="keyword">if</span> (imgArr.length === i) &#123;</span><br><span class="line">        <span class="comment">//åœ–ç‰‡è·‘å®Œå¾ŒåŸ·è¡Œ</span></span><br><span class="line">        imgArray.arr = imgArr;</span><br><span class="line">        isLoad.value = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  axios.get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    handImgLoad(res.data);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> &#123; imgArray, ImgIdx, isLoad, ImgIdxAdd, ImgIdxRemove &#125;;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>axios</tag>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£Bug-defineProps is a compiler macro and no longer needs to be imported.</title>
    <url>/2022/04/27/bug-defineProps/</url>
    <content><![CDATA[<p><img src="https://imgur.com/u3IhKJS.jpg" alt="defineProps error"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineProps, defineEmits &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> props = defineProps(&#123;</span><br><span class="line">  foo: <span class="built_in">String</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emit = defineEmits([<span class="string">&#x27;change&#x27;</span>, <span class="string">&#x27;delete&#x27;</span>])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>åœ¨ Vue3 ç·¨è­¯æ™‚å‡ºç¾é€™å€‹è­¦å‘Š<br>[@vue/compiler-sfc] defineProps is a compiler macro and no longer needs to be imported.<br>[@vue/compiler-sfc] defineEmits is a compiler macro and no longer needs to be imported.</p>
<a id="more"></a>
<br/>
<br/>

<h1 id="è§£è­¯bug"><a href="#è§£è­¯bug" class="headerlink" title="è§£è­¯bug"></a>è§£è­¯bug</h1><p>âš ï¸ <strong>@vue/compiler-sfc</strong><br>Vue å–®æ–‡ä»¶çµ„ä»¶(SFC) ç·¨è­¯è­¦å‘Š</p>
<p>âš ï¸<strong>defineProps is a compiler macro and no longer needs to be imported.</strong><br>defineProps æ˜¯ä¸€å€‹ç·¨è­¯å™¨å·¨é›†ï¼Œä¸å†éœ€è¦å°å…¥ã€‚</p>
<p>âš ï¸<strong>defineEmits is a compiler macro and no longer needs to be imported.</strong><br>defineEmits æ˜¯ä¸€å€‹ç·¨è­¯å™¨å·¨é›†ï¼Œä¸å†éœ€è¦å°å…¥ã€‚<br><br/><br><br/></p>
<h1 id="éŒ¯èª¤åŸå› "><a href="#éŒ¯èª¤åŸå› " class="headerlink" title="éŒ¯èª¤åŸå› "></a>éŒ¯èª¤åŸå› </h1><p>definePropså’Œ defineEmits éƒ½æ˜¯åªåœ¨ <code>&lt;script setup&gt;</code> ä¸­æ‰èƒ½ä½¿ç”¨çš„ç·¨è­¯å™¨å·¨é›†ã€‚<br>ä»–å€‘ä¸éœ€è¦å°å…¥ä¸”æœƒéš¨è‘— <code>&lt;script setup&gt;</code> è™•ç†éç¨‹ä¸€åŒè¢«ç·¨è­¯æ‰<br><br/><br><br/></p>
<h1 id="å¦‚ä½•è§£æ±º"><a href="#å¦‚ä½•è§£æ±º" class="headerlink" title="å¦‚ä½•è§£æ±º"></a>å¦‚ä½•è§£æ±º</h1><p>å°‡ import çš„ <code>defineProps</code>ã€<code>defineEmits</code> ç§»é™¤å³å¯</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"><span class="comment">// import &#123; defineProps, defineEmits &#125; from &#x27;vue&#x27;; // åˆªé™¤é€™è¡Œ</span></span><br><span class="line"><span class="keyword">const</span> props = defineProps(&#123;</span><br><span class="line">  foo: <span class="built_in">String</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emit = defineEmits([<span class="string">&#x27;change&#x27;</span>, <span class="string">&#x27;delete&#x27;</span>])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<hr>
<p><a href="https://v3.cn.vuejs.org/api/sfc-script-setup.html">å®˜æ–¹æ–‡ä»¶</a></p>
<hr>
<p>å¦‚æœé€™ç¯‡æ–‡ç« å°ä½ æœ‰å¹«åŠ©ï¼Œè«‹å¹«å°ç·¨æŒ‰å€‹è®šğŸ‘ï½ä½ çš„é¼“å‹µæ˜¯æˆ‘åˆ†äº«çš„å‹•åŠ›ğŸ˜Š</p>
]]></content>
      <categories>
        <category>Bugè¨˜éŒ„</category>
      </categories>
      <tags>
        <tag>defineProps</tag>
        <tag>defineEmits</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue Component çµ„ä»¶åŸºæœ¬ä»‹ç´¹</title>
    <url>/2021/03/10/components-base/</url>
    <content><![CDATA[<h1 id="çµ„ä»¶åŸºæœ¬ä»‹ç´¹"><a href="#çµ„ä»¶åŸºæœ¬ä»‹ç´¹" class="headerlink" title="çµ„ä»¶åŸºæœ¬ä»‹ç´¹"></a>çµ„ä»¶åŸºæœ¬ä»‹ç´¹</h1><p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"></span><br><span class="line">createApp(App).use(router).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p>main.js ç‚ºç¶²ç«™ä¸»ç¨‹å¼çš„é€²å…¥é»ï¼ŒVue çš„åˆå§‹åŒ–æ“ä½œéƒ½åœ¨æ­¤è¨­å®š<br>åªè¦æœ‰ä½¿ç”¨åˆ°æ“´å……åŠŸèƒ½ï¼Œéƒ½è¦ç”¨<code>.use</code> ä¸²æ¥åˆ°ä¸»ç¨‹å¼</p>
<hr>
<h1 id="æ‹†åˆ†çµ„ä»¶"><a href="#æ‹†åˆ†çµ„ä»¶" class="headerlink" title="æ‹†åˆ†çµ„ä»¶"></a>æ‹†åˆ†çµ„ä»¶</h1><p>App.vue<br>JS</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;@/components/Header.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">&quot;@/components/Footer.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Header,</span><br><span class="line">    Footer,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>template</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>CSS</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">-webkit-box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">-moz-box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Microsoft JhengHei&quot;</span>, <span class="string">&quot;Heiti TC&quot;</span>, <span class="string">&quot;sans-serif&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>@æ˜¯çµ¦ VueJs ä½¿ç”¨çš„ï¼Œä»£è¡¨ src è³‡æ–™å¤¾ï¼ŒCSS ä½¿ç”¨æ™‚é ˆåœ¨å‰é¢åŠ ä¸Šæ³¢æµªç¬¦<code>~@</code>ï¼Œä½¿ç”¨@å–ä»£../è·¯å¾‘ï¼Œé¿å… bundle çš„æ™‚å€™å‡ºéŒ¯</p>
<p>Header.vue<br>æ”¹å¯«æˆ SCSS æ™‚é ˆåŠ ä¸Š <code>lang=&quot;scss&quot;</code>ï¼Œä¸¦å°‡ RWD @media æ”¾é€²è‡ªå·±çš„ class<br><code>scoped</code> åªé™åˆ¶æ­¤æª”æ¡ˆå…ƒç´ çš„ style</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: greenyellow;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#373c3f</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">97px</span>;</span><br><span class="line">  @media screen and (max-width: 640px) &#123;</span><br><span class="line">    <span class="selector-tag">transition</span>: <span class="selector-tag">height</span> 0.2<span class="selector-tag">s</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: 37<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt; <span class="selector-tag">nav</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1024px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    @media screen and (max-width: 1044px) &#123;</span><br><span class="line">      <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">640px</span>) &#123;</span><br><span class="line">      <span class="selector-tag">width</span>: 100%;</span><br><span class="line">      <span class="selector-tag">height</span>: 232<span class="selector-tag">px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/<span class="selector-tag">style</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="æ³¨å…¥å…¨åŸŸçš„-CSS"><a href="#æ³¨å…¥å…¨åŸŸçš„-CSS" class="headerlink" title="æ³¨å…¥å…¨åŸŸçš„ CSS"></a>æ³¨å…¥å…¨åŸŸçš„ CSS</h3><p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;@/assets/css/reset.css&quot;</span>;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>Vue-cli</tag>
      </tags>
  </entry>
  <entry>
    <title>çµ„ä»¶è³‡æ–™å‚³é emit-å­å±¤å‚³åƒæ•¸åˆ°çˆ¶å±¤</title>
    <url>/2021/03/14/components-emit/</url>
    <content><![CDATA[<h1 id="çµ„ä»¶è³‡æ–™å‚³é-emit-å­å‚³çˆ¶"><a href="#çµ„ä»¶è³‡æ–™å‚³é-emit-å­å‚³çˆ¶" class="headerlink" title="çµ„ä»¶è³‡æ–™å‚³é emit (å­å‚³çˆ¶)"></a>çµ„ä»¶è³‡æ–™å‚³é emit (å­å‚³çˆ¶)</h1><p>ä½¿ç”¨ emit å¾€ä¸Šå‚³éè³‡æ–™</p>
<a id="more"></a>

<p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> EmitTest <span class="keyword">from</span> <span class="string">&quot;@/components/EmitTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    EmitTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      clickFn,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EmitTest</span> @<span class="attr">callBack</span>=<span class="string">&quot;clickFn&quot;</span> /&gt;</span> // @åœ¨emitå®šç¾©çš„è®Šæ•¸=&quot;çˆ¶å±¤Fn&quot;</span><br></pre></td></tr></table></figure>
<p>EmitTest.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props, context</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      context.emit(<span class="string">&quot;callBack&quot;</span>, num); <span class="comment">// emit(è‡ªå®šç¾©è®Šæ•¸, è¦ä½¿ç”¨çš„åƒæ•¸)</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>setup æ¥æ”¶å…©å€‹åƒæ•¸ï¼Œå‰é¢ç‚º propsï¼Œç¬¬äºŒå€‹ context<br>ä½¿ç”¨ emit ä¹Ÿå¯ä»¥ç›´æ¥è§£æ§‹å‡ºä¾†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">setup</span>(<span class="params">props, &#123;emit&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    onMounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      emit(<span class="string">&quot;callBack&quot;</span>, num);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="emits-çš„ä½¿ç”¨"><a href="#emits-çš„ä½¿ç”¨" class="headerlink" title="emits çš„ä½¿ç”¨"></a>emits çš„ä½¿ç”¨</h1><p>è²æ˜æœ‰ä½¿ç”¨åˆ°çš„ emitï¼Œå¯ä»¥å¯«æˆ Array<br>emit ä¹Ÿå¯ä»¥å¯«æˆ object ä¾†åšé©—è­‰çš„å‹•ä½œ<br>å¦‚é©—è­‰æœªé€šéï¼Œconsole æœƒè·³å‡º warning çš„æç¤ºä¾†å‘Šè¨´é–‹ç™¼è€…</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  emits: &#123;</span><br><span class="line">    callBack: <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> num.value === <span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; emit &#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">1</span>);</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      emit(<span class="string">&quot;callBack&quot;</span>, num);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="è¨ˆæ•¸å™¨ç¯„ä¾‹"><a href="#è¨ˆæ•¸å™¨ç¯„ä¾‹" class="headerlink" title="è¨ˆæ•¸å™¨ç¯„ä¾‹"></a>è¨ˆæ•¸å™¨ç¯„ä¾‹</h1><p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> EmitTest <span class="keyword">from</span> <span class="string">&quot;@/components/EmitTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    EmitTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> handTimeOut = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;time is over&quot;</span>, num.value);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      handTimeOut,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EmitTest</span> @<span class="attr">TimeOut</span>=<span class="string">&quot;handTimeOut&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>EmitTest.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  emits: &#123;</span><br><span class="line">    TimeOut: <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (num.value === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; emit &#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        num.value--;</span><br><span class="line">        <span class="keyword">if</span> (num.value === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">          emit(<span class="string">&quot;TimeOut&quot;</span>, num);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>emit</tag>
      </tags>
  </entry>
  <entry>
    <title>çµ„ä»¶è³‡æ–™å‚³é Props-çˆ¶å±¤å‚³åƒæ•¸åˆ°å­å±¤</title>
    <url>/2021/03/11/components-props/</url>
    <content><![CDATA[<h1 id="çµ„ä»¶è³‡æ–™å‚³é-Props-çˆ¶å‚³å­"><a href="#çµ„ä»¶è³‡æ–™å‚³é-Props-çˆ¶å‚³å­" class="headerlink" title="çµ„ä»¶è³‡æ–™å‚³é Props (çˆ¶å‚³å­)"></a>çµ„ä»¶è³‡æ–™å‚³é Props (çˆ¶å‚³å­)</h1><p>ä¸Šå±¤çš„ data é€é props å¾€ä¸‹å‚³ï¼Œä¸æœƒå¾€ä¸Šå‚³å› dataï¼Œæ‰€ä»¥ä¸‹å±¤çš„è³‡æ–™æ”¹è®Šä¸æœƒå½±éŸ¿åˆ°ä¸Šå±¤(data)</p>
<p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> PropsTest <span class="keyword">from</span> <span class="string">&quot;@/components/PropsTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    PropsTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = ref(<span class="string">&quot;hello Vue!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123; data &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropsTest</span> <span class="attr">:msg</span>=<span class="string">&quot;data&quot;</span> /&gt;</span> // :å­å±¤å±¬æ€§=&quot;çˆ¶å±¤ data&quot;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p>PropsTest.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: [<span class="string">&quot;msg&quot;</span>],</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; props &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;props.msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="Props-å‹æ…‹"><a href="#Props-å‹æ…‹" class="headerlink" title="Props å‹æ…‹"></a>Props å‹æ…‹</h1><p>props é›–å¯ä»¥ç‚ºé™£åˆ—ï¼Œä½†å»ºè­°ä½¿ç”¨<code>ç‰©ä»¶</code>è¡¨ç¤ºï¼Œç‰©ä»¶å¯ä»¥å®šç¾©å‹åˆ¥ï¼Œé‚„èƒ½è¨­å®š<code>é è¨­å€¼</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  msg: <span class="built_in">String</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  msg: &#123;</span><br><span class="line">    type: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">default</span>: <span class="string">&#x27;HI&#x27;</span> <span class="comment">// å¦‚ä¸Šå±¤æœªè¨­å®šmsgå€¼ï¼Œæœƒé¡¯ç¤ºHI</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="Props-å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼"><a href="#Props-å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼" class="headerlink" title="Props å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼"></a>Props å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼</h1><p>çˆ¶å±¤</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> PropsTest <span class="keyword">from</span> <span class="string">&quot;@/components/PropsTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    PropsTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> string = ref(<span class="string">&quot;string&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> boolean = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> array = reactive([]);</span><br><span class="line">    <span class="keyword">const</span> obj = reactive(&#123;&#125;);</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; string, boolean, num, array, obj, clickFn &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;PropsTest</span><br><span class="line">  :string=&quot;string&quot;</span><br><span class="line">  :boolean=&quot;boolean&quot;</span><br><span class="line">  :num=&quot;num&quot;</span><br><span class="line">  :array=&quot;array&quot;</span><br><span class="line">  :obj=&quot;obj&quot;</span><br><span class="line">  :clickFn=&quot;clickFn&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<br>
å­å±¤

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    string: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    boolean: &#123;</span><br><span class="line">      type: <span class="built_in">Boolean</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    num: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    array: &#123;</span><br><span class="line">      type: <span class="built_in">Array</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        [];</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    obj: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> (&#123;&#125;),</span><br><span class="line">      <span class="comment">// ç­‰æ–¼</span></span><br><span class="line">      <span class="comment">// default: ()=&gt;&#123;</span></span><br><span class="line">      <span class="comment">//   return &#123;&#125;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    clickFn: &#123;</span><br><span class="line">      type: <span class="built_in">Function</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; props &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>props</tag>
      </tags>
  </entry>
  <entry>
    <title>Cæ§½ç©ºé–“ä¸è¶³ï¼Œå®¹é‡çˆ†æ»¿ï¼Œæ¸…ç†windowsæ›´æ–°é€ æˆçš„å¤šé¤˜æª”æ¡ˆ</title>
    <url>/2022/07/19/computer-space-full/</url>
    <content><![CDATA[<p><img src="https://imgur.com/GpolNsn.jpg" alt="windows"></p>
<p>ä½œæ¥­ç³»çµ±ï¼šwin10<br>åœ¨ windows ç³»çµ±è‡ªå‹•æ›´æ–°å¾Œï¼Œçªç„¶ C æ§½å°±çˆ†æ»¿äº†ï¼Œå› ç‚ºæ›´æ–°å¾Œçš„ç³»çµ±æœƒç”¢ç”Ÿä¸€äº›å¤šé¤˜çš„æª”æ¡ˆï¼Œæœ‰äº›æ˜¯æ²’æœ‰ç”¨çš„å»¢æ£„æª”æ¡ˆï¼Œä¸å»æ¸…ç†åªæœƒè¶Šç©è¶Šå¤šï¼Œ<strong>ç³»çµ±ç¢Ÿå¤ªæ»¿å°±æœƒå°è‡´é›»è…¦è®Šæ…¢</strong>ï¼Œä»¥ä¸‹æŸ¥åˆ°äº†å…©å€‹æ–¹æ³•å¯ä»¥æ¸…ç†ç£ç¢Ÿï¼Œæ•´æ•´å¹«æˆ‘æ¸…å‡ºäº† 10G å¯ç”¨ç©ºé–“å‘¢ï¼ğŸ˜</p>
<a id="more"></a>

<h1 id="ç£ç¢Ÿæ¸…ç†"><a href="#ç£ç¢Ÿæ¸…ç†" class="headerlink" title="ç£ç¢Ÿæ¸…ç†"></a>ç£ç¢Ÿæ¸…ç†</h1><p>æœ€ç°¡å–®çš„æ–¹æ³•æ˜¯ç›´æ¥æ¸…ç†ç£ç¢Ÿ<br>å°è‘—æœ¬æ©Ÿç£ç¢ŸæŒ‰å³éµ â†’ <strong>å…§å®¹</strong><br><br/></p>
<p><img src="https://imgur.com/wcthMA2.jpg" alt="ç£ç¢Ÿæ¸…ç†1"><br><br/></p>
<p>é»æ“Š <strong>æ¸…ç†ç£ç¢Ÿ</strong> å¾Œæœƒé–‹å§‹è¨ˆç®—å¯ä»¥é‡‹æ”¾å¤šå°‘ç©ºé–“<br><img src="https://imgur.com/A7hwFR5.jpg" alt="ç£ç¢Ÿæ¸…ç†2"><br><img src="https://imgur.com/RRwNXwz.jpg" alt="ç£ç¢Ÿæ¸…ç†3"><br><br/></p>
<p>å†é»æ“Š <strong>ç¢ºå®š</strong>ï¼Œç­‰æ¸…ç†å®Œå°±å¤§åŠŸå‘Šæˆäº†!<br><img src="https://imgur.com/itajEP2.jpg" alt="ç£ç¢Ÿæ¸…ç†4"><br><br/><br/><br/></p>
<h1 id="é‡‹æ”¾å„²å­˜ç©ºé–“"><a href="#é‡‹æ”¾å„²å­˜ç©ºé–“" class="headerlink" title="é‡‹æ”¾å„²å­˜ç©ºé–“"></a>é‡‹æ”¾å„²å­˜ç©ºé–“</h1><p>å¦‚æœ ç£ç¢Ÿæ¸…ç† å¾Œï¼Œé‚„æ˜¯è¦ºå¾—ç©ºé–“ä¸å¤ ï¼Œå¯ä»¥å†è¨­å®šé‡‹æ”¾å„²å­˜ç©ºé–“<br>é¸æ“‡è¨­å®š â†’ ç³»çµ± â†’ å„²å­˜ç©ºé–“<br>ç³»çµ±æœƒåˆ—å‡ºæ‰€æ“æœ‰çš„ç£ç¢Ÿè£¡è£çš„å„ç¨®è»Ÿé«”ã€æš«å­˜ï¼ŒæŠŠä¸å¿…è¦çš„æª”æ¡ˆåˆªé™¤ï¼Œç£ç¢Ÿç©ºé–“å°±å¤šå‡ºä¾†äº†</p>
<p>å„²å­˜ç©ºé–“æ„ŸçŸ¥å™¨èƒ½è‡ªå‹•å»é™¤ä¸éœ€è¦çš„æª”æ¡ˆä¾†é‡‹å‡ºç©ºé–“ï¼Œä¾‹å¦‚æš«å­˜æª”æ¡ˆå’Œè³‡æºå›æ”¶ç­’ä¸­çš„å…§å®¹<br><img src="https://imgur.com/hcqwnai.jpg" alt="é‡‹æ”¾å„²å­˜ç©ºé–“1"><br><br/></p>
<p>é»æ“Š <strong>è¨­å®šæˆ–ç«‹å³åŸ·è¡Œå„²å­˜ç©ºé–“æ„ŸçŸ¥å™¨</strong><br><img src="https://imgur.com/ptTZoJr.jpg" alt="é‡‹æ”¾å„²å­˜ç©ºé–“2"><br><br/></p>
<p>é»æ“Š <strong>ç«‹å³æ¸…é™¤</strong><br><img src="https://imgur.com/s7oF1iW.jpg" alt="é‡‹æ”¾å„²å­˜ç©ºé–“3"><br><br/></p>
<p>é»æ“Š <strong>æ‡‰ç”¨ç¨‹å¼èˆ‡åŠŸèƒ½</strong> å¾Œï¼Œå¯ä»¥å¸è¼‰ä¸å¿…è¦çš„è»Ÿé«”<br><img src="https://imgur.com/1g2EKuh.jpg" alt="é‡‹æ”¾å„²å­˜ç©ºé–“4"><br><br/></p>
<p>é»æ“Š <strong>æš«å­˜æª”æ¡ˆ</strong><br><img src="https://imgur.com/Sjck0La.jpg" alt="é‡‹æ”¾å„²å­˜ç©ºé–“5"><br><br/></p>
<p>é»æ“Š <strong>ç§»é™¤æª”æ¡ˆ</strong>ï¼Œå¯ä»¥ç§»é™¤å¾ˆå¤šä¸å¿…è¦çš„æª”æ¡ˆ<br><img src="https://imgur.com/WDwJAuC.jpg" alt="é‡‹æ”¾å„²å­˜ç©ºé–“6"></p>
<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="8536485431"></ins></p>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>æ¸…ç†å®Œçœ‹èµ·ä¾†èˆ’æœå¾ˆå¤šğŸ¤©ï¼Œå¦‚æœä½ ç£ç¢Ÿçˆ†æ»¿ä¹Ÿå¯ä»¥è©¦è©¦çœ‹æ˜¯å¦æœ‰ç”¨å”·ï¼å¦‚æœå°ä½ æœ‰å¹«åŠ©ï¼Œå¸Œæœ›ä¹Ÿå¯ä»¥çµ¦æˆ‘ä¸€é»é¼“å‹µğŸ˜Š</p>
]]></content>
      <categories>
        <category>é›»è…¦ç›¸é—œå•é¡Œ</category>
      </categories>
      <tags>
        <tag>Cæ§½ç©ºé–“ä¸è¶³</tag>
        <tag>Cæ§½çˆ†æ»¿</tag>
        <tag>Cæ§½æ¸…ç†</tag>
        <tag>Cæ§½å®¹é‡ä¸è¶³</tag>
        <tag>cæ§½çªç„¶çˆ†æ»¿</tag>
      </tags>
  </entry>
  <entry>
    <title>Vite æ•™å­¸å¿«é€Ÿä¸Šæ‰‹ï¼Œç§’å®‰è£ç§’å•Ÿå‹•</title>
    <url>/2022/04/24/frontend-vite/</url>
    <content><![CDATA[<p><img src="https://imgur.com/iogr3On.jpg" alt="vite"></p>
<p>Vite æ˜¯ç”± Vue ä¹‹çˆ¶ å°¤é›¨æºªé–‹ç™¼çš„æ–°æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥èªªæ˜¯ Vue Cli çš„å‡ç´šç‰ˆï¼ŒCli å› ç‚ºæœ‰ä¾è³´ webpack è§£æ±ºäº†å¾ˆå¤šæ‰“åŒ…ä¸Šè¤‡é›œçš„å•é¡Œï¼Œç„¶è€Œï¼Œç•¶å°ˆæ¡ˆè¶Šä¾†è¶Šå¤§ï¼Œæ‰“åŒ…æ™‚é–“éš¨è‘—å°ˆæ¡ˆè®Šå¤§åŒ…è·‘å¾—è¶Šä¹…ï¼Œå¤§å¤§é™ä½äº†é–‹ç™¼è€…çš„é–‹ç™¼æ•ˆç‡å’Œå¹¸ç¦æ„Ÿã€‚</p>
<p><strong>vite è§£æ±ºäº†é–‹ç™¼é€Ÿåº¦ä¸Šçš„ç—›é»ï¼Œç§’å•Ÿå‹•æ ¹æœ¬é©šç‚ºå¤©äºº</strong>âš¡ï¸âš¡ï¸âš¡ï¸ï¼æ‰“åŒ…é€Ÿåº¦æ¥µå¿«ï¼Œä¸ç”¨åƒ vue-cli è¦é€²è¡Œç·¨è­¯å¾Œå•Ÿå‹•ï¼Œçœäº†å¾ˆå¤šé–‹ç™¼ä¸Šçš„æ™‚é–“ã€‚</p>
<a id="more"></a>

<br />

<h1 id="Vite-æ˜¯ä»€éº¼"><a href="#Vite-æ˜¯ä»€éº¼" class="headerlink" title="Vite æ˜¯ä»€éº¼?"></a>Vite æ˜¯ä»€éº¼?</h1><p>Vite æ³•èªæ„ç‚ºã€Œå¿«é€Ÿã€çš„æ„æ€ï¼Œæä¾›é–‹ç™¼è€…ä¸€å€‹å¿«é€Ÿå•Ÿå‹•ã€å³æ™‚æ›´æ–°çš„é–‹ç™¼å·¥å…·ï¼Œé è¨­ç„¡è¨­å®šæª”ã€‚</p>
<p>ğŸ”¸ é–‹ç™¼ç’°å¢ƒï¼šåŸºæ–¼ç€è¦½å™¨åŸç”Ÿ ES Module æä¾›çš„å…§å»ºåŠŸèƒ½ï¼Œèƒ½å¤ é€šé import å’Œ export é€£çµæª”æ¡ˆï¼Œä¸¦æœ‰åŸºæ–¼ esbuild çš„ä¾è³´é å»ºæ§‹ï¼Œæ“æœ‰é€Ÿåº¦å¿«åˆ°é©šäººçš„ç·©å­˜æ¨¡å¡Šç†±æ›´æ–°ï¼ˆHMRï¼‰ï¼ŒVite æœƒé å…ˆé‡å°æ‰€æœ‰æ¨¡çµ„é€²è¡Œè½‰è­¯èˆ‡æ‰“åŒ…ï¼Œç•¶ç€è¦½å™¨å†æ¬¡è«‹æ±‚æŸå€‹æ¨¡çµ„æ™‚ï¼Œå°±åªé‡å°è¢«æ›´æ”¹çš„æ¨¡çµ„é€²è¡Œç·¨è­¯ï¼Œé€™æ¨£å°±èƒ½é¿å…å¤šæ¬¡è«‹æ±‚çš„å•é¡Œäº†</p>
<p><span style="font-size: 16px; border: 1px dashed #d9d9d9; padding: 1rem; ">ğŸ“Œ ç†±æ›´æ–°ï¼šHot Module Replacementï¼Œç°¡ç¨± HMRï¼Œåœ¨ä¸åˆ·æ–°ç€è¦½å™¨çš„å‰æä¸‹å°±èƒ½å¤ å°æ‡‰ç”¨é€²è¡Œæ›´æ–°</span></p>
<br />

<p>ğŸ”¸ ç”Ÿç”¢ç’°å¢ƒï¼šä½¿ç”¨ Rollup æ‰“åŒ…ä»£ç¢¼ï¼Œé€éè¼ƒå¿«çš„æ™‚é–“ä¾†å°‡æª”æ¡ˆæ‰“åŒ…æˆæ›´å°å®¹é‡ã€‚</p>
<!-- æ–‡ç« å…§å»£å‘Š -->
<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="5051618728"></ins></p>
<h1 id="Vite-å®‰è£"><a href="#Vite-å®‰è£" class="headerlink" title="Vite å®‰è£"></a>Vite å®‰è£</h1><p>ä½¿ç”¨ NPM</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm create vite@latest</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ yarn</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn create vite</span><br></pre></td></tr></table></figure>
<br />

<p><strong>æ¥è‘—ä¾è‡ªå·±å°ˆæ¡ˆéœ€æ±‚ä¾†åšé¸æ“‡(ä»¥ä¸‹ä»¥ vue ç‚ºä¾‹)</strong></p>
<p>Project name: (å°ˆæ¡ˆåç¨±)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vite-project</span><br></pre></td></tr></table></figure>
<br />
Select a framework: (é¸æ“‡æ¡†æ¶)
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vanilla</span><br><span class="line">âœ” vue</span><br><span class="line">react</span><br><span class="line">preact</span><br><span class="line">lit</span><br><span class="line">svelte</span><br></pre></td></tr></table></figure>
<br />
Select a variant: (ä½¿ç”¨ js æˆ– ts)
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ” vue</span><br><span class="line">vue-ts</span><br></pre></td></tr></table></figure>
<br />

<p>é€™æ¨£å°±å®‰è£å®Œæˆäº†ï¼ï¼ï¼å¦å¤–é‚„æœ‰æ›´å¿«é€Ÿçš„æŒ‡ä»¤ï¼Œ<br>ä½ ä¹Ÿå¯ä»¥é€šéé™„åŠ çš„å‘½ä»¤è¡Œé¸é …<b>ç›´æ¥æŒ‡å®šå°ˆæ¡ˆåç¨±å’Œæ¡†æ¶æ¨¡æ¿</b></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># npm 6.x</span><br><span class="line">npm create vite@latest my-vue-app --template vue</span><br><span class="line"></span><br><span class="line"># npm 7+, extra double-dash is needed:</span><br><span class="line">npm create vite@latest my-vue-app -- --template vue</span><br><span class="line"></span><br><span class="line"># yarn</span><br><span class="line">yarn create vite my-vue-app --template vue</span><br></pre></td></tr></table></figure>
<br />

<p>ğŸ”¸ æ¡†æ¶æ¨¡æ¿</p>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>TypeScript</th>
</tr>
</thead>
<tbody><tr>
<td>vanilla</td>
<td>vanilla-ts</td>
</tr>
<tr>
<td>vue</td>
<td>vue-ts</td>
</tr>
<tr>
<td>react</td>
<td>react-ts</td>
</tr>
<tr>
<td>preact</td>
<td>preact-ts</td>
</tr>
<tr>
<td>lit</td>
<td>lit-ts</td>
</tr>
<tr>
<td>svelte</td>
<td>svelte-ts</td>
</tr>
</tbody></table>
<br />
æ³¨æ„ï¼š<br />
Vite éœ€è¦ Node.js ç‰ˆæœ¬ >= 12.0.0<br />
vue ç›®å‰åƒ…æ”¯æ´ vue3ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨èˆ‡ vue3 ä¸å…¼å®¹çš„å¥—ä»¶<br />
å¼•å…¥æª”æ¡ˆå¿…é ˆæ›è¼‰å‰¯æª”å

<br />
<br />
<br />

<h1 id="Vite-å°ˆæ¡ˆç›®éŒ„çµæ§‹"><a href="#Vite-å°ˆæ¡ˆç›®éŒ„çµæ§‹" class="headerlink" title="Vite å°ˆæ¡ˆç›®éŒ„çµæ§‹"></a>Vite å°ˆæ¡ˆç›®éŒ„çµæ§‹</h1><p>æ‰“é–‹å°ˆæ¡ˆå¾Œï¼Œå…¶å¯¦ç›®éŒ„çµæ§‹è·Ÿ Cli å·®ä¸å¤šï¼Œåªæ˜¯å¤šäº†ä¸€å€‹ vite çš„è¨­å®šæª” vite.config.js<br><br /></p>
<p><img src="https://imgur.com/hu4VSoP.jpg" alt="viteç›®éŒ„"></p>
<br />

<p>æ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ï¼Œåœ¨ Cli æ™‚ index.html æ˜¯åœ¨ public æ–‡ä»¶å¤¾å…§ï¼Œè€Œ Vite æ”¾åœ¨æœ€å¤–å±¤äº†ï¼Œindex.html æ˜¯ Vite é …ç›®çš„å…¥å£æ–‡ä»¶ï¼ŒåŸç¢¼ä¹Ÿåšäº†ä¸€äº›èª¿æ•´ã€‚</p>
<p><img src="https://imgur.com/GuYJb6p.jpg" alt="index"></p>
<p>ç€è¦½å™¨é€é JavaScript çš„ <code>&lt;script type=&quot;module&quot;&gt;</code> æ‰¾åˆ° main.js é€²å…¥é»ï¼Œä¾¿å¯ä»¥ä½¿ç”¨ <strong>ESM èªæ³•</strong>ï¼Œæ ¹æ“š import çš„ url è·¯å¾‘åŠ è¼‰æ¨¡çµ„ï¼Œ<br>Vite æœ‰<strong>æ ¹ç›®éŒ„</strong>çš„æ¦‚å¿µï¼Œindex.html ä¸­çš„ URL è‡ªå‹•è½‰æ›çµ•å°è·¯å¾‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸å°è·¯å¾‘å°å…¥ï¼Œå› æ­¤ä¸å†éœ€è¦ %PUBLIC_URL% ä½”ä½ç¬¦äº†ã€‚</p>
<br />
<br />

<h1 id="å…±ç”¨-SCSS-è®Šæ•¸"><a href="#å…±ç”¨-SCSS-è®Šæ•¸" class="headerlink" title="å…±ç”¨ SCSS è®Šæ•¸"></a>å…±ç”¨ SCSS è®Šæ•¸</h1><p>vite å…±ç”¨ SCSS è®Šæ•¸éœ€åœ¨ <code>vite.config</code> è¨­å®šï¼Œ<br>ç”±æ–¼ vite æ²’æœ‰å…§å»º @ çš„èªæ³•ç³–ï¼Œå¦‚è¦ä½¿ç”¨éœ€è¨­å®š aliasï¼Œæ›´å¤šè¨­å®šè«‹åƒè€ƒ<a href="https://vitejs.dev/config/">å®˜æ–¹æ–‡ä»¶</a></p>
<p>vite.config</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  plugins: [vue()],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  css:&#123;</span><br><span class="line">    preprocessorOptions: &#123;</span><br><span class="line">       scss: &#123;</span><br><span class="line">         additionalData: <span class="string">`@import &quot;@/assets/scss/variable.scss&quot;;`</span>,</span><br><span class="line">         charset: <span class="literal">false</span>,</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<br />
<br />

<h1 id="Vite-è·Ÿ-Cli-å°æ¯”"><a href="#Vite-è·Ÿ-Cli-å°æ¯”" class="headerlink" title="Vite è·Ÿ Cli å°æ¯”"></a>Vite è·Ÿ Cli å°æ¯”</h1><table>
<thead>
<tr>
<th></th>
<th>Vite</th>
<th>Vue-Cli</th>
</tr>
</thead>
<tbody><tr>
<td>æ‰“åŒ…å·¥å…·</td>
<td>rollup</td>
<td>webpack</td>
</tr>
<tr>
<td>æ•ˆèƒ½</td>
<td>å¿«</td>
<td>æ…¢</td>
</tr>
<tr>
<td>åŠŸèƒ½</td>
<td>åŠŸèƒ½è¼ƒåŸºæœ¬ã€ç°¡å–®</td>
<td>webpack åŠŸèƒ½æ€§è¼ƒè±å¯Œ</td>
</tr>
<tr>
<td>æ¡†æ¶å…¼å®¹</td>
<td>æä¾›å¤šç¨®æ¡†æ¶æ”¯æ´ï¼ŒVue åªæ”¯æ´ Vue3 ä»¥ä¸Š</td>
<td>åƒ…æ”¯æ´ Vue æ¡†æ¶ï¼ŒVue2ã€Vue3 éƒ½å…¼å®¹</td>
</tr>
<tr>
<td>ç€è¦½å™¨å…¼å®¹</td>
<td>åƒ…æ”¯æ´ ES6 çš„ç€è¦½å™¨</td>
<td>å› æœ‰ babel å¯å…¼å®¹å¤šç¨®ç€è¦½å™¨</td>
</tr>
</tbody></table>
<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="8536485431"></ins></p>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>Vite çš„å¿«é€Ÿçœäº†å¾ˆå¤šé–‹ç™¼æ™‚é–“ï¼Œæ˜¯é–‹ç™¼è€…çš„ç¦éŸ³ï¼Œå°¤é›¨æºªåœ¨ twitter ä¹Ÿç™¼è¡¨äº†ï¼Œ<br><strong>Vite æœƒå–ä»£ Vue CLI å—ï¼Ÿ</strong><br><br /></p>
<p><img src="https://imgur.com/35PNPXZ.jpg" alt="å°¤é›¨æºªtwitter"></p>
<br />

<p><strong>èµ·åˆï¼Œæˆ‘ä¹Ÿä¸ç¢ºå®šï¼Œä½†æ˜¯ç¾éšæ®µæˆ‘ç›¸ä¿¡æœ€çµ‚æœƒæ˜¯é€™æ¨£ã€‚</strong></p>
<p>ä½ å­¸æœƒ vite äº†å—?</p>
<hr>
<h1 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»"></a>åƒè€ƒæ–‡ç»</h1><p><a href="https://cn.vitejs.dev/guide/">Vite å®˜æ–¹æ–‡ä»¶</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯å·¥å…·</category>
      </categories>
      <tags>
        <tag>vite</tag>
        <tag>vite æ•™å­¸</tag>
        <tag>vite scsså…±ç”¨è®Šæ•¸</tag>
      </tags>
  </entry>
  <entry>
    <title>ngrokæ•™å­¸-å¾å¤–éƒ¨é€£åˆ°localhoståŸ·è¡Œä½ çš„ç¶²ç«™</title>
    <url>/2022/06/13/frontend-ngrok/</url>
    <content><![CDATA[<p><img src="https://imgur.com/L7Qvsfy.jpg" alt="ngrok"></p>
<p>ä½ æ˜¯å¦æœ‰é‡éï¼Œæƒ³æ¸¬è©¦ä¸€å€‹åŠŸèƒ½ï¼Œæˆ–æ˜¯æƒ³åœ¨ä¸åŒè£ç½®ä¸Šæ¸¬è©¦ï¼Œå»åˆè¦å¤§è²»å‘¨ç« éƒ¨ç½²åˆ°æ¸¬è©¦æ©Ÿï¼Œä½ å…¶å¯¦å¯ä»¥ä¸ç”¨é€™éº¼éº»ç…©ï¼<br>ngrok å¯ä»¥åœ¨æœ¬åœ° localhost çš„ç’°å¢ƒä¸‹ç›´æ¥é€²è¡Œæ¸¬è©¦ï¼Œé‡é»æ˜¯ <strong>å…è²»ç‰ˆ</strong> å°±å¤ çµ¦æˆ‘å€‘ä¸€èˆ¬ä½¿ç”¨<br><br/><br/></p>
<a id="more"></a>

<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="8536485431"></ins></p>
<h1 id="ä¸‹è¼‰-ngrok"><a href="#ä¸‹è¼‰-ngrok" class="headerlink" title="ä¸‹è¼‰ ngrok"></a>ä¸‹è¼‰ ngrok</h1><p>é¦–å…ˆ<a href="https://ngrok.com/download">Install ngrok</a>ï¼Œä¾è‡ªå·±çš„ OS ä½œæ¥­ç³»çµ±é¸æ“‡æª”æ¡ˆ<br><br/><br/></p>
<h1 id="è¨»å†Š-ngrok-å¸³è™Ÿ"><a href="#è¨»å†Š-ngrok-å¸³è™Ÿ" class="headerlink" title="è¨»å†Š ngrok å¸³è™Ÿ"></a>è¨»å†Š ngrok å¸³è™Ÿ</h1><p>é€²å…¥ <a href="https://ngrok.com/">ngrok å®˜ç¶²</a>ï¼Œå¯ä»¥ç”¨ github æˆ– google å¸³è™Ÿå»ºç«‹ï¼Œæˆ–æ˜¯è‡ªè¡Œå»ºç«‹ä¸€å€‹å¸³è™Ÿ<br><br/><br/></p>
<h1 id="ç™»å…¥-ngrok-å–å¾—-token"><a href="#ç™»å…¥-ngrok-å–å¾—-token" class="headerlink" title="ç™»å…¥ ngrok å–å¾— token"></a>ç™»å…¥ ngrok å–å¾— token</h1><p>ç›´æ¥æŠŠ Command Line è¤‡è£½ä¸‹ä¾†<br><img src="https://imgur.com/TIW1WYt.jpg" alt="ngrok token"><br><br/><br/></p>
<h1 id="åŠ å…¥-token"><a href="#åŠ å…¥-token" class="headerlink" title="åŠ å…¥ token"></a>åŠ å…¥ token</h1><p>å°‡ Command Line è²¼åˆ°å‰›ä¸‹è¼‰çš„ ngrok.exe<br>è¨­å®šå®Œä¹‹å¾Œæœƒçœ‹åˆ°è‡ªå‹•å»ºç«‹äº† ngrok.yml<br><br/></p>
<p><img src="https://imgur.com/PIH8hgB.jpg" alt="ngrok token"><br><br/><br/></p>
<h1 id="å•Ÿç”¨é€£åˆ°-local-çš„-web-æœå‹™"><a href="#å•Ÿç”¨é€£åˆ°-local-çš„-web-æœå‹™" class="headerlink" title="å•Ÿç”¨é€£åˆ° local çš„ web æœå‹™"></a>å•Ÿç”¨é€£åˆ° local çš„ web æœå‹™</h1><p>ä¾æœ¬åœ°ç«¯çš„åŸ è™Ÿå»ä¸‹æŒ‡ä»¤ï¼Œå¦‚æœæˆ‘çš„æœ¬åœ°æ˜¯ localhost:4000 é‚£å°±æœƒæ˜¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ngrok http 4000</span><br></pre></td></tr></table></figure>
<p>ä¹‹å¾Œå°±æœƒå‡ºç¾ä»¥ä¸‹ç•«é¢<br><br/></p>
<p><img src="https://imgur.com/9KrXRa9.jpg" alt="ngrok http"><br>æŠŠç¶²å€è²¼åˆ°ç€è¦½å™¨ä¸ŠåŸ·è¡Œï¼Œå°±æœƒå‡ºç¾ä½ æœ¬åœ°ç«¯çš„ç¶²ç«™å•¦ï½</p>
<p><img src="https://imgur.com/fErKOQK.jpg" alt="ngrok http"><br><br/><br/></p>
<hr>
<h1 id="ä½¿ç”¨æ¡†æ¶æ™‚é‡åˆ°-invalid-host-header"><a href="#ä½¿ç”¨æ¡†æ¶æ™‚é‡åˆ°-invalid-host-header" class="headerlink" title="ä½¿ç”¨æ¡†æ¶æ™‚é‡åˆ° invalid host header"></a>ä½¿ç”¨æ¡†æ¶æ™‚é‡åˆ° invalid host header</h1><p>vue çš„è§£æ±ºæ–¹å¼æ˜¯ç›´æ¥åœ¨ vue.config.js çš„åœ°æ–¹è¨­å®š <code>disableHostCheck: true</code>ï¼Œå°±å¯ä»¥é–‹å•Ÿå›‰ï¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">     disableHostCheck: <span class="literal">true</span>,</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br/>

<p>ä½¿ç”¨ React æ™‚ï¼Œç¶²å‹ä¹Ÿæä¾›äº†è§£æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ngrok http <span class="number">8080</span> -host-header=<span class="string">&quot;localhost:8080&quot;</span></span><br><span class="line">ngrok http --host-header=rewrite <span class="number">8080</span></span><br></pre></td></tr></table></figure>
<p>è¨˜å¾—å°‡ 8080 æ”¹æˆè‡ªå·±çš„ port è™Ÿå“¦ï¼</p>
<br/>

<h1 id="éŒ¯èª¤-Your-account-is-limited-to-1-simultaneous-ngrok-agent-session"><a href="#éŒ¯èª¤-Your-account-is-limited-to-1-simultaneous-ngrok-agent-session" class="headerlink" title="éŒ¯èª¤: Your account is limited to 1 simultaneous ngrok agent session."></a>éŒ¯èª¤: Your account is limited to 1 simultaneous ngrok agent session.</h1><p>å¦‚æœå‡ºç¾æ­¤éŒ¯èª¤: ä»–çš„æ„æ€æ˜¯ä½ ä½¿ç”¨äº†ä¸€å€‹ä»¥ä¸Šçš„ä»£ç†ï¼Œ<br>ç•¶ä¸‹æ‰¾ä¸åˆ°æ–·é–‹çš„æ–¹å¼ï¼Œæœ€è¬èƒ½çš„è§£æ³•æ˜¯ <strong>é‡é–‹æ©Ÿ</strong> å°±æœƒå¥½å›‰ğŸ˜‚</p>
<hr>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>æœ‰æ™‚åœ¨æª¢æŸ¥ç¶²ç«™è£ç½®ç•«é¢åŠŸèƒ½ï¼Œå¯èƒ½æœƒè·Ÿåœ¨è¡Œå‹•è£ç½®ä¸Šæœ‰ä¸åŒç‹€æ³ç™¼ç”Ÿï¼Œngrok å°±å¾ˆé©åˆæ‹¿ä¾†æ¸¬è©¦è¡Œå‹•è£ç½®ä¸Šçš„å•é¡Œï¼Œä¹Ÿä¸éœ€è¦ä¸€ç›´é‡è¤‡éƒ¨ç½²ï¼ŒçœŸçš„å¾ˆæ–¹ä¾¿å‘¢ï¼å¦‚æœæˆ‘çš„æ–‡ç« æœ‰å¹«åŠ©åˆ°ä½ ï¼Œæ­¡è¿çµ¦æˆ‘ä¸€é»é¼“å‹µå“¦ğŸ‘ğŸ‘ğŸ‘</p>
]]></content>
      <categories>
        <category>å‰ç«¯å·¥å…·</category>
      </categories>
      <tags>
        <tag>ngrok</tag>
        <tag>ngrok æ•™å­¸</tag>
        <tag>ngrok token</tag>
        <tag>invalid host header</tag>
        <tag>Your account is limited to 1 simultaneous ngrok agent session.</tag>
      </tags>
  </entry>
  <entry>
    <title>Git å¸¸ç”¨æŒ‡ä»¤</title>
    <url>/2021/10/17/git-cmdline/</url>
    <content><![CDATA[<p><img src="https://imgur.com/6mK0zWq.jpg" alt="Git"></p>
<h1 id="Git-å¸¸ç”¨æŒ‡ä»¤"><a href="#Git-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="Git å¸¸ç”¨æŒ‡ä»¤"></a>Git å¸¸ç”¨æŒ‡ä»¤</h1><p><strong>Git æ˜¯å¦æœ‰å®‰è£æˆåŠŸï¼š</strong><code>git --version</code></p>
<a id="more"></a>

<p><strong>è¨­å®š/ä¿®æ”¹å€‹äººè³‡æ–™</strong></p>
<ul>
<li>è¼¸å…¥å§“åï¼š<code>git config --global user.name &quot;gon&quot;</code></li>
<li>è¼¸å…¥å€‹äººçš„ emailï¼š<code>git config --global user.email &quot;gonsakon@gmail.com&quot;</code></li>
<li>æŸ¥è©¢ git è¨­å®šå…§å®¹ï¼š<code>git config --list</code></li>
<li>æŸ¥çœ‹ç”¨æˆ·åï¼š<code>git config user.name</code></li>
<li>æŸ¥çœ‹ç”¨æˆ·é‚®ç®±ï¼š<code>git config user.email</code></li>
</ul>
<p><strong>Git å¸¸ç”¨æŒ‡ä»¤</strong></p>
<ul>
<li>åˆå§‹åŒ–æ•¸æ“šåº«ï¼š<code>git init</code></li>
<li>æŸ¥è©¢ç•¶å‰ç‹€æ…‹ï¼š<code>git status</code></li>
<li>å°‡æª”æ¡ˆåŠ å…¥åˆ°ç´¢å¼•ï¼š<code>git add .</code></li>
<li>å°‡ç´¢å¼•æª”æ¡ˆè®Šæˆä¸€å€‹æ›´æ–°(commit)ï¼š<code>git commit -m &quot;ä¿®æ”¹å…§å®¹&quot;</code></li>
<li>è§€å¯Ÿ commit æ­·å²ç´€éŒ„ï¼š <code>git log</code></li>
<li>ä¸‹è¼‰é ç«¯æ•¸æ“šåº«ï¼š<code>git clone æ•¸æ“šåº«ç¶²å€</code></li>
<li>æ›´æ–°é ç«¯æ•¸æ“šåº«ï¼š<code>git push origin master</code></li>
<li>ä¸‹è¼‰åŒæ­¥æ›´æ–°ï¼š<code>git pull</code></li>
</ul>
<p><strong>åˆ†æ”¯ (branch)</strong></p>
<ul>
<li>æ–°å¢åˆ†æ”¯ï¼š<code>git branch åˆ†æ”¯åç¨±</code></li>
<li>æŸ¥çœ‹åˆ†æ”¯ï¼š<code>git branch</code></li>
<li>åˆ‡æ›åˆ†æ”¯ï¼š<code>git checkout åˆ†æ”¯åç¨±</code></li>
<li>å»ºç«‹ä¸¦åˆ‡æ›åˆ†æ”¯ï¼š<code>git checkout -b åˆ†æ”¯åç¨±</code></li>
<li>åˆªé™¤åˆ†æ”¯ï¼š<code>git branch -d åˆ†æ”¯åç¨±</code> (-D æ˜¯å¼·åˆ¶åˆªé™¤)</li>
<li>é‚„åŸä¸Šå€‹ç‰ˆæœ¬ï¼š<code>git reset HEAD^</code> (^ç‚ºè¦å›å»å“ªä¸€å€‹ç‰ˆæœ¬ï¼Œ^^å…©å€‹å°±æ˜¯å›åˆ°å‰å…©å€‹ç‰ˆæœ¬)</li>
<li>åˆä½µåˆ†æ”¯ï¼š<code>git merge åˆ†æ”¯åç¨±</code></li>
<li>å–æ¶ˆå¿«è½‰ï¼š<code>git merge åˆ†æ”¯åç¨± --no-ff</code></li>
<li>è§€çœ‹ç·šåœ–ï¼š<code>git log â€”oneline -graph</code></li>
<li>é‚„åŸåˆä½µå‰ç‹€æ…‹ï¼š<code>git reset â€”hard ORIG_HEAD</code></li>
</ul>
<p><strong>é‚„åŸæŠ€å·§</strong></p>
<ul>
<li>å›é ­è§€çœ‹ç‰ˆæœ¬å…§å®¹ï¼š<code>git checkout ç·¨è™Ÿ</code></li>
<li>è¿”å›æœ€æ–°çš„ç‰ˆæœ¬ï¼š<code>git checkout master(åˆ†æ”¯åç¨±)</code></li>
<li>ç´¢å¼•æª”æ¡ˆ&gt;é‚„åŸåˆ°å·¥ä½œç›®éŒ„ï¼š<code>git reset HEAD</code></li>
<li>é‚„åŸå‰å…©å€‹ç‰ˆæœ¬ï¼š<code>git reset HEAD^^</code></li>
<li>é‚„åŸå‰å…©å€‹ç‰ˆæœ¬ï¼Œæ‰€æœ‰æ›´æ–°æª”æ¡ˆéƒ½<strong>æ”¾æ£„</strong>ï¼š<code>git reset HEAD^^ --hard</code></li>
<li>è§€çœ‹è©³ç´°æ‰€æœ‰æ­·å²ç´€éŒ„ï¼š<code>git reflog</code></li>
<li>æ–°å¢æª”æ¡ˆæ™‚ï¼Œæª”æ¡ˆé‚„æ²’åŠ è¿½è¹¤æ™‚ï¼Œæ¸…ç©ºå·¥ä½œç›®éŒ„<br>é¡¯ç¤ºæ­¤æ¬¡æ¸…é™¤çš„æª”æ¡ˆï¼š<code>git clean -n</code><br>å¼·åˆ¶æ¸…é™¤æª”æ¡ˆï¼š<code>git clean -f</code></li>
<li>æª”æ¡ˆå·²åŠ å…¥è¿½è¹¤ï¼Œé‚„åŸå·¥ä½œç›®éŒ„ä¸Šå·²æ›´æ”¹çš„æª”æ¡ˆ ï¼š<code>git checkout -- &lt;file&gt;</code></li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>GitæŒ‡ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title>icoMoon æ•™å­¸-å°‡ icon ç”Ÿæˆåœ–æ¨™å­—é«”</title>
    <url>/2022/03/12/icomoon/</url>
    <content><![CDATA[<p><img src="https://imgur.com/STTYcIy.jpg" alt="icoMoon"><br>åœ¨ç¶²ç«™ä¸Šå¸¸å¸¸æœƒä½¿ç”¨åˆ° icon åœ–ç¤ºåšç‚ºé»ç¶´ï¼Œè€Œç¾ä»Šè¡Œå‹•ç‰ˆæ™®åŠåŒ–ï¼ŒéŸ¿æ‡‰å¼ç¶²ç«™å¤§å¤šä½¿ç”¨ç¸®æ”¾éƒ½ä¸æœƒå¤±çœŸçš„ svg å‘é‡åœ–æª”ï¼Œä¾†ç²å¾—æœ€ä½³çš„è¦–è¦ºé«”é©—ã€‚ç¶²è·¯æœ‰å¾ˆå¤šçš„æ’ä»¶å…§å»º svg åœ–ç¤ºå¯ä»¥åšç‚ºå­—å‹ä½¿ç”¨ï¼Œä¾‹å¦‚ <a href="https://fontawesome.com/icons">fontawesome</a> ä½¿ç”¨ä¸Šå°±å¾ˆæ–¹ä¾¿å¿«é€Ÿï¼Œä¸éæœ‰æ™‚å€™æƒ³è¦è‡ªè¡Œå®šç¾©åœ–ç¤ºï¼Œæˆ–æ˜¯åªæœ‰ç”¨åˆ°å°‘æ•¸çš„ iconï¼Œä¸æƒ³è¼‰å…¥å¤ªå¤§åŒ…æª”æ¡ˆï¼Œé€™æ¬¡è¦ä»‹ç´¹çš„å°±æ˜¯å¯ä»¥è‡ªè¡Œå®¢è£½ icon çš„ <a href="https://icomoon.io/">icoMoon</a></p>
<a id="more"></a>

<h1 id="IcoMoon-App-æ¦‚è¿°"><a href="#IcoMoon-App-æ¦‚è¿°" class="headerlink" title="IcoMoon App æ¦‚è¿°"></a>IcoMoon App æ¦‚è¿°</h1><ul>
<li>5500 å¤šå€‹å…è²»åœ–æ¨™</li>
<li>å¯ä»¥å°å‡º SVGã€PNG ç­‰æ ¼å¼çš„åœ–æ¨™ï¼ŒIcoMoon ç”Ÿæˆå¯èˆ‡ use æ¨™ç±¤ä¸€èµ·ä½¿ç”¨çš„å…§è¯ SVG</li>
<li>å°å…¥å®¢è£½çš„å‘é‡åœ–ï¼Œç”Ÿæˆåœ–æ¨™å­—é«”</li>
<li>IcoMoon ç”Ÿæˆçš„ä»£ç¢¼æ–‡ä»¶ï¼ˆHTMLã€CSSã€JSï¼‰æ˜¯ MIT è¨±å¯çš„ï¼Œå¯å…è²»ä½¿ç”¨</li>
<li>IcoMoon æ‡‰ç”¨ç¨‹åºä¸­æ‰€åšçš„å¹¾ä¹æ‰€æœ‰äº‹æƒ…éƒ½ç™¼ç”Ÿåœ¨æœ¬åœ°ã€‚ä¾‹å¦‚ï¼Œç•¶å°å…¥ SVG åœ–åƒ/å­—é«”æˆ–ç”Ÿæˆå­—é«”æ™‚ï¼Œä¸€åˆ‡éƒ½ç™¼ç”Ÿåœ¨è‡ªå·±çš„ç€è¦½å™¨ä¸­ï¼Œä¸æœƒä¸Šå‚³åˆ° IcoMoon çš„æœå‹™å™¨</li>
</ul>
<h1 id="IcoMoon-æ•™å­¸"><a href="#IcoMoon-æ•™å­¸" class="headerlink" title="IcoMoon æ•™å­¸"></a>IcoMoon æ•™å­¸</h1><p>å…ˆé€²å…¥ <a href="https://icomoon.io/app/">IcoMoon App</a></p>
<br/>

<h2 id="STEP-1-åŠ å…¥-icon"><a href="#STEP-1-åŠ å…¥-icon" class="headerlink" title="STEP 1.åŠ å…¥ icon"></a>STEP 1.åŠ å…¥ icon</h2><p>ğŸ”¸ åŠ å…¥ IcoMoon æ‰€æä¾›çš„ icon<br>å¾ <a href="https://icomoon.io/app/#/select/library">Icon Library</a> åœ–ç¤ºåº«å¯ä»¥åŠ å…¥ä½ æƒ³è¦çš„åœ–ç¤ºï¼ŒAdd ç‚ºå…è²»ç›´æ¥åŠ å…¥ï¼ŒPurchaseã€Go Premium éœ€è¦å‡ç´šè³¼è²·<br><img src="https://i.imgur.com/jd8pOqJ.jpg" alt="IcoMoon"></p>
<p>ğŸ”¸ å®¢è£½ icon<br>å·¦ä¸Šé»æ“Š Import Iconsï¼Œå°‡ svg åœ–æª”åŒ¯å…¥ï¼Œå¦‚åœ–<br><img src="https://i.imgur.com/wIiyeSu.png" alt="Import Icons"></p>
<br/>

<h2 id="STEP-2-é¸å–è¦ä½¿ç”¨çš„-icon"><a href="#STEP-2-é¸å–è¦ä½¿ç”¨çš„-icon" class="headerlink" title="STEP 2.é¸å–è¦ä½¿ç”¨çš„ icon"></a>STEP 2.é¸å–è¦ä½¿ç”¨çš„ icon</h2><p>å°‡è¦ä½¿ç”¨çš„ icon é»é¸èµ·ä¾†ï¼Œé¸èµ·ä¾†çš„åœ–ç¤ºæœƒè‡ªå‹•è®Šæˆä¸€å€‹ Selection<br><img src="https://i.imgur.com/p9kqsqE.jpg" alt="icoMoon-select"></p>
<br/>

<h2 id="STEP-3-ç”Ÿæˆåœ–æ¨™å­—é«”æˆ–åœ–ç¤ºï¼ŒDownload"><a href="#STEP-3-ç”Ÿæˆåœ–æ¨™å­—é«”æˆ–åœ–ç¤ºï¼ŒDownload" class="headerlink" title="STEP 3.ç”Ÿæˆåœ–æ¨™å­—é«”æˆ–åœ–ç¤ºï¼ŒDownload"></a>STEP 3.ç”Ÿæˆåœ–æ¨™å­—é«”æˆ–åœ–ç¤ºï¼ŒDownload</h2><p>ä½ å¯ä»¥é¸æ“‡ä½¿ç”¨ Generate Font æˆ– Generate SVG &amp; More å…¶ä¸­ä¸€ç¨®</p>
<p>ğŸ”¸ é¸å– Generate Font<br>ç”¢ç”Ÿåœ–æ¨™å­—é«”ï¼ŒDownload æª”æ¡ˆå¾Œå¼•å…¥åˆ°è‡ªå·±çš„å°ˆæ¡ˆï¼Œå³å¯ä½¿ç”¨è£¡é¢çš„ classï¼Œä¸¦ç”¨ font-size å°±å¯ä»¥èª¿æ•´å¤§å°</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-smile&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é»é¸åœ–ç¤ºçš„ Get codeï¼Œå³å¯æŸ¥çœ‹èªæ³•<br><img src="https://imgur.com/87LT8Zr.jpg" alt="icoMoon-Font"></p>
<br/>

<p>ğŸ”¸ é¸å– Generate SVG &amp; More<br>ä¹Ÿå¯ä»¥ç”Ÿæˆ svg åœ–ç¤ºï¼ŒDownload æª”æ¡ˆå¾Œå¼•å…¥åˆ°è‡ªå·±çš„å°ˆæ¡ˆï¼Œç”¨ç¹ªè£½ svg çš„æ–¹å¼é¡¯ç¤º icon</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon icon-smile&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-smile&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">symbol</span> <span class="attr">id</span>=<span class="string">&quot;icon-smile&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 32 32&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M25.632 10.65c0 1.432-1.16 2.592-2.592 2.592s-2.592-1.16-2.592-2.592c0-1.432 1.16-2.592 2.592-2.592s2.592 1.16 2.592 2.592z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M11.955 10.65c0 1.432-1.16 2.592-2.592 2.592s-2.592-1.16-2.592-2.592c0-1.432 1.16-2.592 2.592-2.592s2.592 1.16 2.592 2.592z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M16.774 24.877c-8.429 0-15.008-6.022-15.11-6.112l1.312-1.402c0.55 0.512 13.619 12.416 26.022 0.026l1.357 1.357c-4.602 4.595-9.325 6.131-13.581 6.131z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">symbol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é»é¸åœ–ç¤ºçš„ Get codeï¼Œå³å¯æŸ¥çœ‹èªæ³•<br><img src="https://imgur.com/JBAMcSe.jpg" alt="icoMoon-Svg"></p>
<hr>
<p>icoMoon çœŸçš„æ˜¯ç°¡å–®åˆå¥½ç”¨ï¼Œå°¤å…¶æ˜¯å¯ä»¥è‡ªè¨‚åœ–ç¤ºçš„éƒ¨åˆ†æ›´æ˜¯åŠ åˆ†ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä½¿ç”¨çœ‹çœ‹å“¦ğŸ˜Š</p>
]]></content>
      <categories>
        <category>Plugins</category>
      </categories>
      <tags>
        <tag>icoMoonæ•™å­¸</tag>
        <tag>icoMoon</tag>
      </tags>
  </entry>
  <entry>
    <title>jQueryå¸¸ç”¨æ–¹æ³•å¤§å…¨</title>
    <url>/2022/06/14/jquery/</url>
    <content><![CDATA[<p><img src="https://imgur.com/1CT5iTI.jpg" alt="jquery"><br>jQuery æ˜¯ä¸€å€‹ Javascript çš„å‡½ç¤ºåº«ï¼Œé€éå®ƒå¯ä»¥ç°¡å–®çš„æ’°å¯«åšå‡ºå„ç¨®ç¶²é æ•ˆæœã€‚<br>ä»¥ä¸‹æ˜¯ jQuery ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ–¹ä¾¿æŸ¥é–±è¨˜éŒ„ã€‚</p>
<a id="more"></a>

<h1 id="å…ƒç´ æŸ¥æ‰¾"><a href="#å…ƒç´ æŸ¥æ‰¾" class="headerlink" title="å…ƒç´ æŸ¥æ‰¾"></a>å…ƒç´ æŸ¥æ‰¾</h1><h2 id="prev"><a href="#prev" class="headerlink" title="prev()"></a>prev()</h2><p>å–å¾—åŒå±¤ä¸Šä¸€å€‹å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).prev(<span class="string">&quot;.selected&quot;</span>)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="next"><a href="#next" class="headerlink" title="next()"></a>next()</h2><p>å–å¾—åŒå±¤ä¸‹ä¸€å€‹å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).next(<span class="string">&quot;.selected&quot;</span>)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="nextAll"><a href="#nextAll" class="headerlink" title="nextAll()"></a>nextAll()</h2><p>å–å¾—å…ƒç´ ä¹‹å¾Œçš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).nextAll()</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="siblings"><a href="#siblings" class="headerlink" title="siblings()"></a>siblings()</h2><p>å–å¾—æ‰€æœ‰åŒçº§å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;li&quot;</span>).siblings().css(&#123;<span class="string">&quot;color&quot;</span>:<span class="string">&quot;red&quot;</span>&#125;);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="children"><a href="#children" class="headerlink" title="children()"></a>children()</h2><p>é¸å–å…ƒç´ çš„å­å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;ul&quot;</span>).children().css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="parent"><a href="#parent" class="headerlink" title="parent()"></a>parent()</h2><p>é¸å–å…ƒç´ çš„çˆ¶å…ƒç´ ä¸­ç¬¦åˆé¸æ“‡å™¨çš„å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;ul&quot;</span>).parent().css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="parents"><a href="#parents" class="headerlink" title="parents()"></a>parents()</h2><p>é¸å–å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ä¸­ç¬¦åˆé¸æ“‡å™¨çš„å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;ul&quot;</span>).parents().css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="parentsUntil"><a href="#parentsUntil" class="headerlink" title="parentsUntil()"></a>parentsUntil()</h2><p>é¸å–å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ä¸­ç›´åˆ°é‡åˆ°ç¬¬ä¸€å€‹ç¬¦åˆé¸æ“‡å™¨çš„å…ƒç´ (ä¸å«æ­¤å…ƒç´ )</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;ul&quot;</span>).parentsUntil().css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="before"><a href="#before" class="headerlink" title="before()"></a>before()</h2><p>åœ¨DOMä¹‹å‰æ’å…¥å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).before(<span class="string">&quot;&lt;p&gt;Hello world!&lt;/p&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="after"><a href="#after" class="headerlink" title="after()"></a>after()</h2><p>åœ¨DOMå¾Œæ’å…¥å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).after(<span class="string">&quot;&lt;p&gt;Hello world!&lt;/p&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="prepend"><a href="#prepend" class="headerlink" title="prepend()"></a>prepend()</h2><p>å°‡å…ƒç´ æ·»åŠ åˆ°è¢«é¸å…ƒç´ çš„é–‹é ­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).prepend(<span class="string">&quot;&lt;b&gt;prepend&lt;/b&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="append"><a href="#append" class="headerlink" title="append()"></a>append()</h2><p>å°‡å…ƒç´ æ·»åŠ åˆ°è¢«é¸å…ƒç´ çš„çµå°¾</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;ul&quot;</span>).append(<span class="string">&quot;&lt;li&gt;hello&lt;/li&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="remove"><a href="#remove" class="headerlink" title="remove()"></a>remove()</h2><p>ç§»é™¤å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).remove();</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="closest"><a href="#closest" class="headerlink" title="closest()"></a>closest()</h2><p>å°‹æ‰¾é›¢ç•¶å‰å…ƒç´ æœ€è¿‘çš„ç¥–å…ˆå…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).closest(<span class="string">&quot;ul&quot;</span>).css(&#123;<span class="string">&quot;color&quot;</span>:<span class="string">&quot;red&quot;</span>&#125;);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h2><p>æŸ¥æ‰¾å…ƒç´ åº•ä¸‹çš„å­å…ƒç´ <br>èˆ‡ <code>$(&#39;p .text&#39;)</code> ç›¸åŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).find(<span class="string">&quot;.text&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h2><p>æŸ¥æ‰¾å…ƒç´ åŒå±¤<br>èˆ‡ <code>$(&#39;p.text&#39;)</code> ç›¸åŒ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).filter(<span class="string">&quot;.text&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="has"><a href="#has" class="headerlink" title="has()"></a>has()</h2><p>é¸å–å…ƒç´ ä¸­å­å­«å…ƒç´ ç¬¦åˆé¸æ“‡å™¨çš„å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).has(<span class="string">&quot;span&quot;</span>)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="eq"><a href="#eq" class="headerlink" title="eq()"></a>eq()</h2><p>å…ƒç´ ä¸­ç¬¦åˆç´¢å¼•å€¼çš„å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).eq(<span class="number">1</span>).css(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>


<h1 id="å±¬æ€§èˆ‡-CSS"><a href="#å±¬æ€§èˆ‡-CSS" class="headerlink" title="å±¬æ€§èˆ‡ CSS"></a>å±¬æ€§èˆ‡ CSS</h1><h2 id="attr"><a href="#attr" class="headerlink" title="attr()"></a>attr()</h2><p>è¨­å®šå…ƒç´ çš„å±¬æ€§å’Œå€¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;img&quot;</span>).attr(<span class="string">&quot;width&quot;</span>,<span class="string">&quot;300&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="css"><a href="#css" class="headerlink" title="css()"></a>css()</h2><p>è¨­å®šCSSæ¨£å¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;#000&#x27;</span>);</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).css(&#123;</span><br><span class="line">  color: <span class="string">&#x27;#000&#x27;</span>,</span><br><span class="line">  fontSize: <span class="string">&#x27;16px&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="animate"><a href="#animate" class="headerlink" title="animate()"></a>animate()</h2><p>æ§åˆ¶CSSå‹•ç•«æ•ˆæœ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;button&#x27;</span>).animate(&#123;</span><br><span class="line">  opacity: <span class="number">0</span></span><br><span class="line">&#125;, <span class="number">1500</span>)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="stop"><a href="#stop" class="headerlink" title="stop()"></a>stop()</h2><p>å…ƒç´ å‹•ç•«å®Œæˆå‰åŸ·è¡Œåœæ­¢<br><code>true</code> å¯ä¸­æ–·åŸ·è¡Œä¸­å‹•ç•«<br><code>false</code> ä¸å¯ä¸­æ–·åŸ·è¡Œä¸­å‹•ç•«</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;button&#x27;</span>).stop(<span class="literal">true</span>).animate(&#123;</span><br><span class="line">  opacity: <span class="number">0</span></span><br><span class="line">&#125;, <span class="number">1500</span>)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="addClass"><a href="#addClass" class="headerlink" title="addClass()"></a>addClass()</h2><p>åŠ å…¥class</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;#add&#x27;</span>).addClass(<span class="string">&#x27;text&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="removeClass"><a href="#removeClass" class="headerlink" title="removeClass()"></a>removeClass()</h2><p>ç§»é™¤class</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;#add&#x27;</span>).removeClass(<span class="string">&#x27;text&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="toggleClass"><a href="#toggleClass" class="headerlink" title="toggleClass()"></a>toggleClass()</h2><p>æ”¶åˆclassï¼Œå¦‚æœæœ‰classå°±ç§»é™¤ï¼Œæ²’æœ‰å°±åŠ å…¥</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;#add&#x27;</span>).toggleClass(<span class="string">&#x27;text&#x27;</span>);</span><br></pre></td></tr></table></figure>
<br/>


<h1 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h1><h2 id="ready"><a href="#ready" class="headerlink" title="ready()"></a>ready()</h2><p>DOMéƒ½è¼‰å…¥å¾ŒåŸ·è¡Œ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&quot;ready!&quot;</span> );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ç‚º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log( <span class="string">&quot;ready!&quot;</span> );</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="clone"><a href="#clone" class="headerlink" title="clone()"></a>clone()</h2><p>ç”Ÿæˆè¢«é¸å…ƒç´ çš„å‰¯æœ¬ï¼ŒåŒ…å«å­ç¯€é»ã€æ–‡æœ¬å’Œå±¬æ€§</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;p&quot;</span>).clone().appendTo(<span class="string">&quot;section&quot;</span>);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="each"><a href="#each" class="headerlink" title="each()"></a>each()</h2><p>å°æ¯å€‹é¸å–å…ƒç´ é€²è¡Œè™•ç†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;li&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// åŸ·è¡Œå‹•ä½œ</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="create-element"><a href="#create-element" class="headerlink" title="create element"></a>create element</h2><p>ä½¿ç”¨æ¨™ç±¤å»ºç«‹å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> elem = <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<br/>

<h2 id="on"><a href="#on" class="headerlink" title="on()"></a>on()</h2><p>åŸ·è¡Œå‹•ä½œ<br>mouseoverã€mouseoutã€mousedownã€mouseupã€mousemoveã€clickã€dbclickã€keydownã€keyupã€focusã€blurã€changeã€resizeã€scroll</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;button&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
        <tag>prev</tag>
        <tag>next</tag>
        <tag>nextAll</tag>
        <tag>siblings</tag>
        <tag>children</tag>
        <tag>parent</tag>
        <tag>parents</tag>
        <tag>parentsUntil</tag>
        <tag>before</tag>
        <tag>after</tag>
        <tag>prepend</tag>
        <tag>append</tag>
        <tag>remove</tag>
        <tag>closest</tag>
        <tag>find</tag>
        <tag>filter</tag>
        <tag>has</tag>
        <tag>eq</tag>
        <tag>attr</tag>
        <tag>animate</tag>
        <tag>addClass</tag>
        <tag>removeClass</tag>
        <tag>toggleClass</tag>
        <tag>ready</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¶å®š this çš„æ–¹æ³•-call / apply / bind</title>
    <url>/2021/07/31/js-call-apply-bind/</url>
    <content><![CDATA[<p><img src="https://imgur.com/ZVq8tKl.jpg" alt="Imgur"></p>
<p>å› ç‚º this æ˜¯å‹•æ…‹çš„ï¼Œæ‰€ä»¥æœƒéœ€è¦ä¸€äº›æ–¹æ³•ï¼Œè®“å‡½å¼è¢«å‘¼å«éƒ½èƒ½æœ‰å›ºå®šçš„ this</p>
<a id="more"></a>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = &#123;</span><br><span class="line">  name: <span class="string">&#x27;mimi&#x27;</span>,</span><br><span class="line">  printName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&#x27;bobee&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘éƒ½çŸ¥é“ï¼Œè¦å°å‡º cat çš„ nameï¼Œåªéœ€è¦èª¿ç”¨ cat.printName();<br>ä½† dog å¦‚æœä¸æ–°å¢æ–¹æ³•ï¼Œè¦æ€éº¼å°å‡º dog name å‘¢?<br>â€¦<br>..<br>.</p>
<p><img src="https://imgur.com/i7BFQCv.png" alt="Imgur"></p>
<p>.<br>..<br>â€¦<br>ç•¶ç„¶æ˜¯å€Ÿ cat çš„ä¾†ç”¨å›‰ ğŸ˜†</p>
<br>

<h1 id="callã€applyã€bind"><a href="#callã€applyã€bind" class="headerlink" title="callã€applyã€bind"></a>callã€applyã€bind</h1><p>è—‰å…¶ä»–ç‰©ä»¶çš„å‡½å¼ï¼Œæ”¹è®Š this çš„å°è±¡ï¼Œç”¨ä¾†å¼·åˆ¶æŒ‡å®š thisï¼Œé€™ä¸‰å€‹çš„åˆ†åˆ¥å¯ä»¥æŠŠä»–å€‘åˆ†æˆå…©çµ„ä¾†çœ‹<br>callã€apply æ˜¯æŒ‡å®š this å¾Œç›´æ¥åŸ·è¡Œ<br>bind æ˜¯å…ˆæŒ‡å®š thisï¼Œä¸æœƒé¦¬ä¸ŠåŸ·è¡Œï¼Œè¦èª¿ç”¨æ™‚å†åŠ ()åŸ·è¡Œ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = &#123;</span><br><span class="line">  name: <span class="string">&#x27;mimi&#x27;</span>,</span><br><span class="line">  printName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&#x27;bobee&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">cat.printName.call(dog); <span class="comment">// bobee</span></span><br><span class="line">cat.printName.apply(dog); <span class="comment">// bobee</span></span><br><span class="line">cat.printName.bind(dog)(); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æ­¤ä¸€ä¾†å°±å¯ä»¥é †åˆ©å–å¾— dog çš„ name</p>
<br>

<h2 id="ä»£å…¥åƒæ•¸"><a href="#ä»£å…¥åƒæ•¸" class="headerlink" title="ä»£å…¥åƒæ•¸"></a>ä»£å…¥åƒæ•¸</h2><p>ä»£å…¥åƒæ•¸æ™‚ä½¿ç”¨çš„æ–¹å¼ä¸å¤ªä¸€æ¨£</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">call(ç‰©ä»¶åç¨±, åƒæ•¸<span class="number">1</span>, åƒæ•¸<span class="number">2</span>); <span class="comment">// é€—è™Ÿéš”é–‹</span></span><br><span class="line">apply(ç‰©ä»¶åç¨±, [åƒæ•¸<span class="number">1</span>, åƒæ•¸<span class="number">2</span>]); <span class="comment">// ç”¨é™£åˆ—ä»£å…¥</span></span><br><span class="line">bind(ç‰©ä»¶åç¨±)(åƒæ•¸<span class="number">1</span>, åƒæ•¸<span class="number">2</span>); <span class="comment">// åœ¨å‡½å¼èª¿ç”¨ä»£å…¥</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = &#123;</span><br><span class="line">  name: <span class="string">&#x27;mimi&#x27;</span>,</span><br><span class="line">  showAge: <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + num + <span class="string">&#x27;æ­²&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&#x27;bobee&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">cat.showAge.call(dog, <span class="number">11</span>); <span class="comment">// bobee11æ­²</span></span><br><span class="line">cat.showAge.apply(dog, [<span class="number">11</span>]); <span class="comment">// bobee11æ­²</span></span><br><span class="line">cat.showAge.bind(dog)(<span class="number">11</span>); <span class="comment">// bobee11æ­²</span></span><br></pre></td></tr></table></figure>
<br>
<br>
æœ‰äº† callã€applyã€bind å¯ä»¥ç¢ºä¿ç•¶å‰çš„ this æ˜¯èª°ï¼Œé¿å…ä¸å°å¿ƒå»é€£çµåˆ°å…¨åŸŸç‰©ä»¶æˆ–æ˜¯ä¸æƒ³æŒ‡å‘çš„ç‰©ä»¶å–”ï¼
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>call</tag>
        <tag>apply</tag>
        <tag>bind</tag>
      </tags>
  </entry>
  <entry>
    <title>ææ‡‚JS-ä»€éº¼æ˜¯ closure é–‰åŒ…</title>
    <url>/2021/07/25/js-closure/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/vCMSnlu.png" alt="Imgur"></p>
<p>é–‰åŒ…æ˜¯ç”±è‹±æ–‡çš„ closure ç›´æ¥ç¿»è­¯éä¾†çš„ï¼Œæ‰€ä»¥å¾å­—é¢ä¸Šçœ‹èµ·ä¾†ï¼Œå¯èƒ½ä¹Ÿä¸çŸ¥é“é–‰åŒ…æ˜¯ä»€éº¼ã€‚</p>
<a id="more"></a>

<p>closure æ˜¯å‡½å¼åœ¨èˆ‡å…¶èªå½™ç¯„ç–‡ä¹‹å¤–è¢«èª¿ç”¨ï¼Œä¹Ÿä»è¨˜å¾—ä¸¦èƒ½å¤ è¢«å­˜å–çš„èƒ½åŠ›ï¼Œå¯èªªæ˜¯æŒ‡å‘ç‰¹å®šç¯„ç–‡çš„åƒè€ƒã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = foo();</span><br><span class="line">baz(); <span class="comment">// 2 closure</span></span><br></pre></td></tr></table></figure>
<p>bar() å‡½å¼èƒ½å¤ å­˜å– foo çš„å…§å±¤ç¯„ç–‡ã€‚<br>ä¸€èˆ¬ä¾†èªªæˆ‘å€‘é æœŸ foo() çš„æ•´å€‹å…§å±¤ç¯„ç–‡éƒ½æœƒæ¶ˆå¤±ï¼ŒåŸºæœ¬ä¸Šå‡½å¼é›¢é–‹åŸ·è¡Œç’°å¢ƒæ™‚ï¼Œä¹ŸæœƒåŒæ™‚å°‡ä½”ç”¨çš„è¨˜æ†¶é«”ç©ºé–“çµ¦é‡‹æ”¾å‡ºä¾†ï¼Œä½† closure ä¸æœƒè®“é€™ä»¶äº‹ç™¼ç”Ÿï¼Œfoo() å…§å±¤çš„ç¯„ç–‡å¯¦éš›ä¸Šä»åœ¨ä½¿ç”¨ï¼Œå› æ­¤ä¸æœƒæ¶ˆå¤±ã€‚èª°åœ¨ä½¿ç”¨å®ƒå‘¢? å°±æ˜¯ bar() å‡½å¼æœ¬èº«ã€‚</p>
<br/>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  bar(baz);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  fn(); <span class="comment">// closure</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘å°‡å…§å±¤å‡½å¼ baz å‚³çµ¦äº† barï¼Œä¸¦å‘¼å« bar çš„å…§å±¤å‡½å¼ fnï¼ŒåŒ…è¦† foo() å…§å±¤ç¯„ç–‡çš„ closure å°±èƒ½è—‰ç”±å­˜å– a ä¾†è§€å¯Ÿã€‚</p>
<p>è€Œé€™äº›åˆ°è™•å‚³éçš„å‡½å¼ä¹Ÿå¯ä»¥æ˜¯é–“æ¥çš„</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fn;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  fn = baz; <span class="comment">// æŒ‡å®š baz çµ¦å…¨åŸŸè®Šæ•¸</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  fn(); <span class="comment">// closure</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">bar(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>ä¸ç®¡æˆ‘å€‘ä½¿ç”¨äº†ä½•ç¨®æ–¹æ³•ï¼Œå°‡ä¸€å€‹å…§å±¤å‡½å¼é‹é€åˆ°å…¶èªå½™ç¯„ç–‡ä¹‹å¤–ï¼Œå®ƒä¾ç„¶æœƒä¿ç•™å°ä»–åŸæœ¬å®£å‘Šè™•çš„ä¸€å€‹ç¯„ç–‡åƒè€ƒã€‚</p>
<h1 id="è¿´åœˆèˆ‡-Closure"><a href="#è¿´åœˆèˆ‡-Closure" class="headerlink" title="è¿´åœˆèˆ‡ Closure"></a>è¿´åœˆèˆ‡ Closure</h1><p>closure æœ€ç¶“å…¸çš„ç¯„ä¾‹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, i * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘é æœŸå®ƒæœƒæ¯ç§’å°å‡º 1ã€2ã€3ã€4ã€5ï¼Œä½†å¯¦éš›ä¸Šæ˜¯æ¯ç§’å°å‡ºäº†äº”æ¬¡ 6!?<br>é€™æ˜¯å› ç‚º setTimeout åœ¨è¿´åœˆçµæŸå¾Œæ‰åŸ·è¡Œï¼Œå› æ­¤æ¯æ¬¡éƒ½æœƒå‡ºç¾ 6ï¼Œé‚£åˆ°åº•æˆ‘å€‘ç¨‹å¼ä¸­ç¼ºå°‘äº†ä»€éº¼å‘¢?</p>
<p>æˆ‘å€‘æƒ³è¦è®“è¿´åœˆæ¯æ¬¡è¿­ä»£éƒ½èƒ½åœ¨è©²æ¬¡è¿­ä»£é€²è¡Œæ™‚æ•æ‰åˆ°ä»–è‡ªå·±çš„ i çš„ä¸€ä»½æ‹·è²ï¼Œç„¶è€Œï¼Œé‚£äº›è¨ˆæ™‚å™¨å‡½å¼å…¨éƒ½æ˜¯åœ¨è¿´åœˆå®Œæˆå¾ŒåŸ·è¡Œï¼Œæ‰€æœ‰çš„é‚£äº”å€‹å‡½å¼ï¼Œé›–ç„¶éƒ½æ˜¯åœ¨å„è‡ªçš„è¿´åœˆè¿­ä»£ä¸­åˆ†åˆ¥å®šç¾©çš„ï¼Œä½†å®ƒå€‘éƒ½æœƒè¦†è“‹åŒä¸€å€‹å…±åŒçš„å…¨åŸŸç¯„ç–‡ï¼Œå…¶ä¸­å¯¦éš›ä¸Šåªæœ‰ä¸€å€‹ i å­˜åœ¨ã€‚</p>
<p>æˆ‘å€‘éœ€è¦æ›´å¤šå·²è¢«å°é–‰åŒ…åœçš„ç¯„ç–‡ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæ¯æ¬¡è¿­ä»£éƒ½éœ€è¦ä¸€å€‹æ–°çš„ closure scope</p>
<p>è§£æ±ºæ–¹å¼ IIFEï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params">j</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j);</span><br><span class="line">    &#125;, j * <span class="number">1000</span>);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ©ç”¨ IIFE å»ºç«‹å°ˆå±¬ç¯„ç–‡ï¼Œä¸¦æœ‰è‡ªå·±çš„è®Šæ•¸ï¼Œä¾†æ”¾ç½®æ¯æ¬¡è¿­ä»£ i çš„ä¸€ä»½æ‹·è²</p>
<h1 id="é‡è¿”å€å¡Šç¯„ç–‡"><a href="#é‡è¿”å€å¡Šç¯„ç–‡" class="headerlink" title="é‡è¿”å€å¡Šç¯„ç–‡"></a>é‡è¿”å€å¡Šç¯„ç–‡</h1><p>æˆ‘å€‘ç”¨äº† IIFE ä¾†å»ºç«‹å°ˆå±¬æ¯æ¬¡è¿­ä»£çš„æ–°ç¯„ç–‡ï¼Œå¯¦éš›ä¸Šï¼Œæˆ‘å€‘éœ€è¦çš„æ˜¯å„æ¬¡è¿­ä»£å°ˆå±¬çš„å€å¡Šç¯„ç–‡ã€‚<br>let å®£å‘ŠæœƒåŠ«æŒä¸€å€‹å€å¡Šï¼Œä¸”æ¯æ¬¡é‡æ–°å®£å‘Šè®Šæ•¸ iï¼Œä¸¦å°‡ä¸Šä¸€æ¬¡è¿­ä»£çš„çµæœä½œç‚ºé€™ä¸€æ¬¡çš„åˆå§‹å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, i * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å€å¡Šç¯„ç–‡å’Œ closure æ”œæ‰‹åˆä½œï¼Œè§£æ±ºäº†æ‰€æœ‰çš„å•é¡Œã€‚</p>
<h1 id="æ¨¡çµ„"><a href="#æ¨¡çµ„" class="headerlink" title="æ¨¡çµ„"></a>æ¨¡çµ„</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> something = <span class="string">&#x27;cool&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(something);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doAnother</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(another.join(<span class="string">&#x27;!&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    doSomething: doSomething,</span><br><span class="line">    doAnother: doAnother,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = CoolModule();</span><br><span class="line">foo.doSomething(); <span class="comment">// cool</span></span><br><span class="line">foo.doAnother(); <span class="comment">// 1!2!3</span></span><br></pre></td></tr></table></figure>
<p>æ¨¡çµ„æ¨¡å¼åˆç¨±æ­éœ²æ¨¡çµ„(revealing module)ï¼Œå¯ä»¥å°‡å…§å±¤å‡½å¼çš„è³‡æ–™<code>ä¿æŒéš±è—å’Œç§æœ‰</code>ï¼Œèª¿ç”¨æ™‚åªå›å‚³å°å¤–å…¬é–‹çš„ APIï¼Œ<br>é€™å€‹ç‰©ä»¶å›å‚³æœ€çµ‚æœƒæŒ‡å®šçµ¦å¤–å±¤è®Šæ•¸ fooï¼Œå°±èƒ½å­˜å– API çš„ç‰¹æ€§æ–¹æ³•ï¼Œä¾‹å¦‚ foo.doSomething()</p>
<p>è¦è¡Œä½¿æ¨¡çµ„æ¨¡å¼ï¼Œæœ‰å…©å€‹å¿…è¦æ¢ä»¶ï¼š</p>
<ol>
<li>å¿…é ˆæœ‰ä¸€å€‹å¤–å±¤çš„åŒ…å«å‡½å¼ï¼Œè€Œå®ƒå¿…é ˆè‡³å°‘è¢«èª¿ç”¨ä¸€æ¬¡(æ¯æ¬¡éƒ½æœƒå»ºç«‹ä¸€å€‹æ–°çš„æ¨¡çµ„å¯¦é«”)</li>
<li>é€™å€‹åŒ…å«å‡½å¼è‡³å°‘å¾—å›å‚³ä¸€å€‹å…§å±¤å‡½å¼ï¼Œå¦‚æ­¤é€™å€‹å…§å±¤å‡½å¼æ‰èƒ½æœ‰è¦†è“‹é‚£å€‹ç§æœ‰ç¯„ç–‡çš„ closureï¼Œå› æ­¤å¾—ä»¥å­˜å–æˆ–ä¿®æ”¹é‚£å€‹ç§æœ‰ç‹€æ…‹</li>
</ol>
<p>å¸¶æœ‰ä¸€å€‹å‡½å¼ç‰¹æ€§çš„ç‰©ä»¶æœ¬èº«ä¸¦ä¸æ˜¯ä¸€å€‹çœŸæ­£çš„æ¨¡çµ„ï¼Œå¾ä¸€æ¬¡å‡½å¼èª¿ç”¨æ‰€å›å‚³çš„ç‰©ä»¶ï¼Œå¦‚æœå…¶ä¸Šåªæœ‰è³‡æ–™ç‰¹æ€§ï¼Œæ²’æœ‰ç”¢ç”Ÿ closure çš„å‡½å¼ï¼Œé‚£å®ƒä¹Ÿä¸æ˜¯ä¸€å€‹çœŸæ­£çš„æ¨¡çµ„ã€‚</p>
<p>CoolModule()å±•ç¤ºäº†ä¸€å€‹ç¨ç«‹çš„æ¨¡çµ„å‰µé€ å™¨ï¼Œå¯ä»¥è¢«èª¿ç”¨æ•¸æ¬¡ï¼Œæ¯æ¬¡éƒ½æœƒå»ºç«‹ä¸€å€‹æ–°çš„æ¨¡çµ„å¯¦é«”ã€‚<br>å¦‚æœåªæƒ³è¦å–®ä¸€å€‹å¯¦é«”çš„æ™‚å€™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = (<span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> something = <span class="string">&#x27;cool&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(something);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doAnother</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(another.join(<span class="string">&#x27;!&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    doSomething: doSomething,</span><br><span class="line">    doAnother: doAnother,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">foo.doSomething(); <span class="comment">// cool</span></span><br><span class="line">foo.doAnother(); <span class="comment">// 1!2!3</span></span><br></pre></td></tr></table></figure>
<p>æ¨¡çµ„å‡½å¼è®Šæˆäº†ä¸€å€‹ IIFEï¼Œå³åˆ»èª¿ç”¨ï¼Œä¸¦å°‡å›å‚³å€¼ç›´æ¥æŒ‡å®šçµ¦æˆ‘å€‘å–®ä¸€å€‹æ¨¡çµ„å¯¦é«”å¼åˆ¥å­— foo</p>
<p>æ¨¡çµ„åªæ˜¯å‡½å¼ï¼Œæ‰€ä»¥èƒ½å¤ æ¥æ”¶åƒæ•¸ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CoolMoudule</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">identify</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(id);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    identify: identify,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo1 = CoolMoudule(<span class="string">&#x27;foo 1&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> foo2 = CoolMoudule(<span class="string">&#x27;foo 2&#x27;</span>);</span><br><span class="line"></span><br><span class="line">foo1.identify(); <span class="comment">// &quot;foo 1&quot;</span></span><br><span class="line">foo2.identify(); <span class="comment">// &quot;foo 2&quot;</span></span><br></pre></td></tr></table></figure>
<p>ç‚ºå…¬é–‹ API çš„å›å‚³ç‰©ä»¶å–å€‹åç¨±ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = (<span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// modify the public API</span></span><br><span class="line">    publicAPI.identify = identify2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">identify1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(id);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">identify2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(id.toUpperCase());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> publicAPI = &#123;</span><br><span class="line">    change: change,</span><br><span class="line">    identify: identify1,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> publicAPI;</span><br><span class="line">&#125;)(<span class="string">&#x27;foo module&#x27;</span>);</span><br><span class="line"></span><br><span class="line">foo.identify(); <span class="comment">// foo module</span></span><br><span class="line">foo.change();</span><br><span class="line">foo.identify(); <span class="comment">// FOO MODULE</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æ¨¡çµ„å¯¦é«”ä¸­ä¿ç•™å°å…¬é–‹ API ç‰©ä»¶çš„ä¸€å€‹å…§å±¤åƒè€ƒï¼Œå°±èƒ½å¤ å¾å…§éƒ¨ä¿®æ”¹é‚£å€‹æ¨¡çµ„å¯¦é«”ï¼ŒåŒ…æ‹¬æ–°å¢èˆ‡ç§»é™¤æ–¹æ³•å’Œç‰¹æ€§ï¼Œé‚„æœ‰è®Šæ›´å®ƒå€‘çš„å€¼ã€‚</p>
<hr>
<h3 id="åƒè€ƒæ›¸ç±ï¼š-ä½ ä¸çŸ¥é“çš„-JS-ç¯„ç–‡èˆ‡-Closures"><a href="#åƒè€ƒæ›¸ç±ï¼š-ä½ ä¸çŸ¥é“çš„-JS-ç¯„ç–‡èˆ‡-Closures" class="headerlink" title="åƒè€ƒæ›¸ç±ï¼š ä½ ä¸çŸ¥é“çš„ JS-ç¯„ç–‡èˆ‡ Closures"></a>åƒè€ƒæ›¸ç±ï¼š ä½ ä¸çŸ¥é“çš„ JS-ç¯„ç–‡èˆ‡ Closures</h3><hr>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>closure</tag>
      </tags>
  </entry>
  <entry>
    <title>ç€è¦½å™¨è³‡æ–™å„²å­˜-Cookieã€LocalStorageã€SessionStorage</title>
    <url>/2021/08/16/js-cookie/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th></th>
<th>Cookie</th>
<th>LocalStorage</th>
<th>SessionStorage</th>
</tr>
</thead>
<tbody><tr>
<td>è³‡æ–™å¤§å°</td>
<td>â‰¤4KB</td>
<td>â‰¥5MB</td>
<td>â‰¥5MB</td>
</tr>
<tr>
<td>ç”Ÿå‘½é€±æœŸ</td>
<td>é è¨­è³‡æ–™å¤±æ•ˆæ˜¯é—œé–‰ç€è¦½å™¨ï¼Œä¹Ÿå¯ä»¥è¨­å®šå¤±æ•ˆæ™‚é–“</td>
<td>ä¸æœƒéæœŸï¼Œé™¤éæ‰‹å‹•æ¸…é™¤</td>
<td>æ¯æ¬¡åˆ†é æˆ–ç€è¦½å™¨é—œæ‰å¾Œå°±æœƒæ¸…é™¤</td>
</tr>
<tr>
<td>èˆ‡ Server æºé€š</td>
<td>æ¯æ¬¡éƒ½æœƒæ”œå¸¶åœ¨ HTTP ä¸­ï¼Œä¿å­˜éå¤šæ•¸æ“šæœƒå¸¶ä¾†æ•ˆèƒ½å•é¡Œ</td>
<td>åƒ…åœ¨ç€è¦½å™¨ä¿å­˜ï¼Œä¸åƒèˆ‡ Server æºé€š</td>
<td>åƒ…åœ¨ç€è¦½å™¨ä¿å­˜ï¼Œä¸åƒèˆ‡ Server æºé€š</td>
</tr>
</tbody></table>
<a id="more"></a>

<h1 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h1><p>HTTP cookieï¼ˆweb cookieã€browser cookieï¼‰ç‚ºä¼ºæœå™¨å‚³é€çµ¦ä½¿ç”¨è€…ç€è¦½å™¨çš„ä¸€å€‹å°ç‰‡æ®µè³‡æ–™ï¼Œé€šå¸¸ç”±ä¼ºæœå™¨é€é Set-Cookie header å‚³éçµ¦ç€è¦½å™¨ã€‚ç€è¦½å™¨æ”¶åˆ°å¾Œæœƒå°‡ cookie å„²å­˜èµ·ä¾†ï¼Œä¸¦åœ¨ä¸‹ä¸€æ¬¡è«‹æ±‚å›å‚³ cookie è‡³ç›¸åŒçš„ä¼ºæœå™¨ã€‚</p>
<p>å¯ä»¥åœ¨å¾Œç«¯è¨­å®šä¿®æ”¹ï¼Œè³‡æ–™åƒ…åœ¨æœ¬åœ°ç€è¦½å™¨å„²å­˜ã€‚å¯ä»¥è¨­å®šå¤±æ•ˆæ™‚é–“ï¼Œé è¨­ç‚ºé—œé–‰ç€è¦½å™¨ã€‚</p>
<p><strong>å¸¸è¦‹ç”¨é€”</strong><br>Cookie æœ€å¸¸è¦‹çš„ç”¨é€”ä¹‹ä¸€æ˜¯èªè­‰èº«ä»½ï¼Œä¾‹å¦‚å¸³è™Ÿç™»å…¥ã€è³¼ç‰©è»Šã€éŠæˆ²åˆ†æ•¸ï¼Œæˆ–ä»»ä½•å…¶ä»–ä¼ºæœå™¨æ‡‰è©²è¨˜ä½çš„è³‡è¨Šï¼Œä¹Ÿè¢«æ‡‰ç”¨æ–¼è¿½è¹¤ä¸¦åˆ†æä½¿ç”¨è€…è¡Œç‚ºå»£å‘Šä¸Šã€‚Cookie ä¹Ÿè¢«ç”¨æ–¼å®¢æˆ¶ç«¯çš„å„²å­˜æ–¹å¼ï¼Œä½†ç”±æ–¼ cookie æœƒè¢«é™„åŠ åœ¨æ¯ä¸€æ¬¡çš„ request ä¹‹ä¸­ï¼Œå¯èƒ½æœƒå½±éŸ¿æ•ˆèƒ½ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä¸éœ€è¦è¨˜éŒ„åœ¨ server çš„è³‡è¨Šï¼Œå¯ä»¥æ”¹ç”¨ storage APIã€‚</p>
<br>

<h1 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h1><p>ä¸æœƒå’Œè·Ÿéš¨ HTTP è«‹æ±‚ï¼Œæ‰€ä»¥ä¸æœƒä½”ç”¨è³‡æºï¼Œé©åˆå„²å­˜è¼ƒè¤‡é›œä¸”ä¸æ•æ„Ÿçš„è³‡æ–™<br>éœ€è¦ä½¿ç”¨è€…ä¸»å‹•åˆªé™¤ï¼Œå¦å‰‡å°±æ˜¯æ°¸ä¹…å„²å­˜ï¼Œä¸åŒç€è¦½å™¨ä¹‹é–“ä¸æœƒå…±äº«è³‡æ–™ã€‚<br>å½¢å¼ï¼škey â†’ value<br>key è·Ÿ value å¿…é ˆæ˜¯å­—ä¸²ï¼Œå¦‚æœæ˜¯ object æˆ– number æœƒè‡ªå‹•è½‰æ›æˆ string</p>
<p><strong>å¸¸è¦‹ç”¨é€”</strong><br>è€Œå¦ä¸€æ–¹é¢ localStorage ä»£æ›¿äº† Cookie ç®¡ç†è³¼ç‰©è»Šçš„å·¥ä½œï¼ŒåŒæ™‚ä¹Ÿèƒ½å‹ä»»å…¶ä»–å·¥ä½œã€‚æ¯”å¦‚èªª HTML éŠæˆ²é€šå¸¸æœƒç”¢ç”Ÿä¸€äº›æ•¸æ“šï¼ŒlocalStorage ä¹Ÿå¾ˆé©åˆä½¿ç”¨ã€‚</p>
<br>

<h1 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h1><p>è‡¨æ™‚å„²å­˜ï¼Œè·Ÿ LocalStorage åªå·®åœ¨-æ¯æ¬¡åˆ†é æˆ–ç€è¦½å™¨é—œæ‰å¾Œå°±æœƒæ¸…é™¤</p>
<p><strong>å¸¸è¦‹ç”¨é€”</strong><br>å¦‚æœé‡åˆ°ä¸€äº›å…§å®¹ç‰¹åˆ¥å¤šçš„è¡¨å–®ï¼Œç‚ºäº†æå‡ç”¨æˆ¶é«”é©—ï¼Œå¯èƒ½è¦æŠŠè¡¨å–®é é¢æ‹†åˆ†æˆå¤šå€‹å­é é¢ï¼Œç„¶å¾ŒæŒ‰ç…§æ­¥é©Ÿå¼•å°ç”¨æˆ¶ã€‚é€™æ™‚å€™ sessionStorage å°±å¯ä»¥ç™¼æ®å‡ºæ•ˆç”¨ã€‚</p>
<br>

<h1 id="å®‰å…¨è€ƒæ…®"><a href="#å®‰å…¨è€ƒæ…®" class="headerlink" title="å®‰å…¨è€ƒæ…®"></a>å®‰å…¨è€ƒæ…®</h1><p>ä¸¦éæ‰€æœ‰æ•¸æ“šéƒ½é©åˆå„²å­˜åœ¨é€™äº›å…¶ä¸­ã€‚å› ç‚ºåªè¦ç¶²ç«™ä¸­å­˜åœ¨ XSS æ³¨å…¥çš„é¢¨éšªï¼Œæ‰“é–‹æ§åˆ¶å°ï¼Œå°±å¯ä»¥éš¨æ„ä¿®æ”¹å€¼ï¼Œå°±èƒ½å°ä½ çš„ localStorage è‚†æ„å¦„ç‚ºã€‚æ‰€ä»¥åƒè¬ä¸è¦å°‡æ•æ„Ÿæ•¸æ“šå„²å­˜åœ¨é€™å…¶ä¸­ã€‚</p>
<br>

<h1 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h1><h2 id="cookie-1"><a href="#cookie-1" class="headerlink" title="cookie"></a>cookie</h2><h3 id="è®€å–-cookie"><a href="#è®€å–-cookie" class="headerlink" title="è®€å– cookie"></a>è®€å– cookie</h3><p>è®€å–å‡ºä¾†æ˜¯ä¸€å€‹å¾ˆé•·çš„å­—ä¸²ï¼Œå­—ä¸²è£¡é¢æ˜¯æ‰€æœ‰æ›¾ç¶“å„²å­˜çš„ cookieï¼Œæ ¼å¼æ˜¯ key=valueï¼Œç”¨åˆ†è™Ÿ ; åˆ†éš”ä¸åŒçš„ cookieã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">allCookies = <span class="built_in">document</span>.cookie;</span><br><span class="line"><span class="built_in">console</span>.log(allCookies);</span><br></pre></td></tr></table></figure>
<p>Cookie è®€å–å‡½æ•¸<br>å…§å»ºçš„æ–¹æ³•æ²’æœ‰é‚£éº¼å¥½ç”¨ï¼Œé€šå¸¸æˆ‘å€‘æœƒè‡ªå·±å¯«ä¸€å€‹æ–¹ä¾¿è®€å–å€‹åˆ¥ cookie çš„å‡½æ•¸ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseCookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> cookieObj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> cookieAry = <span class="built_in">document</span>.cookie.split(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> cookie;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = cookieAry.length; i &lt; l; ++i) &#123;</span><br><span class="line">    cookie = jQuery.trim(cookieAry[i]);</span><br><span class="line">    cookie = cookie.split(<span class="string">&#x27;=&#x27;</span>);</span><br><span class="line">    cookieObj[cookie[<span class="number">0</span>]] = cookie[<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> cookieObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookieByName</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> value = parseCookie()[name];</span><br><span class="line">  <span class="keyword">if</span> (value) &#123;</span><br><span class="line">    value = <span class="built_in">decodeURIComponent</span>(value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®€å– cookieï¼Œåƒæ˜¯å–å¾— username çš„ cookie åªéœ€è¦ç”¨ getCookieByName(â€˜usernameâ€™)ã€‚</p>
<p>ç•¶æˆ‘å€‘åœ¨è¨­å®šçš„ value çš„æ™‚å€™ï¼Œå¯ä»¥ä½¿ç”¨ encodeURIComponent() é€™å€‹æ–¹æ³•ä¾†å„²å­˜å…§å®¹ï¼Œå¯ä»¥è®“ç‰¹æ®Šç¬¦è™Ÿ $#@*^!,é€™ç¨®è½‰æ›æˆ URI å½¢å¼ï¼Œè®“ç¨‹å¼è§£æçš„æ™‚å€™æ¯”è¼ƒä¸æœƒå‡ºéŒ¯ ã€‚</p>
<h3 id="å¯«å…¥-cookie"><a href="#å¯«å…¥-cookie" class="headerlink" title="å¯«å…¥ cookie"></a>å¯«å…¥ cookie</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;cookie3=value3&#x27;</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie = newCookie;</span><br></pre></td></tr></table></figure>
<h3 id="åƒæ•¸è¨­å®š"><a href="#åƒæ•¸è¨­å®š" class="headerlink" title="åƒæ•¸è¨­å®š"></a>åƒæ•¸è¨­å®š</h3><p>å»ºç«‹ cookie å¾Œé¢é‚„å¯ä»¥åŠ ä¸Šé€™äº›è¨­å®šï¼š</p>
<p><strong>path=path</strong><br>è¨­å®šèƒ½è®€å–åˆ°æ­¤ cookie çš„è·¯å¾‘ï¼Œä¾‹å¦‚ ;path=/ è¡¨ç¤ºè®“æ•´å€‹ç¶²ç«™éƒ½è®€å–å¾—åˆ°ï¼Œé è¨­ç‚ºç›®å‰ç¶²é æ‰€åœ¨çš„è·¯å¾‘ã€‚</p>
<p><strong>domain=domain</strong><br>è¨­å®šèƒ½è®€å–åˆ°æ­¤ cookie çš„ç¶²åŸŸ</p>
<p><strong>max-age=seconds</strong><br>è¨­å®š cookie çš„å­˜æ´»æœŸé™ï¼Œå–®ä½ç‚ºç§’ï¼Œä¾‹å¦‚ 86400 å°±æ˜¯ä¸€å¤©å¾Œå¤±æ•ˆã€‚</p>
<p><strong>expires=date-in-GMTString-format</strong><br>è¨­å®š cookie çš„å­˜æ´»æœŸé™ï¼Œå€¼æ˜¯ä¸€å€‹ Date.toUTCString() æ ¼å¼çš„æ™‚é–“å­—ä¸²ï¼Œé€™å€‹åƒæ•¸åœ¨ HTTP 1.1 ä¹‹å¾Œå·²ç¶“è¢« max-age å–ä»£ã€‚</p>
<p><strong>secure = boolean/null</strong><br>è¨­å®š cookie åªèƒ½æ–¼ https é€£ç·šä¸­è¢«å‚³é€ã€‚</p>
<p>è¨­å®šä¸€å€‹æ–° cookie åªæœ‰ key=value éƒ¨åˆ†æ˜¯å¿…è¦çš„ï¼Œå…¶ä»–éƒ¨åˆ†éƒ½å¯ä»¥çœç•¥ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;id=test0; Secure; Path=/; Domain=example.com&#x27;</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;id=test1; Expires=Wed, 21 Oct 2015 07:28:00 GMT&#x27;</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;id=test2; Max-Age=2592000&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ç•¶ä¸€å€‹ cookie æ²’æœ‰è¨­å®šå¤±æ•ˆæ™‚é–“ï¼Œå°±æ˜¯æ‰€è¬‚çš„ session cookie (æœ‰è¨­å®šå¤±æ•ˆæ™‚é–“çš„å‰‡ç¨± persistent cookie)ï¼Œè©² cookie æœƒåœ¨ä½¿ç”¨è€…é—œé–‰ç€è¦½å™¨å¾Œè¢«è‡ªå‹•åˆªé™¤ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¨­å®šå…©å€‹ cookie å« test1, test2</span></span><br><span class="line"><span class="comment">// åœ¨ç€è¦½å™¨é—œé–‰å¾Œæœƒè‡ªå‹•è¢«åˆªé™¤</span></span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;test1=Hello&#x27;</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;test2=World&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¨­å®šä¸€å€‹ username cookie è£¡é¢çš„å€¼æ˜¯ Bobeeï¼Œå„²å­˜ä¸€å€‹æœˆ</span></span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;username=Bobee; max-age=2592000; path=/&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="åˆªé™¤-cookie"><a href="#åˆªé™¤-cookie" class="headerlink" title="åˆªé™¤ cookie"></a>åˆªé™¤ cookie</h3><p>å–®ç´”æŠŠä½ æƒ³è¦é‚£å€‹ cookies å€¼ï¼Œè¨­æˆéæœŸå°±å¥½<br>ä¾‹å¦‚åˆªé™¤ username é€™ä¸€å€‹ cookieï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&#x27;username=; expires=Thu, 01 Jan 1970 00:00:00 GMT&#x27;</span>;</span><br></pre></td></tr></table></figure>
<br>

<h2 id="localStorage-1"><a href="#localStorage-1" class="headerlink" title="localStorage"></a>localStorage</h2><p>H5 å°æ–¼ web storage çš„æ”¯æ´å¾ˆå‹å¥½ï¼Œä½¿ç”¨æ–¹æ³•å¾ˆç°¡å–®</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç²å–æŒ‡å®š key çš„æœ¬åœ°å„²å­˜çš„å€¼</span></span><br><span class="line"><span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;keyName&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°‡ value å„²å­˜åˆ° key æ¬„ä½ä¸­</span></span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;keyName&#x27;</span>, value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆªé™¤æŒ‡å®š key çš„æœ¬åœ°å„²å­˜çš„å€¼</span></span><br><span class="line"><span class="built_in">localStorage</span>.removeItem(<span class="string">&#x27;keyName&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…é™¤æ‰€æœ‰çš„key ,value,æ…ç”¨ï¼Œæ…ç”¨ï¼Œæ…ç”¨ï¼Œæœƒæ¸…é™¤æ‰€æœ‰ï¼ŒæœƒæŠŠåˆ¥çš„ç¶²é çš„å„²å­˜ä¹Ÿåˆªé™¤</span></span><br><span class="line"><span class="built_in">localStorage</span>.clear();</span><br></pre></td></tr></table></figure>
<br>

<h2 id="sessionStorage-1"><a href="#sessionStorage-1" class="headerlink" title="sessionStorage"></a>sessionStorage</h2><p>åŸºæœ¬å’Œ localStorage ä¸€æ¨£</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç²å–æŒ‡å®š key çš„æœ¬åœ°å„²å­˜çš„å€¼</span></span><br><span class="line">sessionStorage.getItem(<span class="string">&#x27;keyName&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°‡ value å„²å­˜åˆ° key æ¬„ä½ä¸­</span></span><br><span class="line">sessionStorage.setItem(<span class="string">&#x27;keyName&#x27;</span>, value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆªé™¤æŒ‡å®š key çš„æœ¬åœ°å„²å­˜çš„å€¼</span></span><br><span class="line">sessionStorage.removeItem(<span class="string">&#x27;keyName&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…é™¤æ‰€æœ‰çš„ key, value,æ…ç”¨ï¼Œæ…ç”¨ï¼Œæ…ç”¨ï¼Œæœƒæ¸…é™¤æ‰€æœ‰ï¼ŒæœƒæŠŠåˆ¥çš„ç¶²é çš„å„²å­˜ä¹Ÿåˆªé™¤</span></span><br><span class="line">sessionStorage.clear();</span><br></pre></td></tr></table></figure>
<br>

<h1 id="Storage-å–ç‰©ä»¶"><a href="#Storage-å–ç‰©ä»¶" class="headerlink" title="Storage å–ç‰©ä»¶"></a>Storage å–ç‰©ä»¶</h1><p>é›–ç„¶æˆ‘å€‘å¯ä»¥é€é Storage æ–¹æ³•ï¼Œè¼•é¬†çš„å°‡è³‡æ–™å„²å­˜åœ¨æœ¬åœ°ç«¯ï¼Œä½†æ˜¯å¯¦éš›æ‡‰ç”¨ä¹‹å¾Œï¼Œæˆ‘å€‘æœƒç™¼ç¾æˆ‘å€‘è¦å„²å­˜çš„è³‡æ–™ valueï¼Œå…¨éƒ¨è¢«è½‰æˆå­—ä¸²æ ¼å¼ï¼Œå› æ­¤ç•¶æˆ‘å€‘è¦å„²å­˜çš„è³‡æ–™ç‚ºä¸€å€‹ç‰©ä»¶çš„æ™‚å€™å°±æœƒç”¢ç”Ÿä¸€å€‹åš´é‡çš„å•é¡Œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> string = <span class="string">&#x27;testString&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> number = <span class="number">12345</span>;</span><br><span class="line"><span class="keyword">let</span> array = [<span class="string">&#x27;asd&#x27;</span>, <span class="number">123</span>, <span class="literal">true</span>];</span><br><span class="line"><span class="keyword">let</span> object = &#123; <span class="attr">test</span>: <span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item&#x27;</span>, string);</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item2&#x27;</span>, number);</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item3&#x27;</span>, array);</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item4&#x27;</span>, object);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item&#x27;</span>)); <span class="comment">// testString</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item2&#x27;</span>)); <span class="comment">// 12345</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item3&#x27;</span>)); <span class="comment">// &#x27;asd&#x27;, 123, true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item4&#x27;</span>)); <span class="comment">// [object Object]</span></span><br></pre></td></tr></table></figure>
<p>æœ‰å¹¾ç¨®æ–¹æ³•å¯ä»¥æœ‰æ•ˆé¿é–‹é€™ç¨®æƒ…æ³ï¼Œè€Œåœ¨æœ¬æ¬¡çš„èª²é¡Œç•¶ä¸­ï¼Œæˆ‘å€‘è¦ä½¿ç”¨åˆ° Â <code>JSON</code>Â  é€™ç¨®è³‡æ–™æ ¼å¼ã€‚JSON å…¨åç‚º JavaScript Object Notation (Javascript ç‰©ä»¶ç¬¦è™Ÿ)ï¼Œå¯ä»¥æŠŠè³‡æ–™è½‰æˆå­—ä¸²å‹åˆ¥ï¼Œæ–¹ä¾¿å°‡è³‡æ–™æ–¼ç¶²é èˆ‡ä¼ºæœå™¨ä¹‹é–“åšå‚³è¼¸ï¼Œå…¶ä¸­åŒ…å«å…©ç¨®æ–¹æ³•ï¼š</p>
<ol>
<li><code>JSON.stringify()</code>ï¼šå°‡è³‡æ–™è½‰ç‚º JSON æ ¼å¼çš„å­—ä¸²ã€‚</li>
<li><code>JSON.parse(myJSON)</code>ï¼šå°‡è³‡æ–™ç”± JSON æ ¼å¼å­—ä¸²è½‰å›åŸæœ¬çš„è³‡æ–™å…§å®¹åŠå‹åˆ¥ã€‚</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> string = <span class="string">&#x27;testString&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> number = <span class="number">12345</span>;</span><br><span class="line"><span class="keyword">let</span> array = [<span class="string">&#x27;asd&#x27;</span>, <span class="number">123</span>, <span class="literal">true</span>];</span><br><span class="line"><span class="keyword">let</span> object = &#123; <span class="attr">test</span>: <span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item&#x27;</span>, <span class="built_in">JSON</span>.stringify(string));</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item2&#x27;</span>, <span class="built_in">JSON</span>.stringify(number));</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item3&#x27;</span>, <span class="built_in">JSON</span>.stringify(array));</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;item4&#x27;</span>, <span class="built_in">JSON</span>.stringify(object));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item&#x27;</span>))); <span class="comment">// testString</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item2&#x27;</span>))); <span class="comment">// 12345</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item3&#x27;</span>))); <span class="comment">// (3)Â [&quot;asd&quot;, 123, true]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;item4&#x27;</span>))); <span class="comment">// &#123;test: 1&#125;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»:"></a>åƒè€ƒæ–‡ç»:</h3><p><a href="https://www.fooish.com/javascript/cookie.html">JavaScript Cookie</a><br><a href="https://ithelp.ithome.com.tw/articles/10195522">LocalStorage</a></p>
<hr>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Cookie</tag>
        <tag>LocalStorage</tag>
        <tag>SessionStorage</tag>
      </tags>
  </entry>
  <entry>
    <title>ææ‡‚JS-ä»€éº¼æ˜¯hoisting?</title>
    <url>/2021/06/14/js-hoisting/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/n7k7xaM.jpg" alt="Imgur"></p>
<p>JS åœ¨ç·¨è­¯æ™‚ï¼Œæœƒå°‡å®£å‘Šçš„è®Šæ•¸ã€å‡½å¼éƒ½å…ˆå­˜æ”¾åˆ°ä¸€å€‹è¨˜æ†¶é«”ç©ºé–“ï¼Œå¾ˆåƒæ˜¯è¢«æå‡åˆ°æœ€å‰é¢ï¼Œè³¦å€¼ä¸æœƒè·Ÿè‘—è¢«æå‡ï¼Œå¯¦éš›é‹è¡Œæ™‚ï¼Œå†æŠŠå€¼å¡é€²å‰›å‰›å­˜æ”¾çš„è¨˜æ†¶é«”ç©ºé–“è£¡ã€‚</p>
<a id="more"></a>

<h1 id="è®Šæ•¸æå‡-Variable-hoisting"><a href="#è®Šæ•¸æå‡-Variable-hoisting" class="headerlink" title="è®Šæ•¸æå‡(Variable hoisting)"></a>è®Šæ•¸æå‡(Variable hoisting)</h1><p>å…ˆä¾†çœ‹å€‹ç¯„ä¾‹:<br>æˆ‘ log äº†ä¸€å€‹å¾æœªå®£å‘Šçš„è®Šæ•¸ dog</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(dog);</span><br></pre></td></tr></table></figure>
<p>æœƒå‡ºç¾ Uncaught ReferenceError: dog is not defined çš„éŒ¯èª¤ï¼Œé€™éå¸¸åˆç†ï¼<br><br><br>é‚£å¦‚æœå…ˆ log å‡ºä¸‹é¢çš„è®Šæ•¸æœƒç™¼ç”Ÿä»€éº¼äº‹?</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(dog);</span><br><span class="line"><span class="keyword">var</span> dog = <span class="string">&quot;bobee&quot;</span>;</span><br></pre></td></tr></table></figure>
<br>
å‡ºç¾äº† undefinedï¼ï¼ç‚ºä»€éº¼ä¸æ˜¯ ReferenceError: dog is not defined å‘¢?
<br>
<br>
é€™æ˜¯å› ç‚ºå®£å‘Šçš„è®Šæ•¸å…ˆè¢«å­˜æ”¾åˆ°è¨˜æ†¶é«”ç©ºé–“äº†ï¼Œè€Œè³¦å€¼ä¸æœƒè¢«æå‡ï¼Œä½ å¯ä»¥æƒ³æˆé€™æ¨£

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dog;</span><br><span class="line"><span class="built_in">console</span>.log(dog);</span><br><span class="line">dog = <span class="string">&quot;bobee&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼var dog ä¸¦ä¸æ˜¯çœŸçš„è¢«æ”¾åˆ°æœ€å‰é¢ï¼Œè€Œæ˜¯<code>è¨˜æ†¶é«”ç©ºé–“</code>å…ˆå­˜æ”¾äº† dogï¼Œæ‰æœƒç¹¼çºŒä¾ç…§åŸ·è¡Œé †åºé‹è¡Œç¨‹å¼ç¢¼ï¼Œå› æ­¤ log æœƒæ˜¯ undefinedï¼Œåœ¨åŸ·è¡Œç¨‹å¼ç¢¼ä¹‹å‰ï¼Œè¨˜æ†¶é«”ç©ºé–“æœƒæ˜¯é€™æ¨£</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">globle scope: &#123;</span><br><span class="line">  dog: <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>
åœ¨å‡½å¼è£¡å®£å‘Šçš„è®Šæ•¸ä¹Ÿæœƒè¢«æ”¾åˆ° function scope çš„è¨˜æ†¶é«”ç©ºé–“

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dog</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(bark);</span><br><span class="line">  <span class="keyword">var</span> bark = <span class="string">&quot;woof&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŸ·è¡Œèµ·ä¾†æ™‚æœƒåƒæ˜¯é€™æ¨£:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dog</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bark;</span><br><span class="line">  <span class="built_in">console</span>.log(bark);</span><br><span class="line">  bark = <span class="string">&quot;woof&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="å‡½å¼æå‡-Function-hoisting"><a href="#å‡½å¼æå‡-Function-hoisting" class="headerlink" title="å‡½å¼æå‡(Function hoisting)"></a>å‡½å¼æå‡(Function hoisting)</h1><p>å‡½å¼æœ‰åˆ†ç‚ºå‡½å¼é™³è¿°å¼(å…·åå‡½å¼)ã€å‡½å¼è¡¨é”å¼(åŒ¿åå‡½å¼)å…©ç¨®ï¼Œå…¶ä¸­å‡½å¼é™³è¿°å¼æœƒè¢«æå‡ï¼Œå‡½å¼è¡¨é”å¼ä¸æœƒè¢«æå‡ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹ç¯„ä¾‹ã€‚</p>
<h2 id="å‡½å¼é™³è¿°å¼"><a href="#å‡½å¼é™³è¿°å¼" class="headerlink" title="å‡½å¼é™³è¿°å¼"></a>å‡½å¼é™³è¿°å¼</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">dog();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dog</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bark = <span class="string">&quot;woof&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(bark);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>çµæœæœƒæ˜¯ woof<br>dog()æ”¾åœ¨å‡½å¼ä¹‹å‰ï¼Œå»å¯ä»¥ log å‡ºæˆ‘å€‘è¦çš„çµæœï¼Œé€™æ˜¯ hoisting çš„é—œä¿‚ï¼Œå¯ä»¥æƒ³æˆé€™æ¨£</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dog</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bark = <span class="string">&quot;woof&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(bark);</span><br><span class="line">&#125;</span><br><span class="line">dog();</span><br></pre></td></tr></table></figure>
<br>

<h2 id="å‡½å¼è¡¨é”å¼"><a href="#å‡½å¼è¡¨é”å¼" class="headerlink" title="å‡½å¼è¡¨é”å¼"></a>å‡½å¼è¡¨é”å¼</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">dog();</span><br><span class="line"><span class="keyword">var</span> dog = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bark = <span class="string">&quot;woof&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(bark);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>çµæœè®Šæˆ Uncaught TypeError: dog is not a function</p>
<p>é€™æ˜¯å› ç‚ºå®£å‘Šçš„è®Šæ•¸å…ˆè¢«æå‡äº†ï¼Œæœƒè®Šæˆé€™å€‹æ¨£å­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dog;</span><br><span class="line">dog();</span><br><span class="line">dog = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bark = <span class="string">&quot;woof&quot;</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(bark);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘åœ¨å‘¼å« dog æ™‚é‚„ä¸æ˜¯å€‹ functionï¼Œå› æ­¤æœƒå™´å‡º TypeError çš„éŒ¯èª¤<br><br></p>
<h2 id="å‡½å¼çš„-hoisting-å¯ä»¥è¼•æ˜“é”æˆéè¿´å‡½å¼"><a href="#å‡½å¼çš„-hoisting-å¯ä»¥è¼•æ˜“é”æˆéè¿´å‡½å¼" class="headerlink" title="å‡½å¼çš„ hoisting å¯ä»¥è¼•æ˜“é”æˆéè¿´å‡½å¼"></a>å‡½å¼çš„ hoisting å¯ä»¥è¼•æ˜“é”æˆéè¿´å‡½å¼</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">even</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> odd(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">odd</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">return</span> even(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">even(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>æˆ‘å€‘åœ¨ even è£¡é¢å‘¼å« oddï¼Œåœ¨ odd è£¡é¢ä¹Ÿå‘¼å« evenï¼Œé€™ç¨®éè¿´ç‹€æ³å¦‚æœæ²’æœ‰ hoisting æ˜¯æ²’è¾¦æ³•è§£æ±ºçš„ã€‚<br><br></p>
<h1 id="å‡½å¼èˆ‡è®Šæ•¸åŒåï¼Œå‡½å¼å„ªå…ˆ"><a href="#å‡½å¼èˆ‡è®Šæ•¸åŒåï¼Œå‡½å¼å„ªå…ˆ" class="headerlink" title="å‡½å¼èˆ‡è®Šæ•¸åŒåï¼Œå‡½å¼å„ªå…ˆ"></a>å‡½å¼èˆ‡è®Šæ•¸åŒåï¼Œå‡½å¼å„ªå…ˆ</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(dog); <span class="comment">// fn dog()&#123;&#125;</span></span><br><span class="line"><span class="keyword">var</span> dog;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dog</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å‡½å¼çš„å„ªå…ˆæ¬Šæ¯”è®Šæ•¸é«˜ï¼Œå¦‚æœ‰å¤šå€‹å‡½å¼ï¼Œå°‡æœƒè¦†è“‹å‰é¢çš„</p>
<br>

<h1 id="let-èˆ‡-const-ä¹Ÿæœ‰-hoisting"><a href="#let-èˆ‡-const-ä¹Ÿæœ‰-hoisting" class="headerlink" title="let èˆ‡ const ä¹Ÿæœ‰ hoisting"></a>let èˆ‡ const ä¹Ÿæœ‰ hoisting</h1><p>åœ¨ä¸Šä¸€ç¯‡<a href="https://happy9990929.github.io/2021/06/13/js-variable/">var, let, const æ¦‚å¿µ</a>å°±æœ‰è¬›åˆ°ï¼Œ letã€const ä¹Ÿæ˜¯æœƒæœ‰ hoisting çš„ï¼Œå·®åˆ¥åœ¨æ–¼æå‡ä¹‹å¾Œï¼Œvar å®£å‘Šçš„è®Šæ•¸æœƒè¢«åˆå§‹åŒ–ç‚º undefinedï¼Œè€Œ let èˆ‡ const çš„å®£å‘Šä¸æœƒè¢«åˆå§‹åŒ–ç‚º undefinedï¼Œè€Œä¸”å¦‚æœä½ åœ¨ã€Œè³¦å€¼ä¹‹å‰ã€å°±å­˜å–å®ƒï¼Œå°±æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚</p>
<p>åœ¨ã€Œæå‡ä¹‹å¾Œã€ä»¥åŠã€Œè³¦å€¼ä¹‹å‰ã€é€™æ®µæœŸé–“è¢«ç¨±ç‚ºã€Œæš«æ™‚æ­»å€ã€ï¼ˆTemporal Dead Zoneï¼ŒTDZï¼‰ï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘é¤Šæˆåœ¨è®Šæ•¸é‚„æ²’å®£å‘Šä¹‹å‰ï¼Œä¸è¦ä½¿ç”¨ä»–çš„å¥½ç¿’æ…£ï¼Œè®“ç¨‹å¼ç¢¼å¯è®€æ€§æé«˜ã€‚<br><br><br><br><br>hoisting çš„ç­†è¨˜å°±å‘Šä¸€æ®µè½ï¼Œäº†è§£æ­£ç¢ºè§€å¿µçœŸçš„å¾ˆé‡è¦ï¼Œæ­¡è¿è·¯éå¤šå¤šæŒ‡æ•™ï¼Œä¸€èµ·å­¸ç¿’ç¨‹å¼å§ ğŸ˜€<br></p>
<hr>
<h3 id="æ¨è–¦é–±è®€ï¼š-æˆ‘çŸ¥é“ä½ æ‡‚-hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ"><a href="#æ¨è–¦é–±è®€ï¼š-æˆ‘çŸ¥é“ä½ æ‡‚-hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ" class="headerlink" title="æ¨è–¦é–±è®€ï¼š æˆ‘çŸ¥é“ä½ æ‡‚ hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ"></a>æ¨è–¦é–±è®€ï¼š <a href="https://blog.techbridge.cc/2018/11/10/javascript-hoisting">æˆ‘çŸ¥é“ä½ æ‡‚ hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ</a></h3><hr>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>hoisting</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6-import &amp; export æ€éº¼ç”¨</title>
    <url>/2021/06/15/js-import-export/</url>
    <content><![CDATA[<p><img src="https://imgur.com/2Auy2fY.jpg" alt="Imgur"></p>
<p>ES6 æ¨å‡ºäº†ç®¡ç† javascript æ¨¡çµ„çš„èªæ³•ï¼Œé€é importã€export å¯ä»¥å°‡æ¯å€‹æª”æ¡ˆè¦–ç‚ºç¨ç«‹æ¨¡çµ„ï¼Œè®“æª”æ¡ˆä¸æœƒéæ–¼é¾å¤§ï¼Œä¸”å¯è®€æ€§ä¹Ÿæ¯”è¼ƒé«˜ï¼Œæ¯å€‹ç³»çµ±éƒ½æœ‰ç›¸å°çš„æ¨¡çµ„ï¼Œåœ¨ç¨‹å¼ç¢¼çš„ç®¡ç†èˆ‡çµ„ç¹”æ–¹ä¾¿äº†è¨±å¤šã€‚</p>
<a id="more"></a>

<p>è¦åœ¨ç€è¦½å™¨ä¸­é‹è¡Œï¼Œæˆ‘å€‘éœ€å…ˆåœ¨ HTML åŠ ä¸Šæ¨¡çµ„é¡å‹</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// importè¦åŒ¯å…¥çš„æª”æ¡ˆ</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é€™æ¨£ä¸€ä¾†ï¼Œå°±å¯ä»¥é–‹å§‹åšæ¨¡çµ„ç®¡ç†äº†ï¼</p>
<h1 id="import-amp-export"><a href="#import-amp-export" class="headerlink" title="import &amp; export"></a>import &amp; export</h1><p>export å¯ä»¥è¼¸å‡ºä»»ä½•é¡å‹çš„è³‡æ–™ï¼Œå¦‚ç‰©ä»¶ã€å‡½å¼èˆ‡ç´”å€¼ç­‰ï¼Œè¼¸å‡ºåˆåˆ†ç‚º default exportã€named export å…©ç¨®<br>import æ˜¯å°‡ export çš„æª”æ¡ˆåŒ¯å…¥ï¼Œdefault exportã€named export çš„è¼¸å…¥æ–¹å¼ä¹Ÿç¨å¾®ä¸å¤ªä¸€æ¨£ï¼Œè¼¸å…¥çš„æ•¸é‡æ˜¯æ²’æœ‰é™åˆ¶çš„</p>
<br>

<h2 id="default-export-é è¨­åŒ¯å‡º"><a href="#default-export-é è¨­åŒ¯å‡º" class="headerlink" title="default export(é è¨­åŒ¯å‡º)"></a>default export(é è¨­åŒ¯å‡º)</h2><p>å–®ä¸€è¼¸å‡ºåç¨±ï¼Œé è¨­ä½¿ç”¨ export defaultï¼Œæ¯ä¸€å€‹æª”æ¡ˆåªèƒ½æœ‰ä¸€å€‹ export default</p>
<h3 id="1-å¯ä»¥ä¸æŒ‡å®šè®Šæ•¸åç¨±"><a href="#1-å¯ä»¥ä¸æŒ‡å®šè®Šæ•¸åç¨±" class="headerlink" title="1.å¯ä»¥ä¸æŒ‡å®šè®Šæ•¸åç¨±"></a>1.å¯ä»¥ä¸æŒ‡å®šè®Šæ•¸åç¨±</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// export.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">  bark: <span class="string">&quot;woof&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> dog <span class="keyword">from</span> <span class="string">&quot;./export.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(dog.name); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<h3 id="2-ä¹Ÿå¯ä»¥æŒ‡å®šè®Šæ•¸åç¨±ï¼Œ-import-è£¡çš„åç¨±å¯ä»¥ä½¿ç”¨ä¸åŒçš„åç¨±å‘¼å«"><a href="#2-ä¹Ÿå¯ä»¥æŒ‡å®šè®Šæ•¸åç¨±ï¼Œ-import-è£¡çš„åç¨±å¯ä»¥ä½¿ç”¨ä¸åŒçš„åç¨±å‘¼å«" class="headerlink" title="2.ä¹Ÿå¯ä»¥æŒ‡å®šè®Šæ•¸åç¨±ï¼Œ import è£¡çš„åç¨±å¯ä»¥ä½¿ç”¨ä¸åŒçš„åç¨±å‘¼å«"></a>2.ä¹Ÿå¯ä»¥æŒ‡å®šè®Šæ•¸åç¨±ï¼Œ import è£¡çš„åç¨±<code>å¯ä»¥</code>ä½¿ç”¨ä¸åŒçš„åç¨±å‘¼å«</h3><p>ğŸ”¸ é è¨­å–®ç­†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// export.js</span></span><br><span class="line"><span class="keyword">const</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">  bark: <span class="string">&quot;woof&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> dog;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> goodDog <span class="keyword">from</span> <span class="string">&quot;./export.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(goodDog.name); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<p>ğŸ”¸ é è¨­å¤šç­†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// export.js</span></span><br><span class="line"><span class="keyword">const</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">  bark: <span class="string">&quot;woof&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; dog, add &#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> goodDog <span class="keyword">from</span> <span class="string">&quot;./export.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(goodDog.dog.name); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<br>

<h2 id="named-export-å…·ååŒ¯å‡º"><a href="#named-export-å…·ååŒ¯å‡º" class="headerlink" title="named export(å…·ååŒ¯å‡º)"></a>named export(å…·ååŒ¯å‡º)</h2><p>å¤šå€‹è¼¸å‡ºåç¨±ï¼Œéœ€å…ˆå®£å‘Šåç¨±ï¼Œåœ¨ import æ™‚å¿…é ˆä½¿ç”¨ä¸€æ¨£åç¨±æ‰èƒ½åŒ¯å‡ºï¼Œå³ä½¿åªåŒ¯å‡ºä¸€å€‹åç¨±ä¹Ÿéœ€åŠ ä¸Šä¸­æ‹¬è™Ÿ{}</p>
<h3 id="1-export-æ¯å€‹å®£å‘Š"><a href="#1-export-æ¯å€‹å®£å‘Š" class="headerlink" title="1.export æ¯å€‹å®£å‘Š"></a>1.export æ¯å€‹å®£å‘Š</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// export.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">  bark: <span class="string">&quot;woof&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; dog &#125; <span class="keyword">from</span> <span class="string">&quot;./export.js&quot;</span>; <span class="comment">// éœ€åŠ ä¸Šä¸­æ‹¬è™Ÿ&#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(dog.name); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<h3 id="2-åœ¨çµå°¾æ™‚çµ±ä¸€ä½¿ç”¨ç‰©ä»¶åŒ¯å‡º"><a href="#2-åœ¨çµå°¾æ™‚çµ±ä¸€ä½¿ç”¨ç‰©ä»¶åŒ¯å‡º" class="headerlink" title="2.åœ¨çµå°¾æ™‚çµ±ä¸€ä½¿ç”¨ç‰©ä»¶åŒ¯å‡º"></a>2.åœ¨çµå°¾æ™‚çµ±ä¸€ä½¿ç”¨ç‰©ä»¶åŒ¯å‡º</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// export.js</span></span><br><span class="line"><span class="keyword">const</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">  bark: <span class="string">&quot;woof&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; dog, add &#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; dog &#125; <span class="keyword">from</span> <span class="string">&quot;./export.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(dog.name); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="import-export-å…¨éƒ¨è³‡æ–™-ä½¿ç”¨"><a href="#import-export-å…¨éƒ¨è³‡æ–™-ä½¿ç”¨" class="headerlink" title="import/export å…¨éƒ¨è³‡æ–™ ä½¿ç”¨*"></a>import/export å…¨éƒ¨è³‡æ–™ ä½¿ç”¨*</h1><p>*ä»£è¡¨å…¨éƒ¨çš„æ„æ€ï¼Œä¸¦è³¦äºˆä¸€å€‹åç¨±ï¼Œå°±å¯ä»¥å‘¼å«ä½ è¦çš„æ±è¥¿å›‰!</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// export.js</span></span><br><span class="line"><span class="keyword">const</span> dog = &#123;</span><br><span class="line">  name: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">  bark: <span class="string">&quot;woof&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; dog, add &#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> myModule <span class="keyword">from</span> <span class="string">&quot;./export.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(myModule.dog.name); <span class="comment">// bobee</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="import-ç„¡éœ€åŒ¯å‡ºçš„æª”æ¡ˆ"><a href="#import-ç„¡éœ€åŒ¯å‡ºçš„æª”æ¡ˆ" class="headerlink" title="import ç„¡éœ€åŒ¯å‡ºçš„æª”æ¡ˆ"></a>import ç„¡éœ€åŒ¯å‡ºçš„æª”æ¡ˆ</h1><p>è‹¥æƒ³è¦å–®ç´”åŸ·è¡ŒæŸæ”¯æª”æ¡ˆç¨‹å¼ï¼Œå‰‡ä¸ç”¨å¸¶ä»»ä½•åç¨±å¼•å…¥å³å¯</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;/export.js&quot;</span>;</span><br></pre></td></tr></table></figure>
<hr>
<p>æœ‰äº† export è·Ÿ importï¼Œç¨‹å¼ç¢¼å¯ä»¥è¢«æ¨¡çµ„åŒ–ï¼Œè®“ç³»çµ±æ›´å¥½ç¶­è­·æå‡ç®¡ç†æ•ˆç‡ï¼Œ<br>æ­¡è¿è·¯éå¤šå¤šæŒ‡æ•™ï¼Œä¸€èµ·å­¸ç¿’ç¨‹å¼å§ ğŸ˜€<br></p>
<hr>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>import</tag>
        <tag>export</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript-Mathé‹ç®—</title>
    <url>/2022/06/27/js-math/</url>
    <content><![CDATA[<p><img src="https://imgur.com/zI7wsQu.jpg" alt="Imgur"><br>å¯« Javascript æ™‚æœ‰æ™‚å€™æœƒç¢°åˆ°ä¸€äº›å°æ•¸ã€æ•¸å­¸çš„é‹ç®—ï¼Œé€™ç¯‡æ­¸ç´äº†ä¸€äº›å¸¸ç”¨çš„ Math é‹ç®—</p>
<a id="more"></a>

<h1 id="Math-max"><a href="#Math-max" class="headerlink" title="Math.max()"></a>Math.max()</h1><p>å¯è¿”å›æŒ‡å®šçš„æ•¸ä¸­å¸¶æœ‰è¼ƒå¤§çš„å€¼çš„é‚£å€‹æ•¸<br>è¿”å›åƒæ•¸ä¸­æœ€å¤§çš„å€¼ã€‚å¦‚æœæ²’æœ‰åƒæ•¸ï¼Œå‰‡è¿”å› -Infinityã€‚<br>å¦‚æœæœ‰æŸå€‹åƒæ•¸ç‚º NaNï¼Œæˆ–æ˜¯ä¸èƒ½è½‰æ›æˆæ•¸å­—çš„éæ•¸å­—å€¼ï¼Œå‰‡è¿”å› NaNã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.max(<span class="number">5</span>,<span class="number">7</span>) <span class="comment">// 7</span></span><br><span class="line"><span class="built_in">Math</span>.max() <span class="comment">// -Infinity</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="literal">NaN</span>, <span class="number">999</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="Math-min"><a href="#Math-min" class="headerlink" title="Math.min()"></a>Math.min()</h1><p>å¯è¿”å›æŒ‡å®šçš„æ•¸ä¸­å¸¶æœ‰è¼ƒå°çš„å€¼çš„é‚£å€‹æ•¸</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.max(<span class="number">5</span>,<span class="number">7</span>) <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">Math</span>.max() <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="literal">NaN</span>, <span class="number">999</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="toFixed"><a href="#toFixed" class="headerlink" title="toFixed()"></a>toFixed()</h1><p>å››æ¨äº”å…¥ ä¿ç•™å…©ä½å°æ•¸</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num =<span class="number">2.446242342</span>;</span><br><span class="line">num.toFixed(<span class="number">2</span>); <span class="comment">// 2.45</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="Math-random"><a href="#Math-random" class="headerlink" title="Math.random()"></a>Math.random()</h1><p>å–å¾—äº‚æ•¸</p>
<p><strong>åŸå§‹å›å‚³0~0.99999(ç„¡çª®å°æ•¸)</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.random()</span><br></pre></td></tr></table></figure>
<p>å€¼ç¯„åœï¼š0 ~ 0.9999999(ç„¡çª®å°æ•¸)<br><br/></p>
<p><strong>è¨­å®šäº‚æ•¸æœ€å¤§å€¼</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> max = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">Math</span>.random() * max</span><br></pre></td></tr></table></figure>
<p>å€¼ç¯„åœï¼š0 ~ 2.9999999(ç„¡çª®å°æ•¸)<br><br/></p>
<p><strong>è¨­å®šäº‚æ•¸æœ€å°å€¼&amp;æœ€å¤§å€¼</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> max = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> min = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">Math</span>.random() * max + min</span><br></pre></td></tr></table></figure>
<p>å€¼ç¯„åœï¼š1 ~ 1.9999999(ç„¡çª®å°æ•¸)<br><br/></p>
<p><strong>è¨­å®šäº‚æ•¸æ•´æ•¸æœ€å°å€¼&amp;æœ€å¤§å€¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">2</span> + <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>å€¼ç¯„åœï¼š1 ~ 4 çš„æ•´æ•¸<br><br/></p>
<h1 id="Math-round"><a href="#Math-round" class="headerlink" title="Math.round()"></a>Math.round()</h1><p>å››æ¨äº”å…¥</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.round(<span class="number">0</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">4.3</span>); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">4.5</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="Math-ceil"><a href="#Math-ceil" class="headerlink" title="Math.ceil()"></a>Math.ceil()</h1><p>å–å¾—å¤§æ–¼æŒ‡å®šæ•¸çš„æœ€å°æ•´æ•¸å€¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">0</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">1.5</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="Math-floor"><a href="#Math-floor" class="headerlink" title="Math.floor()"></a>Math.floor()</h1><p>å–å¾—å°æ–¼æŒ‡å®šæ•¸çš„æœ€å¤§æ•´æ•¸å€¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.floor(<span class="number">0</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">1.5</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="åƒåˆ†ä½"><a href="#åƒåˆ†ä½" class="headerlink" title="åƒåˆ†ä½"></a>åƒåˆ†ä½</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toCurrency</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> parts = num.toString().split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  parts[<span class="number">0</span>] = parts[<span class="number">0</span>].replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">  <span class="keyword">return</span> parts.join(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Javascript</tag>
        <tag>Math.max</tag>
        <tag>Math.min</tag>
        <tag>toFixed</tag>
        <tag>Math.floor</tag>
        <tag>Math.random</tag>
        <tag>Math.round</tag>
        <tag>Math.ceil</tag>
        <tag>js ç„¡æ¢ä»¶é€²ä½</tag>
        <tag>js å››æ¨äº”å…¥</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6-Promise éåŒæ­¥çš„è§£æ±ºæ–¹æ¡ˆ</title>
    <url>/2021/07/29/js-promise/</url>
    <content><![CDATA[<p><img src="https://imgur.com/RuN7HR6.png" alt="Imgur"></p>
<p>ç”±æ–¼éåŒæ­¥çš„ç¨‹å¼æ²’è¾¦æ³•ç…§é †åºåŸ·è¡Œï¼Œåƒæ˜¯ AJAXã€setTimeout éƒ½æ˜¯å…¸å‹çš„éåŒæ­¥ï¼ŒES6 æå‡ºäº† Promise çš„æ–°ç‰©ä»¶ï¼Œå¯ä»¥ç¢ºä¿éåŒæ­¥è™•ç†å®Œç•¢å¾Œï¼Œå†é€²è¡Œä¸‹ä¸€æ­¥çš„å‹•ä½œï¼ŒPromise å°±æ˜¯ä¾†è§£æ±ºéåŒæ­¥çš„ç¨‹å¼ç¢¼ã€‚</p>
<a id="more"></a>

<h1 id="Promise-ç‰©ä»¶çš„ä¸‰ç¨®ç‹€æ…‹"><a href="#Promise-ç‰©ä»¶çš„ä¸‰ç¨®ç‹€æ…‹" class="headerlink" title="Promise ç‰©ä»¶çš„ä¸‰ç¨®ç‹€æ…‹"></a>Promise ç‰©ä»¶çš„ä¸‰ç¨®ç‹€æ…‹</h1><p>åœ¨å»ºç«‹ Promise ä¹‹å‰ï¼Œå…ˆä¾†äº†è§£ Promise åªæœƒå‡ºç¾ä»¥ä¸‹ä¸‰ç¨®ç‹€æ…‹</p>
<ol>
<li>pending åˆå§‹ç‹€æ…‹ (é€²è¡Œä¸­)</li>
<li>fulfilled äº‹ä»¶å·²å®Œæˆï¼Œå›å‚³ resolve çš„çµæœ</li>
<li>rejected äº‹ä»¶å·²å¤±æ•—ï¼Œå›å‚³ rejected çš„çµæœ</li>
</ol>
<p>Promise ç‹€æ…‹çš„æ”¹è®Šåªæœ‰å…©ç¨®å¯èƒ½<br>å¾ pending è®Šæˆ fulfilled<br>å¾ pending è®Šæˆ rejected<br>è€Œä¸€ä½†ç‹€æ…‹æ”¹è®Šå°±æœƒå›ºå®šï¼Œæ°¸é ä¸æœƒå†æ”¹è®Šç‹€æ…‹äº†ã€‚</p>
<br>

<h1 id="å»ºç«‹ä¸€å€‹-Promise-ç‰©ä»¶"><a href="#å»ºç«‹ä¸€å€‹-Promise-ç‰©ä»¶" class="headerlink" title="å»ºç«‹ä¸€å€‹ Promise ç‰©ä»¶"></a>å»ºç«‹ä¸€å€‹ Promise ç‰©ä»¶</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    resolve(<span class="string">&#x27;æˆåŠŸ&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    reject(<span class="string">&#x27;å¤±æ•—&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol>
<li>å‰µå»ºä¸€å€‹æ–° Promise æ§‹é€ å‡½æ•¸ï¼Œä¸¦ä»£å…¥ä¸€å€‹ function</li>
<li>function ä»£å…¥å…©å€‹åƒæ•¸ï¼Œé€™å…©å€‹åƒæ•¸ä¹Ÿæ˜¯å‡½å¼ï¼Œåˆ†åˆ¥ç‚º resolve (åŸ·è¡ŒæˆåŠŸ)ã€reject (åŸ·è¡Œå¤±æ•—)</li>
<li>è¨­å®š resolve / reject å›å‚³æ–¹æ³•<br>resolve() åŸ·è¡ŒæˆåŠŸçš„å‡½å¼<br>reject() åŸ·è¡Œå¤±æ•—çš„å‡½å¼</li>
</ol>
<br>

<h1 id="å–å¾—-Promise-çµæœ"><a href="#å–å¾—-Promise-çµæœ" class="headerlink" title="å–å¾— Promise çµæœ"></a>å–å¾— Promise çµæœ</h1><p>Promise ç‰©ä»¶ç”Ÿæˆå¾Œï¼Œå¯ä»¥ç”¨ Promise çš„åŸå‹æ–¹æ³•ä¾†åŸ·è¡Œå–å¾—çš„çµæœ</p>
<h2 id="then"><a href="#then" class="headerlink" title=".then()"></a>.then()</h2><p>ç¶å®šç•¶ fulfilled æˆ– rejected ç‹€æ…‹æ™‚ï¼Œåˆ†åˆ¥è¦åŸ·è¡Œçš„å‡½æ•¸ï¼Œ.then å¯å‚³å…¥å…©å€‹åƒæ•¸</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">promise.then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç•¶ç‹€æ…‹æ˜¯ fulfilled (æˆåŠŸ) æ™‚ï¼ŒåŸ·è¡Œé€™å€‹å‡½æ•¸</span></span><br><span class="line">    <span class="comment">// value æ˜¯é€é resolve() å‚³é€²ä¾†çš„åƒæ•¸</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç•¶ç‹€æ…‹æ˜¯ rejected (å¤±æ•—) æ™‚ï¼ŒåŸ·è¡Œé€™å€‹å‡½æ•¸</span></span><br><span class="line">    <span class="comment">// error æ˜¯é€é reject() å‚³é€²ä¾†çš„åƒæ•¸</span></span><br><span class="line">    <span class="comment">// æ­¤åƒæ•¸é¸æ“‡æ€§çš„ï¼Œä¸ä¸€å®šéœ€è¦</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="catch"><a href="#catch" class="headerlink" title=".catch()"></a>.catch()</h2><p>ç¶å®šç•¶ rejected ç‹€æ…‹æ™‚ï¼Œè¦åŸ·è¡Œçš„å‡½æ•¸</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">promise.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="finally"><a href="#finally" class="headerlink" title=".finally()"></a>.finally()</h2><p>ä¸å¸¶æœ‰ä»»ä½•åƒæ•¸ï¼Œè¡¨ç¤ºéåŒæ­¥åŸ·è¡Œå®Œç•¢ï¼Œç„¡è«–æ˜¯å¦æ­£ç¢ºå®Œæˆï¼Œè¦åŸ·è¡Œçš„å‡½æ•¸</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">promise</span><br><span class="line">  .then(<span class="function">(<span class="params">success</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(success);</span><br><span class="line">  &#125;)</span><br><span class="line">  .finally(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;done&#x27;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<br>

<h1 id="Chaining-ä¸²æ¥"><a href="#Chaining-ä¸²æ¥" class="headerlink" title="Chaining ä¸²æ¥"></a>Chaining ä¸²æ¥</h1><p>thenã€catch åŸ·è¡Œå¾Œéƒ½æœƒè¿”å›ä¸€å€‹æ–°çš„ Promise ç‰©ä»¶ï¼Œå¯ä»¥ä½¿ç”¨éˆæ¥çš„æ–¹å¼ä¸æ–·çš„é€²è¡Œ<br>å¾Œé¢çš„ then æœƒæ¥æ”¶å‰ä¸€å€‹ then çš„ return value ç•¶ä½œåƒæ•¸</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  resolve(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str + <span class="string">&#x27; 456&#x27;</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(str); <span class="comment">// 123456</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<br>

<h1 id="Promise-æ–¹æ³•ä»‹ç´¹"><a href="#Promise-æ–¹æ³•ä»‹ç´¹" class="headerlink" title="Promise æ–¹æ³•ä»‹ç´¹"></a>Promise æ–¹æ³•ä»‹ç´¹</h1><h2 id="Promise-all-iterable"><a href="#Promise-all-iterable" class="headerlink" title="Promise.all(iterable)"></a>Promise.all(iterable)</h2><p>é€éé™£åˆ—çš„å½¢å¼å‚³å…¥å¤šå€‹ promise å‡½å¼ï¼ŒPromise.all æœƒå›å‚³ä¸€å€‹é™£åˆ—ï¼Œåˆ†åˆ¥æœ‰ä¸‰ç¨®æƒ…æ³</p>
<ol>
<li>ç•¶å¼•æ•¸ iterable ä¸­æ‰€æœ‰çš„ promises éƒ½è¢«å¯¦ç¾ï¼ˆresolvedï¼‰</li>
<li>å¼•æ•¸ iterable ä¸å«ä»»ä½• promise æ™‚ï¼Œè¢«å¯¦ç¾</li>
<li>å¾—åˆ°ä¸€å€‹ rejected æ™‚ï¼Œç¬¬ä¸€å€‹è¢« reject çš„å€¼æœƒè¢«å‚³é€²å› all Promise ç‰©ä»¶çš„ callback</li>
</ol>
<p>ç•¶å…¨éƒ¨åŸ·è¡Œå®Œæˆå¾Œå›å‚³é™£åˆ—çµæœï¼Œé™£åˆ—çš„çµæœé †åºèˆ‡å‚³å…¥çš„é †åºä¸€è‡´ï¼Œé©åˆç”¨åœ¨å¤šæ”¯ API è¦ä¸€èµ·åŸ·è¡Œï¼Œä¸¦ç¢ºä¿å…¨éƒ¨å®Œæˆå¾Œæ‰é€²è¡Œå…¶ä»–å·¥ä½œæ™‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([p1, p2, p3]).then(<span class="function"><span class="keyword">function</span> (<span class="params">values</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(values); <span class="comment">// [3, 123, &quot;foo&quot;]</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br>

<h2 id="Promise-race-iterable"><a href="#Promise-race-iterable" class="headerlink" title="Promise.race(iterable)"></a>Promise.race(iterable)</h2><p>é€éé™£åˆ—çš„å½¢å¼å‚³å…¥å¤šå€‹ promise å‡½å¼ï¼ŒPromise.race çš„çµæœç‚ºç¬¬ä¸€å€‹æœ€å…ˆæ”¹è®Šç‹€æ…‹çš„ Promise ç‰©ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">500</span>, <span class="string">&#x27;one&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;two&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([p1, p2]).then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value); <span class="comment">// æœƒé¡¯ç¤º &quot;two&quot;ï¼Œå› ç‚º p2 æ¯”è¼ƒå¿«è¢« resolve</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br>

<h2 id="Promise-resolve-value"><a href="#Promise-resolve-value" class="headerlink" title="Promise.resolve(value)"></a>Promise.resolve(value)</h2><p>ç›´æ¥å®šç¾© Promise ç‰©ä»¶ resolve çš„ç‹€æ…‹ï¼Œå›å‚³ä¸€å€‹ Promise ç‰©ä»¶ï¼Œvalue æœ‰ä¸‰ç¨®å¯èƒ½</p>
<ol>
<li>value ç‚ºå…·æœ‰â€thenâ€æ–¹æ³•çš„ Promiseï¼Œå›å‚³çš„ promise å°‡ä¾å…¶çµæœæ¡å–å…¶æœ€çµ‚ç‹€æ…‹</li>
<li>value ç‚º promiseï¼Œå‘¼å« Promise.resolve ä¹‹çµæœ</li>
<li>å…¶ä»–æƒ…å½¢éƒ½å°‡å›å‚³ä»¥ value å¯¦ç¾çš„ promise</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="string">&#x27;Success&#x27;</span>).then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Fail&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¼¸å‡º &quot;Success&quot;</span></span><br></pre></td></tr></table></figure>
<br>

<h2 id="Promise-reject-reason"><a href="#Promise-reject-reason" class="headerlink" title="Promise.reject(reason)"></a>Promise.reject(reason)</h2><p>å›å‚³ä¸€å€‹ä»¥ reason æ‹’çµ•çš„ Promise ç‰©ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Fail&#x27;</span>)).then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Success&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Fail&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¼¸å‡º &quot;Fail&quot;</span></span><br></pre></td></tr></table></figure>
<p><br><br><br>æœ‰äº† Promise éåŒæ­¥èªæ³•ï¼Œå°±å¯ä»¥æ¨æ£„å¤æ—©æ™‚æœŸä½¿ç”¨çš„ callback hellï¼Œè®Šå¾—æ›´æ¸…æ¥šç›´è§€ï¼Œç¨‹å¼ç¢¼å¯è®€æ€§æ›´é«˜äº† ğŸ‘</p>
<hr>
<h3 id="åƒè€ƒæ–‡ç»ï¼š-Fooish-ç¨‹å¼æŠ€è¡“ã€MDNã€å¡æ–¯æŸâ€™s-blog"><a href="#åƒè€ƒæ–‡ç»ï¼š-Fooish-ç¨‹å¼æŠ€è¡“ã€MDNã€å¡æ–¯æŸâ€™s-blog" class="headerlink" title="åƒè€ƒæ–‡ç»ï¼š Fooish ç¨‹å¼æŠ€è¡“ã€MDNã€å¡æ–¯æŸâ€™s blog"></a>åƒè€ƒæ–‡ç»ï¼š <a href="https://www.fooish.com/javascript/ES6/Promise.html">Fooish ç¨‹å¼æŠ€è¡“</a>ã€<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/all">MDN</a>ã€<a href="https://wcc723.github.io/development/2020/02/16/all-new-promise/">å¡æ–¯æŸâ€™s blog</a></h3><hr>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>ES6</tag>
        <tag>Javascript</tag>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title>VUEçš„ç”Ÿå‘½é€±æœŸ</title>
    <url>/2021/03/05/lifecycle-hooks/</url>
    <content><![CDATA[<h1 id="VUE-çš„ç”Ÿå‘½é€±æœŸ-Lifecycle-Hooks"><a href="#VUE-çš„ç”Ÿå‘½é€±æœŸ-Lifecycle-Hooks" class="headerlink" title="VUE çš„ç”Ÿå‘½é€±æœŸ(Lifecycle Hooks)"></a>VUE çš„ç”Ÿå‘½é€±æœŸ(Lifecycle Hooks)</h1><p><strong>setup</strong> =&gt; vue æ›è¼‰åˆ° app ä¸Šé¢å¾ŒåŸ·è¡Œ<br><strong>onBeforeMount</strong> =&gt; DOM æ¸²æŸ“å‰åŸ·è¡Œ<br><strong>onMounted</strong> =&gt; DOM æ¸²æŸ“å®Œæˆå¾ŒåŸ·è¡Œ<br><strong>onBeforeUpdate</strong> =&gt; è³‡æ–™æ›´æ–° DOM æ›´æ”¹å‰åŸ·è¡Œ<br><strong>onUpdated</strong> =&gt; è³‡æ–™æ›´æ–° DOM æ›´æ”¹å¾ŒåŸ·è¡Œ</p>
<a id="more"></a>

<p><strong>onBeforeUnmount</strong> =&gt; çµ„ä»¶éŠ·æ¯€å‰åŸ·è¡Œ<br><strong>onUnmounted</strong> =&gt; çµ„ä»¶éŠ·æ¯€å¾ŒåŸ·è¡Œ<br><strong>onErrorCaptured</strong> =&gt; ç•¶çµ„ä»¶ç™¼å‡ºéŒ¯èª¤æ™‚å¾Œèª¿ç”¨<br><strong>onRenderTracked</strong> =&gt; ç›£æ§ virtual DOM é‡æ–°é¸æŸ“æ™‚èª¿ç”¨ ( æ­¤äº‹ä»¶å‘Šè¨´ä½ æ“ä½œä»€éº¼ç›£è½äº†çµ„ä»¶ä»¥åŠè©²æ“ä½œçš„ç‰©ä»¶)<br><strong>onRenderTriggered</strong> =&gt; ç›£æ§ virtual DOM é‡æ–°é¸æŸ“æ™‚èª¿ç”¨ ( æ­¤äº‹ä»¶å‘Šè¨´ä½ æ“ä½œä»€éº¼è§¸ç™¼äº†é‡æ–°æ¸²æŸ“ï¼Œä»¥åŠè©²æ“ä½œçš„ç‰©ä»¶)</p>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>ç”Ÿå‘½é€±æœŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>var, let, const è®Šæ•¸å®£å‘Šå·®åˆ¥</title>
    <url>/2021/06/13/js-variable/</url>
    <content><![CDATA[<p><img src="https://i.imgur.com/W5cIWBE.jpg" alt="Imgur"></p>
<p>ES6 æå‡ºçš„ let èˆ‡ constï¼Œèƒ½è®“å®£å‘Šè®Šæ•¸çš„ä½¿ç”¨æ–¹å¼ã€å‹æ…‹å¯ä»¥æ›´è¬¹æ…ï¼Œä¹Ÿæœƒé™åˆ¶ scope ç¯„åœï¼Œä¸€èµ·ä¾†çœ‹çœ‹ var, let, const ä¹‹é–“æœ‰ä»€éº¼å·®ç•°å§ï¼</p>
<a id="more"></a>

<h1 id="var-let-const-çš„å·®ç•°"><a href="#var-let-const-çš„å·®ç•°" class="headerlink" title="var, let, const çš„å·®ç•°"></a>var, let, const çš„å·®ç•°</h1><table>
<thead>
<tr>
<th></th>
<th>å¯ä»¥è¢«ä¿®æ”¹</th>
<th>å¯é‡è¤‡å®£å‘Š</th>
<th>ä½œç”¨åŸŸ</th>
<th>hoistingï¼ˆè®Šé‡æå‡ï¼‰</th>
<th>å®£å‘Šå‰å­˜å–</th>
</tr>
</thead>
<tbody><tr>
<td>var</td>
<td>âœ”ï¸ å¯ä»¥</td>
<td>âœ”ï¸ å¯é‡è¤‡å®£å‘Šä¸¦è¦†è“‹</td>
<td>åƒ…é™ funciton</td>
<td>æœ‰ hoisting</td>
<td>undefine</td>
</tr>
<tr>
<td>let</td>
<td>âœ”ï¸ å¯ä»¥</td>
<td>âŒ ä¸å¯</td>
<td>block å€å¡Š</td>
<td>æœ‰ hoisting + TDZ</td>
<td>ReferenceError</td>
</tr>
<tr>
<td>const</td>
<td>âŒ ä¸å¯</td>
<td>âŒ ä¸å¯</td>
<td>block å€å¡Š</td>
<td>æœ‰ hoisting + TDZ</td>
<td>ReferenceError</td>
</tr>
</tbody></table>
<h1 id="var"><a href="#var" class="headerlink" title="var"></a>var</h1><p>var çš„ä½œç”¨åŸŸåªæœ‰åœ¨<code>å‡½å¼</code>å€å¡Šï¼Œåœ¨ if æˆ– for è¿´åœˆæ˜¯æ²’æœ‰ä½œç”¨åŸŸçš„ï¼Œéƒ½æœƒè¢«ç•¶æˆå…¨åŸŸä½¿ç”¨ï¼Œå¦‚æœ‰å¤–éƒ¨ç¨‹å¼è·Ÿé€™äº›è®Šæ•¸åç¨±ç›¸åŒæ™‚ï¼Œå®¹æ˜“ç™¼ç”Ÿä¸å¯é æœŸçš„éŒ¯èª¤ï¼Œæˆ–åœ¨ç„¡æ„é–“ä¿®æ”¹äº†ä¸æƒ³ä¿®æ”¹çš„è®Šæ•¸</p>
<p>åœ¨ var å®£å‘Šä¸­æœƒè¢«æ‹†æˆå…©è¡Œï¼Œè®Šæ•¸çš„å®£å‘Šæœƒæå‡ï¼Œè³¦å€¼ä¸æœƒæå‡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//undefine</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>ç­‰åŒæ–¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<br>
å†ä¾†çœ‹çœ‹ var çš„ä½œç”¨åŸŸ

<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">print(); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å‡½å¼ä¸­æ˜¯æœ‰ä½œç”¨åŸŸçš„ï¼Œå‡½å¼å¤–çš„ a ä¸æœƒè¢«è¦†è“‹æ‰</p>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">//2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//2 aè¢«è¦†è“‹æ‰äº†</span></span><br></pre></td></tr></table></figure>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">1</span>; a &lt; <span class="number">10</span>; a++) &#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>, a); <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;b&quot;</span>, b); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ if è·Ÿ for è£¡çš„è®Šæ•¸éƒ½æœƒè¢«ä¿®æ”¹ï¼Œb åœ¨ global æœªå®£å‘Šï¼Œå»å¯ä»¥å°å‡ºæ•¸å€¼ï¼Œè­‰æ˜åœ¨é€™é‚Šæ˜¯æ²’æœ‰è‡ªå·±çš„å€å¡Šçš„</p>
<p>å¦‚å°‡æ­¤æ”¹ç‚º letï¼Œå°±å¯ä»¥é”åˆ°æˆ‘å€‘è¦çš„çµæœ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> a = <span class="number">1</span>; a &lt; <span class="number">10</span>; a++) &#123;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>, a); <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;b&quot;</span>, b); <span class="comment">// b is not defined</span></span><br></pre></td></tr></table></figure>
<h2 id="è¿´åœˆ-éåŒæ­¥"><a href="#è¿´åœˆ-éåŒæ­¥" class="headerlink" title="è¿´åœˆ+éåŒæ­¥"></a>è¿´åœˆ+éåŒæ­¥</h2><p>é æœŸ: å°å‡ºæ¯ç§’ 1-9 çš„æ•¸å­—</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">1</span>; a &lt; <span class="number">10</span>; a++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// 10(å°äº†9æ¬¡)</span></span><br><span class="line">  &#125;, a * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°å‡ºä¾†çš„æ˜¯ 10ï¼Œä¸¦éæˆ‘å€‘æƒ³è¦çš„çµæœï¼Œå¯ä»¥ç”¨é–‰åŒ…çš„æ–¹å¼è§£æ±º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">1</span>; a &lt; <span class="number">10</span>; a++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params">b</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(b); <span class="comment">// 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">    &#125;, b * <span class="number">1000</span>);</span><br><span class="line">  &#125;)(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æ­¤ä¸€ä¾†å¯ä»¥å‡ºç¾æˆ‘å€‘è¦çš„çµæœï¼Œä½†æœ€ç°¡å–®çš„æ–¹å¼é‚„æ˜¯ç›´æ¥æ”¹ç‚º let å°±å¯ä»¥è¼•æ˜“çš„åšåˆ°</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> a = <span class="number">1</span>; a &lt; <span class="number">10</span>; a++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">  &#125;, a * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="let-amp-const"><a href="#let-amp-const" class="headerlink" title="let &amp; const"></a>let &amp; const</h1><p>letã€const çš„ä½œç”¨åŸŸéƒ½åœ¨ block{}å€å¡Šï¼Œä»–å€‘å…©è€…æœ€å¤§çš„ä¸åŒæ˜¯<br>let å¯ä»¥è¢«ä¿®æ”¹çš„è®Šæ•¸<br>const ä¸å¯ä»¥è¢«ä¿®æ”¹çš„å¸¸æ•¸ï¼Œé™¤éæ˜¯åƒè€ƒå€¼(ç‰©ä»¶ã€é™£åˆ—)</p>
<p>æ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ï¼Œletã€const æœ‰ã€Œæš«æ™‚æ­»å€ã€ï¼ˆTemporal Dead Zoneï¼ŒTDZï¼‰çš„ç‰¹æ€§ï¼Œä¸­æ–‡è§£é‡‹ç‚ºã€Œæ™‚é–“ä¸Šæš«æ™‚ç„¡æ³•é”åˆ°çš„å€åŸŸã€ï¼Œå¦‚æœåœ¨å®£å‘Šè®Šæ•¸ä¹‹å‰ä½¿ç”¨è®Šæ•¸ï¼Œé€™å€‹è®Šæ•¸å°±æ˜¯å­˜åœ¨ã€Œæš«æ™‚æ­»å€ã€ä¸­ç„¡æ³•å­˜å–ï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘é¤Šæˆåœ¨è®Šæ•¸é‚„æ²’å®£å‘Šä¹‹å‰ï¼Œä¸è¦ä½¿ç”¨ä»–çš„å¥½ç¿’æ…£ï¼Œè®“ç¨‹å¼ç¢¼å¯è®€æ€§æé«˜ã€‚<br>é‚£ letã€const æœƒä¸æœƒæœ‰ hoisting å‘¢?<br>ç­”æ¡ˆæ˜¯: æœ‰çš„! letã€const å­˜åœ¨è®Šæ•¸æå‡ï¼Œä½†æ˜¯åœ¨ã€Œæå‡ä¹‹å¾Œã€ä»¥åŠã€Œè³¦å€¼ä¹‹å‰ã€çš„ TDZ ä¹‹é–“æ˜¯ä¸å­˜åœ¨çš„ã€‚</p>
<h2 id="ç‰©ä»¶æ˜¯åƒè€ƒ"><a href="#ç‰©ä»¶æ˜¯åƒè€ƒ" class="headerlink" title="ç‰©ä»¶æ˜¯åƒè€ƒ"></a>ç‰©ä»¶æ˜¯åƒè€ƒ</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a[<span class="number">5</span>] = <span class="number">6</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>
<p>const å¦‚æœç‚ºåƒè€ƒå€¼(by reference)æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„<br><br><br>ES6 æå‡ºçš„ let èˆ‡ constï¼Œèƒ½è®“å®£å‘Šè®Šæ•¸å¯ä»¥æ›´è¬¹æ…ï¼Œä¹Ÿæœƒé™åˆ¶ç¯„åœï¼Œæ‰ä¸æœƒé€ æˆå‡ºä¹æ„æ–™çš„çµæœã€‚</p>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>var</tag>
        <tag>let</tag>
        <tag>const</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js èˆ‡ npm æ›´æ–°çš„æ–¹å¼</title>
    <url>/2021/02/08/nodeJS-update/</url>
    <content><![CDATA[<h2 id="Node-js-æ›´æ–°"><a href="#Node-js-æ›´æ–°" class="headerlink" title="Node.js æ›´æ–°"></a>Node.js æ›´æ–°</h2><h3 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">npm cache clean -f</span><br><span class="line">npm install -g n</span><br><span class="line"><span class="comment">// è‹¥è¦æ›´æ–°åˆ°æœ€å¾Œä¸€å€‹ç‰ˆæœ¬</span></span><br><span class="line">n latest</span><br><span class="line"><span class="comment">// è‹¥è¦æ›´æ–°åˆ°ç©©å®šç‰ˆæœ¬</span></span><br><span class="line">n stable</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><p>ä¸Šé¢çš„æ–¹æ³•ç”¨åœ¨ windows æ˜¯è¡Œä¸é€šçš„ï¼Œç”±æ–¼ n æ¨¡å¡Šä¸æ”¯æ´ windowsï¼Œéœ€åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ node å®˜ç¶²ä¸‹è¼‰ LTS ç‰ˆæœ¬çš„ node å®‰è£åŒ…ï¼Œå®‰è£å¾Œè¦†è“‹åŒè·¯å¾‘å³å¯ã€‚<br><br>æŸ¥çœ‹ node å®‰è£è·¯å¾‘<br></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">where</span> node</span><br></pre></td></tr></table></figure>
<h2 id="æª¢æŸ¥-Node-js-ç‰ˆæœ¬"><a href="#æª¢æŸ¥-Node-js-ç‰ˆæœ¬" class="headerlink" title="æª¢æŸ¥ Node.js ç‰ˆæœ¬"></a>æª¢æŸ¥ Node.js ç‰ˆæœ¬</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>
<h2 id="NPM-æ›´æ–°"><a href="#NPM-æ›´æ–°" class="headerlink" title="NPM æ›´æ–°"></a>NPM æ›´æ–°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g npm</span><br></pre></td></tr></table></figure>
<h2 id="æª¢æŸ¥-NPM-ç‰ˆæœ¬"><a href="#æª¢æŸ¥-NPM-ç‰ˆæœ¬" class="headerlink" title="æª¢æŸ¥ NPM ç‰ˆæœ¬"></a>æª¢æŸ¥ NPM ç‰ˆæœ¬</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>nodeJs</category>
      </categories>
      <tags>
        <tag>nodeJs</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ npm ci ä¸æ›´æ–° package-lock.json</title>
    <url>/2022/01/01/npm-ci/</url>
    <content><![CDATA[<p><img src="https://imgur.com/95xxPeT.png" alt="npm"></p>
<p>æœ€è¿‘åœ¨ clone æ–°å°ˆæ¡ˆæ™‚ï¼Œä¸‹äº† npm installï¼Œç™¼ç¾ package-lock.json è£¡çš„å¥—ä»¶ç‰ˆæœ¬è¢«æ›´æ–°äº†ï¼Œä½†åˆæ€•æ¨ä¸Šå»æœƒæœ‰ç‰ˆæœ¬ä¸Šçš„å•é¡ŒğŸ˜“<br>çˆ¬äº†ä¸€ä¸‹æ–‡æ‰çŸ¥é“ï¼ŒåŸä¾† npm install æœƒè‡ªå‹•å¹«ä½ æ›´æ–°å¥—ä»¶ğŸ˜¨ å¯æ˜¯ç‘å‡¡~~~æˆ‘æ²’æœ‰è¦æ›´æ–°å•Š!!<br>ä¸éæ„å¤–ä¹Ÿç™¼ç¾äº†å¦ä¸€å€‹å¥½æ±è¥¿<code>npm ci</code>ï¼Œå¯ä»¥è§£æ±ºé€™å€‹å•é¡Œã€‚</p>
<a id="more"></a>

<h1 id="ä»€éº¼æ˜¯-npm-ci"><a href="#ä»€éº¼æ˜¯-npm-ci" class="headerlink" title="ä»€éº¼æ˜¯ npm ci ?"></a>ä»€éº¼æ˜¯ npm ci ?</h1><p>npm ci è·Ÿ npm i ä¸€æ¨£ï¼Œéƒ½å¯ä»¥å®‰è£ä¾è³´ï¼Œnpm ci çš„ ci æ˜¯ã€ŒContinuous Integrationã€ï¼Œä¸­æ–‡æ˜¯æŒçºŒé›†æˆçš„æ„æ€ï¼Œé€™å€‹æŒ‡ä»¤åœ¨ npm 5.7.1 çš„ç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ã€‚</p>
<h1 id="npm-install-èˆ‡-npm-ci-æœ‰ä»€éº¼å·®åˆ¥"><a href="#npm-install-èˆ‡-npm-ci-æœ‰ä»€éº¼å·®åˆ¥" class="headerlink" title="npm install èˆ‡ npm ci æœ‰ä»€éº¼å·®åˆ¥?"></a>npm install èˆ‡ npm ci æœ‰ä»€éº¼å·®åˆ¥?</h1><p>npm install é‡å° package.json çš„ç‰ˆæœ¬ä¾†å®‰è£å¥—ä»¶ï¼ŒåŸ·è¡Œå¾Œæœƒå‡ºç¾ node_modulesã€package-lock.jsonï¼Œæœƒè‡ªå‹•é‚„åŸå°ˆæ¡ˆä¸¦æ›´æ–°å¥—ä»¶</p>
<p>npm ci é‡å° package-lock.json çš„ç‰ˆæœ¬ä¾†å®‰è£å¥—ä»¶ï¼Œå°ˆæ¡ˆéœ€æœ‰ package-lock.json æˆ– npm-shrinkwrap.json æ–‡ä»¶å­˜åœ¨ï¼Œå› ç‚ºæ˜¯åƒç…§package-lock.json çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸æœƒæœ‰ç‰ˆæœ¬è‡ªå‹•æ›´æ–°çš„å•é¡Œ<br>å¦å¤–é‚„æœ‰ä¸€äº› npm ci éœ€æ³¨æ„çš„åœ°æ–¹<br>ğŸ”¸ ç•¶ package-lock.json ä¸­çš„ä¾è³´æ–¼ package.json ä¸ä¸€è‡´æ™‚ï¼Œnpm ci é€€å‡ºä½†ä¸æœƒä¿®æ”¹ package-lock.json<br>ğŸ”¸ npm ci åªå¯ä»¥ä¸€æ¬¡æ€§çš„å®‰è£æ•´å€‹å°ˆæ¡ˆä¾è³´ï¼Œä½†ç„¡æ³•æ–°å¢å–®å€‹ä¾è³´é …<br>ğŸ”¸ å¦‚æœ node_modules å·²ç¶“å­˜åœ¨ï¼Œå®ƒæœƒå…ˆåˆªé™¤ node_modules ä¹‹å¾Œå†å®‰è£ï¼Œä»¥ç¢ºä¿ä¹¾æ·¨çš„ç‹€æ…‹</p>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
<h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»:"></a>åƒè€ƒæ–‡ç»:</h3><p><a href="https://hsiangfeng.github.io/nodejs/20211027/1827968017/">npm ci èˆ‡ npm install å·®ç•°</a></p>
<hr>
]]></content>
      <categories>
        <category>npm</category>
      </categories>
      <tags>
        <tag>npm ci</tag>
        <tag>npm install</tag>
        <tag>package-lockè¢«æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨ VUE ä¾†åš recaptcha v2 / recaptcha v3 éæ©Ÿå™¨äººé©—è­‰</title>
    <url>/2022/06/12/plugins-recaptcha/</url>
    <content><![CDATA[<p><img src="https://imgur.com/zFD6djt.jpg" alt="reCAPTCHA"></p>
<p>Google reCAPTCHA æ˜¯ä¸€å€‹æ™ºæ…§é©—è­‰å·¥å…·ï¼Œå¯ä»¥å¹«åŠ©ç¶²ç«™é˜»æ“‹æ©Ÿå™¨äººï¼Œæˆ–ä»»ä½•å½¢å¼çš„è‡ªå‹•æ”»æ“Šï¼Œæ—¢ç°¡å–®åˆå®‰å…¨ï¼Œä¸ç”¨å†è¼¸å…¥é›£ä»¥è¾¨è­˜çš„é©—è­‰è‹±æ–‡æ•¸å­—åœ–äº†ğŸ˜†</p>
<a id="more"></a>
<br/>

<h1 id="reCAPTCHA-ä»‹ç´¹"><a href="#reCAPTCHA-ä»‹ç´¹" class="headerlink" title="reCAPTCHA ä»‹ç´¹"></a>reCAPTCHA ä»‹ç´¹</h1><p><strong>reCAPTCHA æœ‰ä¸‰ç¨®ç‰ˆæœ¬ï¼Œåˆ†åˆ¥ç‚º reCAPTCHA v2ã€reCAPTCHA v3ã€Enterprise</strong><br><br/></p>
<p><strong>reCAPTCHA v2 ä»¥å•é¡Œé©—è­‰è¦æ±‚</strong><br>ã€Œè¿½è¹¤åœ¨ç¶²ç«™ç™»å…¥å–®ä¸€é é¢ã€<br>v2 æœƒä¾ç”¨æˆ¶é»æ“Šé©—è­‰æ¡†ã€Œæˆ‘ä¸æ˜¯æ©Ÿå™¨äººã€ä¹‹å‰ã€ç•¶æ™‚å’Œä¹‹å¾Œçš„è¡Œç‚ºï¼Œå¾è€Œä¾†åˆ¤æ–·æ˜¯å¦æ˜¯äººç‚ºæ“ä½œï¼Œå¦‚æœä½ è¢«èª¤åˆ¤ç‚ºæ©Ÿå™¨äººï¼Œç¶²ç«™æœƒè¦æ±‚äººæ©Ÿé©—è­‰ï¼Œå¦‚å¾ä¹å®®æ ¼åœ–ç‰‡ä¸­é¸å‡ºæŒ‡å®šçš„åœ–æ¡ˆ</p>
<p><img src="https://imgur.com/vj4lIaa.jpg" alt="reCAPTCHA v2"><br><br/></p>
<p><strong>reCAPTCHA v3 ä»¥åˆ†æ•¸é©—è­‰è¦æ±‚</strong><br>ã€Œæ‰€æœ‰çš„é é¢éƒ½æœƒæœ‰ reCaptcha çš„è¿½è¹¤åŠŸèƒ½ã€<br>ä¸éœ€åšä»»ä½•äº‹ï¼Œv3æœƒé‡å°ä½¿ç”¨è€…è¡Œç‚ºï¼Œåˆ¤å®šå®‰å…¨æ€§åˆ†æ•¸ï¼Œ1.0 ä»£è¡¨æ“ä½œè‡ªç„¶å¾ˆåƒçœŸäººï¼Œ0.0 æ„å‘³æ¥µæœ‰å¯èƒ½æ˜¯æ©Ÿå™¨äººï¼Œå¦‚å®‰å…¨æ€§å¤ªä½ï¼Œç¶²ç«™æ‰æœƒè¦æ±‚äººæ©Ÿé©—è­‰ã€‚<br>å¦‚ä½¿ç”¨ v3ï¼Œå³ä¸‹è§’æœƒå‡ºç¾ reCAPTCHA çš„åœ–ç¤ºï¼Œå¯ç”¨ css éš±è—<br><img src="https://imgur.com/gzCvEID.jpg" alt="reCAPTCHA v3"></p>
<br/>

<p><strong>Enterprise ä¼æ¥­ç‰ˆ</strong><br>å¤šäº†æ›´å¤šé€²éšåŠŸèƒ½ï¼Œv2/v3 æœ‰æ¯å€‹æœˆä¸€ç™¾è¬æ¬¡çš„ä½¿ç”¨ä¸Šé™ï¼Œè‹¥ç”¨é‡å¤§æ–¼ä¸€ç™¾è¬ï¼Œå¯é¸æ“‡ Enterprise</p>
<br/>

<p>æ¥ä¸‹ä¾†æœƒä½¿ç”¨ VUE ä¾†åš reCAPTCHA v2ã€reCAPTCHA v3 çš„å‰ç«¯æ“ä½œ<br>åœ¨é€™ä¹‹å‰å…ˆä¾†è¼•é¬†ä¸€ä¸‹ï½ä½ æ‰¾å¾—å‡ºå“ªäº›æ˜¯è´è¶çŠ¬å—ğŸ˜†</p>
<p><img src="https://imgur.com/Eb8xmSQ.jpg" alt="ä¹å®®æ ¼"></p>
<br/>

<p>å›åˆ°æ­£é¡Œï½</p>
<h1 id="reCAPTCHA-ä½¿ç”¨æµç¨‹"><a href="#reCAPTCHA-ä½¿ç”¨æµç¨‹" class="headerlink" title="reCAPTCHA ä½¿ç”¨æµç¨‹"></a>reCAPTCHA ä½¿ç”¨æµç¨‹</h1><p>è¨»å†Š reCAPTCHA â æ‹¿åˆ°ç¶²ç«™é‡‘é‘°ğŸ”‘ â é‡‘é‘°æ”¾é€² reCAPTCHA ç¨‹å¼ç¢¼ â å–å¾—é©—è­‰ token å›å‚³çµ¦å¾Œç«¯</p>
<p><br/><br/></p>
<h1 id="ğŸ“reCAPTCHA-è¨»å†Š"><a href="#ğŸ“reCAPTCHA-è¨»å†Š" class="headerlink" title="ğŸ“reCAPTCHA è¨»å†Š"></a>ğŸ“reCAPTCHA è¨»å†Š</h1><p>è¨»å†Š reCAPTCHA å¾ˆç°¡å–®åˆå¿«é€Ÿ<br>å…ˆç™»å…¥ Google å¸³è™Ÿï¼Œæ¥è‘—é€²åˆ° <a href="https://www.google.com/recaptcha/about/">reCAPTCHA</a> çš„é é¢ï¼Œé»é¸ v3 Admin Console</p>
<p><img src="https://imgur.com/PApULbC.jpg" alt="v3 Admin Console"></p>
<p>æœƒé€²å…¥ä¸‹é¢çš„è¡¨å–®<br><br/></p>
<p><img src="https://imgur.com/W8feu1g.jpg" alt="reCAPTCHA form"></p>
<p><strong>æ¨™ç±¤</strong><br>å–ä¸€å€‹å¯ä»¥è¼•é¬†åˆ†è¾¨å“ªå€‹ç¶²ç«™ä½¿ç”¨çš„æ¨™ç±¤</p>
<p><strong>reCAPTCHA é¡å‹</strong><br>ä¾éœ€æ±‚é¸æ“‡ reCAPTCHA v3 æˆ– reCAPTCHA v2ï¼Œå…¶ä¸­ reCAPTCHA v2 æœƒå¤šä¸‰å€‹é¸é …<br>ğŸ”¸ã€Œæˆ‘ä¸æ˜¯æ©Ÿå™¨äººã€æ ¸å–æ–¹å¡Š: å‹¾é¸ã€Œæˆ‘ä¸æ˜¯æ©Ÿå™¨äººã€æ ¸å–æ–¹å¡Šä¾†é©—è­‰è¦æ±‚<br>ğŸ”¸éš±å½¢ reCAPTCHA æ¨™è¨˜: åœ¨èƒŒæ™¯ä¸­é©—è­‰è¦æ±‚ï¼Œæäº¤å³é©—è­‰<br>ğŸ”¸reCAPTCHA Android: é©—è­‰ Android æ‡‰ç”¨ç¨‹å¼ä¸­çš„è¦æ±‚</p>
<p><strong>ç¶²åŸŸ</strong><br>ç™½åå–®çš„æ„æ€ï¼Œè¼¸å…¥è¦æ‡‰ç”¨çš„ç¶²å€(æ–¹ä¾¿æœ¬æ©Ÿæ¸¬è©¦å¯åŠ  localhost)</p>
<p><strong>æ¥å—æœå‹™æ¢æ¬¾</strong><br>åŒæ„éµå®ˆ reCAPTCHA æœå‹™æ¢æ¬¾</p>
<br/>

<p>æäº¤å¾Œå°‡æœƒå‡ºç¾å‚³èªªä¸­å…©æŠŠé‘°åŒ™ğŸ”‘</p>
<p><img src="https://imgur.com/6UuxNOf.jpg" alt="key"></p>
<p><strong>ğŸ”‘é‡‘é‘°æ˜¯çµ¦å‰ç«¯é é¢ä½¿ç”¨çš„ï¼ŒğŸ”‘å¯†é‘°æ˜¯å¾Œç«¯åœ¨ server ä½¿ç”¨çš„</strong><br>ä¸ç”¨æ“”å¿ƒ key å¿˜è¨˜ï¼ŒreCAPTCHA å¾Œå°éƒ½å¯ä»¥çœ‹åˆ°</p>
<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="8536485431"></ins></p>
<h1 id="reCAPTCHA-v2"><a href="#reCAPTCHA-v2" class="headerlink" title="reCAPTCHA v2"></a>reCAPTCHA v2</h1><p>ä½¿ç”¨ <a href="https://www.npmjs.com/package/vue3-recaptcha2">vue3-recaptcha2</a> å¥—ä»¶ï¼Œå¯ä»¥å¿«é€Ÿä½¿ç”¨ v2</p>
<p><strong>å®‰è£ vue3-recaptcha2</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install vue3-recaptcha2</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>ç¨‹å¼ç¢¼</strong><br>recaptcha-v2.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;vue-recaptcha</span><br><span class="line">  :sitekey=&quot;v2Sitekey&quot;</span><br><span class="line">  size=&quot;normal&quot;</span><br><span class="line">  theme=&quot;light&quot;</span><br><span class="line">  hl=&quot;zh-TW&quot;</span><br><span class="line">  @verify=&quot;recaptchaVerified&quot;</span><br><span class="line">  @expire=&quot;recaptchaExpired&quot;</span><br><span class="line">  @fail=&quot;recaptchaFailed&quot;</span><br><span class="line">  ref=&quot;vueRecaptcha&quot;&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">vue-recaptcha</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> vueRecaptcha <span class="keyword">from</span> <span class="string">&#x27;vue3-recaptcha2&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">   components: &#123;</span><br><span class="line">	  vueRecaptcha</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å¸¶å…¥ä½ çš„ siteKey</span></span><br><span class="line">    <span class="keyword">const</span> v2Sitekey = <span class="string">&#x27;6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å›å‚³ä¸€çµ„ tokenï¼Œä¸¦æŠŠ token å‚³çµ¦å¾Œç«¯é©—è­‰</span></span><br><span class="line">    <span class="keyword">const</span> recaptchaVerified = <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res)</span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> recaptchaExpired = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// éæœŸå¾ŒåŸ·è¡Œå‹•ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> recaptchaFailed = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å¤±æ•—åŸ·è¡Œå‹•ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      v2Sitekey, recaptchaVerified, recaptchaExpired, recaptchaFailed</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/><br/></p>
<h1 id="reCAPTCHA-v3"><a href="#reCAPTCHA-v3" class="headerlink" title="reCAPTCHA v3"></a>reCAPTCHA v3</h1><p>ä½¿ç”¨ <a href="https://www.npmjs.com/package/vue-recaptcha-v3">vue-recaptcha-v3</a> å¥—ä»¶ï¼Œå¯ä»¥å¿«é€Ÿä½¿ç”¨ v3</p>
<p><strong>å®‰è£ vue-recaptcha-v3</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install vue-recaptcha-v3</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>ç¨‹å¼ç¢¼</strong><br>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; VueReCaptcha &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-recaptcha-v3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"> <span class="comment">// å¸¶å…¥ä½ çš„ siteKey</span></span><br><span class="line">app.use(VueReCaptcha, &#123; <span class="attr">siteKey</span>: <span class="string">&#x27;6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI&#x27;</span> &#125;);</span><br><span class="line">app.mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<br/>

<p>recaptcha-v3.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;row g-3&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-4 position-relative&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;form-label&quot;</span>&gt;</span>å¸³è™Ÿ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-4 position-relative&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;form-label&quot;</span>&gt;</span>å¯†ç¢¼<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-12&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-warning&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;recaptcha&quot;</span>&gt;</span>Submit form<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useReCaptcha &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-recaptcha-v3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; executeRecaptcha, recaptchaLoaded &#125; = useReCaptcha()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// submit å›å‚³ä¸€çµ„ tokenï¼Œä¸¦æŠŠ token å‚³çµ¦å¾Œç«¯é©—è­‰</span></span><br><span class="line">    <span class="keyword">const</span> recaptcha = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">      <span class="keyword">await</span> recaptchaLoaded()</span><br><span class="line">      <span class="keyword">const</span> token = <span class="keyword">await</span> executeRecaptcha(<span class="string">&#x27;login&#x27;</span>)</span><br><span class="line">      <span class="built_in">console</span>.log(token)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      recaptcha</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>ä¸ç®¡ä½¿ç”¨ recaptcha v2 æˆ– recaptcha v3ï¼Œéƒ½æ˜¯å¤šäº†ä¸€å±¤ä¿è­·æ©Ÿåˆ¶ï¼Œè¨­å®šä¸Šä¹Ÿä¸å›°é›£ï¼Œä¸€èµ·è®“ç¶²ç«™æ›´å®‰å…¨å§ğŸ‘ŠğŸ½ğŸ‘ŠğŸ½ğŸ‘ŠğŸ½</p>
]]></content>
      <categories>
        <category>Plugins</category>
      </categories>
      <tags>
        <tag>recaptcha v2</tag>
        <tag>recaptcha v3</tag>
        <tag>recaptchaé©—è­‰</tag>
        <tag>æˆ‘ä¸æ˜¯æ©Ÿå™¨äºº é©—è­‰</tag>
      </tags>
  </entry>
  <entry>
    <title>ReactåŸºæœ¬çµ„ä»¶ä»‹ç´¹</title>
    <url>/2022/06/29/react-basic-component/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"></p>
<a id="more"></a>

<h1 id="çµ„ä»¶è£¡æœ‰ä»€éº¼"><a href="#çµ„ä»¶è£¡æœ‰ä»€éº¼" class="headerlink" title="çµ„ä»¶è£¡æœ‰ä»€éº¼?"></a>çµ„ä»¶è£¡æœ‰ä»€éº¼?</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="comment">//static propertyéœæ…‹å±¬æ€§</span></span><br><span class="line">    <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//static methodéœæ…‹å‡½å¼</span></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">getDerivedStateFromProps</span>(<span class="params">nextProps, prevState</span>)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//stateå±¬æ€§</span></span><br><span class="line">    state = &#123;</span><br><span class="line">      x: <span class="number">1</span>,</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿå‘½é€±æœŸå‡½å¼ï¼Œç”Ÿå‘½é€±æœŸè£¡çš„thisä¸€å®šæ˜¯æŒ‡æœ¬èº«classçš„çµ„ä»¶</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">componentDidUpdate</span>(<span class="params">prevProps, prevState</span>)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªè¨‚å‡½å¼ï¼Œå‡½å¼thisä¸ä¸€å®šæŒ‡æœ¬èº«çµ„ä»¶ï¼Œä½†å¦‚å®£å‘Šç‚ºå±¬æ€§ä¸¦ç”¨=&gt;thiså°±ç‚ºçµ„ä»¶æœ¬èº«</span></span><br><span class="line">    onChange= <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getData</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//çµ„ä»¶è£¡ä¸€å®šè¦æœ‰renderå‡½å¼ï¼Œrenderå‡½å¼ä¸€å®šè¦returnä¸€å€‹å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹Ÿå¯åœ¨çµ„ä»¶å¤–é¢å®šç¾©å±¬æ€§</span></span><br><span class="line">Item.propTypes = &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="äº‹ä»¶è™•ç†èˆ‡ç‹€æ…‹æ›´æ–°"><a href="#äº‹ä»¶è™•ç†èˆ‡ç‹€æ…‹æ›´æ–°" class="headerlink" title="äº‹ä»¶è™•ç†èˆ‡ç‹€æ…‹æ›´æ–°"></a>äº‹ä»¶è™•ç†èˆ‡ç‹€æ…‹æ›´æ–°</h1><p>ç‹€æ…‹ â‡’ state<br>è®Šæ›´ç‹€æ…‹ â‡’ setState<br>ç¯„ä¾‹: é»æ“ŠæŒ‰éˆ•å¾Œï¼Œå°‡ title çš„ hello è®Šæ›´æˆ hi</p>
<p>Message.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Message</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    title: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  changeState = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      title: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;&#123;<span class="built_in">this</span>.state.title&#125;&lt;/div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.changeState&#125;&gt;change state&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Message;</span><br></pre></td></tr></table></figure>
<p>è‡ªè¨‚å‡½å¼å¦‚æœä¸æ˜¯ä½¿ç”¨ç®­é ­å‡½å¼å®£å‘Šçš„è©±ï¼Œè¦åŠ ä¸Š constructorï¼ŒæŒ‡å®š this ç‚ºçµ„ä»¶æœ¬èº«ï¼Œ<br>å¦‚æœæ²’æœ‰æŒ‡å®š thisï¼ŒonClick çš„ this æœƒæŒ‡å‘ buttonï¼Œbutton æ²’æœ‰ setState å±¬æ€§å°±æœƒå ±éŒ¯ï¼Œå»ºè­°è‡ªè¨‚å‡½å¼é‚„æ˜¯ä»¥ç®­é ­å‡½å¼çš„æ–¹æ³•å®£å‘Š</p>
<p>Message.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Message</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    title: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.changeState = <span class="built_in">this</span>.changeState.bind(<span class="built_in">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">changeState</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      title: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;&#123;<span class="built_in">this</span>.state.title&#125;&lt;/div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.changeState&#125;&gt;change state&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Message;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="props-ä¸Šé¢å‚³ä¸‹ä¾†çš„å±¬æ€§"><a href="#props-ä¸Šé¢å‚³ä¸‹ä¾†çš„å±¬æ€§" class="headerlink" title="props: ä¸Šé¢å‚³ä¸‹ä¾†çš„å±¬æ€§"></a>props: ä¸Šé¢å‚³ä¸‹ä¾†çš„å±¬æ€§</h1><p>ä¸€æ¨£çš„çµ„ä»¶ï¼Œä½†æƒ³è¦ä¸åŒçš„å…§å®¹ï¼Œå¯ä»¥ä½¿ç”¨ propsï¼Œ<br>ç¯„ä¾‹ï¼š ol è£¡çš„æ¯å€‹ li çš„æ–‡å­—åˆ†åˆ¥ç‚ºä¸åŒçš„æ–‡å­—<br>props å‚³å­—ä¸²ç›´æ¥ä½¿ç”¨å¼•è™Ÿï¼Œå¦‚æœå‚³å…¶ä»–å‹æ…‹è¦ä½¿ç”¨å¤§æ‹¬è™Ÿ {}</p>
<p>Item.js (å…§å±¤çµ„ä»¶)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;li&gt;&#123;<span class="built_in">this</span>.props.text&#125; &#123;<span class="built_in">this</span>.props.price + <span class="number">1</span>&#125;&lt;/li&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Item;</span><br></pre></td></tr></table></figure>
<p>List.js (å¤–å±¤çµ„ä»¶)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Item <span class="keyword">from</span> <span class="string">&quot;./Item&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;ol&gt;</span><br><span class="line">        &lt;Item text=<span class="string">&#x27;hello&#x27;</span> price=&#123;<span class="number">10</span>&#125;/&gt;</span><br><span class="line">        &lt;Item text=<span class="string">&#x27;world&#x27;</span> price=<span class="string">&#x27;10&#x27;</span>/&gt;</span><br><span class="line">        &lt;Item text=<span class="string">&#x27;hello world&#x27;</span> price=<span class="string">&#x27;100&#x27;</span>/&gt;</span><br><span class="line">      &lt;/ol&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> List;</span><br></pre></td></tr></table></figure>
<br/>

<p>å¦‚æ¨™ç±¤æ˜¯ closing-tag åŒ…èµ·ä¾†ï¼Œå¯ç”¨ this.props.children å–å¾—æ–‡å­—</p>
<p>Item.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;li&gt;&#123;<span class="built_in">this</span>.props.children&#125;&lt;/li&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Item;</span><br></pre></td></tr></table></figure>
<p>List.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Item <span class="keyword">from</span> <span class="string">&quot;./Item&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;ol&gt;</span><br><span class="line">        &lt;Item&gt;hello1&lt;/Item&gt;</span><br><span class="line">        &lt;Item&gt;hello2&lt;/Item&gt;</span><br><span class="line">        &lt;Item&gt;hello3&lt;/Item&gt;</span><br><span class="line">      &lt;/ol&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> List;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>props</tag>
        <tag>React</tag>
        <tag>React component</tag>
      </tags>
  </entry>
  <entry>
    <title>ReactåŸºæœ¬å…¥é–€</title>
    <url>/2022/06/28/react-basic/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"><br>React æ˜¯ä¸€å€‹é™³è¿°å¼ã€é«˜æ•ˆä¸”å…·æœ‰å½ˆæ€§çš„ JavaScript å‡½å¼åº«ï¼Œç”¨ä»¥å»ºç«‹ä½¿ç”¨è€…ä»‹é¢ï¼Œé€™ç¯‡ä»‹ç´¹åŸºæœ¬çš„ React å…¥é–€</p>
<a id="more"></a>

<h1 id="å®‰è£React"><a href="#å®‰è£React" class="headerlink" title="å®‰è£React"></a>å®‰è£React</h1><p>å®‰è£æœ€æ–°ç‰ˆæœ¬ + å°ˆæ¡ˆåç¨±</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npx create-react-app@latest myapp</span><br></pre></td></tr></table></figure>
<p>å•Ÿå‹•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run start</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="JSXèªæ³•-ç”¨-JS-å¯«-HTML-èªæ³•"><a href="#JSXèªæ³•-ç”¨-JS-å¯«-HTML-èªæ³•" class="headerlink" title="JSXèªæ³•: ç”¨ JS å¯« HTML èªæ³•"></a>JSXèªæ³•: ç”¨ JS å¯« HTML èªæ³•</h1><p>React å®šç¾©çš„ HTML æ¨¡æ¿ï¼Œè·Ÿ HTML å¹¾ä¹ç›¸åŒï¼Œåªæœ‰å¹¾å€‹é»ä¸å¤ªä¸€æ¨£</p>
<p><strong>must close æ¯å€‹æ¨™ç±¤éœ€close</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;img src=<span class="string">&quot;&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>æ¯å€‹æ¨™ç±¤éƒ½å¯ä»¥ self close</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div className /&gt;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>className / htmlFor</strong><br>classã€for å› èˆ‡ JS èªæ³•æ’å<br>css çš„ class éœ€å« className<br>html çš„ for éœ€å« htmlFor</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div className=<span class="string">&#x27;red&#x27;</span> /&gt;</span><br><span class="line">&lt;label htmlFor=<span class="string">&#x27;check&#x27;</span>&gt;</span><br><span class="line">&lt;input type=<span class="string">&#x27;checkbox&#x27;</span> id=<span class="string">&#x27;check&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>éœ€ç”¨é§å³°å¼å‘½å</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div onChange=<span class="string">&#x27;change&#x27;</span>&gt;</span><br><span class="line">&lt;div onClick=<span class="string">&#x27;click&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>å¯ä»¥ç”¨ { } æ‹¬è™Ÿå¡å€¼æˆ–è¡¨é”å¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div onClick=&#123; <span class="built_in">this</span>.onClick &#125;&gt;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="å»ºç«‹çµ„ä»¶"><a href="#å»ºç«‹çµ„ä»¶" class="headerlink" title="å»ºç«‹çµ„ä»¶"></a>å»ºç«‹çµ„ä»¶</h1><p>src/Item.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Item</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Item;</span><br></pre></td></tr></table></figure>
<p>src/List.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Item <span class="keyword">from</span> <span class="string">&quot;./Item&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    &lt;ol&gt;</span><br><span class="line">      &lt;Item/&gt;</span><br><span class="line">    &lt;/ol&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> List;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="æ¸²æŸ“çµ„ä»¶åˆ°ç•«é¢"><a href="#æ¸²æŸ“çµ„ä»¶åˆ°ç•«é¢" class="headerlink" title="æ¸²æŸ“çµ„ä»¶åˆ°ç•«é¢"></a>æ¸²æŸ“çµ„ä»¶åˆ°ç•«é¢</h1><p>React18 ä½¿ç”¨ createRoot<br>src/index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> List <span class="keyword">from</span> <span class="string">&quot;./List&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> root = createRoot(container);</span><br><span class="line">root.render(<span class="xml"><span class="tag">&lt;<span class="name">List</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>
<br/>

<p>React17 ä½¿ç”¨ ReactDom</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDom <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> List <span class="keyword">from</span> <span class="string">&quot;./List&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line">ReactDom.render(<span class="xml"><span class="tag">&lt;<span class="name">List</span>/&gt;</span></span>, container);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœåœ¨ React18 ç”¨ ReactDomï¼Œé›–ç„¶æœƒæˆåŠŸæ¸²æŸ“ï¼Œä½†æœƒå‡ºç¾æ”¹ä½¿ç”¨ createRoot çš„è­¦å‘Šï¼Œç”¨ createRoot æ‰èƒ½ä½¿ç”¨æ–°çš„ API<br>Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if itâ€™s running React 17. Learn more: <a href="https://reactjs.org/link/switch-to-createroot">https://reactjs.org/link/switch-to-createroot</a><br><br/><br/></p>
<h1 id="React-Developer-Tools"><a href="#React-Developer-Tools" class="headerlink" title="React Developer Tools"></a>React Developer Tools</h1><p>å®‰è£ç€è¦½å™¨æ“´å…… <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi">React Developer Tools</a>ï¼Œå¹«åŠ©é–‹ç™¼äººå“¡é–‹ç™¼</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>JSX</tag>
        <tag>ReactDom</tag>
        <tag>createRoot</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€DAY 2ã€‘ React çš„ç‰¹æ€§èˆ‡æ€ç¶­ï¼Œæˆ‘è©²å…ˆå­¸å“ªå€‹æ¡†æ¶å‘¢?</title>
    <url>/2022/09/17/react-characteristic/</url>
    <content><![CDATA[<p><img src="https://imgur.com/fW87q9S.jpg" alt="https://imgur.com/fW87q9S"></p>
<p>React çš„ç‰¹æ€§èˆ‡æ€ç¶­ï¼Œæˆ‘è©²å…ˆå­¸å“ªå€‹æ¡†æ¶å‘¢?</p>
<a id="more"></a>

<p><strong>[ æƒ…å¢ƒåŠ‡å ´ ]</strong></p>
<p>è§£å¸«å‚…ï¼šé–‹ä¸€é–“é¤å»³ï¼Œä¸€å®šè¦å…ˆäº†è§£é¤å»³å¤§è‡´çš„æ–¹å‘ï¼Œè·Ÿé–‹åº—è¦æ³¨æ„çš„åœ°æ–¹ï½</p>
<p>å°ç•¶å®¶ï¼šä¸å°±æ˜¯ç†±ç‚’åº—å—ï¼Ÿé‚„æœ‰é€™éº¼å¤šçœ‰è§’é˜¿ï¼ï¼ï¼</p>
<p>è§£å¸«å‚…ï¼šå¤šçš„æ˜¯ä½ ä¸çŸ¥é“çš„äº‹ï¼Œæˆ‘å€‘ä¸€èµ·ä¾†ç ”ç©¶å§ï½ï½</p>
<hr>
<p>React æ˜¯è²æ˜å¼ã€å–®å‘è³‡æ–™æµï¼Œå°‡è³‡æ–™åŒ–ç‚ºè¦–è¦ºï¼Œæ“ä½œä½¿ç”¨è€…äº‹ä»¶ä¾†è®Šæ›´è³‡æ–™</p>
<p>ä»¥ä¸‹å››é»ç‚º React çš„ç‰¹é»</p>
<p><br/><br/></p>
<h2 id="é–‹ç™¼ä»¥-Component-çµ„ä»¶-ç‚ºå–®ä½"><a href="#é–‹ç™¼ä»¥-Component-çµ„ä»¶-ç‚ºå–®ä½" class="headerlink" title="é–‹ç™¼ä»¥ Component (çµ„ä»¶)ç‚ºå–®ä½"></a>é–‹ç™¼ä»¥ Component (çµ„ä»¶)ç‚ºå–®ä½</h2><p>Component æ˜¯é é¢çš„ä¸€éƒ¨ä»½ï¼Œå¯ä»¥æ˜¯ä¸€å€‹å€å¡Šã€ä¸€å€‹ button ç­‰</p>
<p><img src="https://imgur.com/WBpZXYp.png" alt="https://imgur.com/WBpZXYp.png"></p>
<p>é€éçµ„ä»¶çš„çµ„åˆèˆ‡é‡è¤‡ä½¿ç”¨ï¼Œå»ºæ§‹å‡ºä¸€å€‹æ›´å¥½ç¶­è­·çš„æ‡‰ç”¨ç¨‹å¼</p>
<p><br/><br/></p>
<h2 id="ä¸æ˜¯-MVC-æ¡†æ¶"><a href="#ä¸æ˜¯-MVC-æ¡†æ¶" class="headerlink" title="ä¸æ˜¯ MVC æ¡†æ¶"></a>ä¸æ˜¯ MVC æ¡†æ¶</h2><p>MVC åŒ…å«äº† <strong>Modelæ¨¡å‹-é‚è¼¯å±¤ã€Viewè¦–åœ–-è¡¨ç¾å±¤ã€Controlleræ§åˆ¶å™¨-äº‹ä»¶å±¤</strong></p>
<p><img src="https://imgur.com/rrroXSc.png" alt="https://imgur.com/rrroXSc.png"></p>
<p>è€Œ React ç²¾ç¥å°ˆæ³¨åœ¨ View è¡¨ç¾å±¤ä¸Šé¢ï¼Œç”¨çµ„ä»¶åŒ–çš„æ–¹å¼ï¼Œè®“é–‹ç™¼è€…å»ºæ§‹å„å¼çš„ä½¿ç”¨è€…ä»‹é¢ï¼Œå¯ä»¥é‡è¤‡ä½¿ç”¨ã€å‘ˆç¾è³‡æ–™ã€åæ‡‰è³‡æ–™çš„æ”¹è®Š</p>
<p><br/><br/></p>
<h2 id="ä¸ä½¿ç”¨-template"><a href="#ä¸ä½¿ç”¨-template" class="headerlink" title="ä¸ä½¿ç”¨ template"></a>ä¸ä½¿ç”¨ template</h2><p>Angular æˆ– Vue éƒ½æœ‰è‡ªå·±çš„ template</p>
<p>è€Œ React ä½¿ç”¨åŸç”Ÿ Javascriptï¼Œä¸ç”¨å¦å¤–å­¸ç¿’èªæ³•ï¼Œåªè¦ç”¨ Javascriptã€JSX è¦ç¯„ å°±å¯ä»¥å¯«å‡º Viewï¼Œæ›´å¢åŠ äº†å¯ç¶­è­·æ€§</p>
<p><br/><br/></p>
<h2 id="ä¸åšè³‡æ–™ç¶å®š"><a href="#ä¸åšè³‡æ–™ç¶å®š" class="headerlink" title="ä¸åšè³‡æ–™ç¶å®š"></a>ä¸åšè³‡æ–™ç¶å®š</h2><p>Angular æˆ– Vue éƒ½æœƒå°‡è³‡æ–™è·Ÿå°æ‡‰çš„è¦–è¦ºå…ƒç´ åŒæ­¥æ›´æ–°</p>
<p>è€Œ React æ¡ç”¨å–®å‘è³‡æ–™æµï¼Œä¸æœƒç›´æ¥ä¿®æ”¹ DOM å…ƒç´ ï¼Œä½¿ç”¨ Virtual DOM åšæ¯”å°æ›´æ–°ã€‚</p>
<p>Virtual DOM é¡§åæ€ç¾©ç‚ºè™›æ“¬ DOMï¼Œä¸æ˜¯çœŸæ­£çš„ DOMï¼Œåˆ©ç”¨ JavaScrip ç‰©ä»¶çš„è³‡æ–™çµæ§‹ä¾†å„²å­˜åœ¨ memory ç•¶ä¸­</p>
<p>ç•¶è³‡æ–™è®Šæ›´æ™‚ï¼Œæœƒå…ˆå»ºç«‹ä¸€å€‹æ–°çš„ virtual DOMï¼Œè¨ˆç®—å‡ºæ–°èˆŠ virtual DOM ä¹‹é–“çš„å·®åˆ¥ï¼Œæœ€å¾Œæ‰æœƒæ“ä½œçœŸæ­£çš„ DOMï¼Œå¯ä¿è­‰æ¯æ¬¡åªè®Šæ›´æœ‰è®Šå‹•çš„å…ƒç´ ï¼Œè—‰æ­¤é¿å…ä¸å¿…è¦çš„é‡è£½ä»¥æå‡æ•ˆèƒ½</p>
<p><img src="https://imgur.com/VGbcTAi.jpg" alt="https://imgur.com/VGbcTAi.jpg"></p>
<p><br/><br/></p>
<h1 id="æˆ‘è©²å…ˆå­¸å“ªå€‹æ¡†æ¶å‘¢"><a href="#æˆ‘è©²å…ˆå­¸å“ªå€‹æ¡†æ¶å‘¢" class="headerlink" title="æˆ‘è©²å…ˆå­¸å“ªå€‹æ¡†æ¶å‘¢?"></a>æˆ‘è©²å…ˆå­¸å“ªå€‹æ¡†æ¶å‘¢?</h1><p>åˆåˆ°äº†å‰ç«¯å·¥ç¨‹å¸«çš„è¬å¹´è€ƒå¤é¡Œï¼Œæƒ³ç•¶åˆæˆ‘ä¹Ÿæ˜¯çŒ¶è±«äº†å¤§åŠå¤©</p>
<p>å‰ç«¯ä¸‰å¤§å·¨é ­ Angularã€Reactã€Vue</p>
<ul>
<li><p>Angular - å­¸ç¿’æ›²ç·šè¼ƒé«˜ï¼Œåœ¨æ™‚é–“æˆæœ¬ä¸ŠæœƒèŠ±æ¯”è¼ƒå¤šçš„æ™‚é–“ï¼Œä½¿ç”¨ TypeScript</p>
</li>
<li><p>React - æŠ€è¡“ä¸Šä¾†èªª ReactÂ ä¸¦ä¸æ˜¯æ¡†æ¶ï¼Œè€Œæ˜¯ä¸€å€‹ç”¨ä¾†æ¸²æŸ“ UI çµ„ä»¶çš„å‡½å¼åº«ï¼Œå¦‚æœä½ å·²ç¶“éå¸¸ç†Ÿæ‚‰ Javascriptï¼Œé‚£ä½ ä¸€å®šå¾ˆå¿«å­¸æœƒï¼ŒReact çµ•å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨ç”¨ JavaScript</p>
</li>
<li><p>Vue - Vue çš„æ¨¡æ¿æä¾›äº†å¾ˆå¤šèªæ³•ç³–ï¼Œç°¡å–®å®Œæˆè¤‡é›œçš„åŠŸèƒ½</p>
</li>
</ul>
<p>è¦å…ˆå­¸å“ªå€‹å…¶å¯¦éƒ½å¯ä»¥ï¼Œå¦‚æœå…¬å¸æœ‰éœ€æ±‚ç•¶ç„¶æ˜¯å…ˆçœ‹åœ˜éšŠ<br>å¦‚æœæ˜¯è€ƒæ…®æ™‚é–“æˆæœ¬ï¼Œå€‹äººçš„å»ºè­°æ˜¯ - ç†Ÿ Javascript å­¸ React ï¼Œä¸ç†Ÿç·´å¯ä»¥å­¸ Vue<br>ä½†å­¸æ¡†æ¶å‰ï¼Œä¸€å®šè¦å…ˆæœƒåŸºæœ¬çš„ Javascript æ‰å¯ä»¥å“¦ï¼</p>
<p>æˆ‘è‡ªå·±çš„ç¶“é©—æ˜¯å…ˆå­¸ Vueï¼Œå› ç‚º Vue è·Ÿ React å…¶å¯¦æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹è™•ï¼Œä¹‹å¾Œåœ¨å­¸ React ä¹Ÿè®Šå¿«äº†ï¼</p>
<p>åœ¨ <a href="https://npmtrends.com/angular-vs-react-vs-vue">npm trends</a> ä¸‹è¼‰é‡ï¼Œé€™å¹¾å¹´ä¾† React ä¹Ÿæ˜¯è¶Šä¾†è¶Šé«˜ï¼Œå¯ä¾›å¤§å®¶åƒè€ƒ</p>
<p><img src="https://imgur.com/GJixncf.jpg" alt="https://imgur.com/GJixncf.jpg"></p>
<hr>
<p>æœ¬æ–‡ç‚º IT éµäººè³½ç³»åˆ—æ–‡ <a href="https://ithelp.ithome.com.tw/users/20115919/ironman/5602">ä½  React äº†å—? 30 å¤©è§£é– React æŠ€èƒ½</a></p>
<hr>
]]></content>
      <categories>
        <category>ã€IT éµäººè³½ã€‘ä½ Reactäº†å—? 30å¤©è§£é–ReactæŠ€èƒ½</category>
      </categories>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactçµ„ä»¶æ‡‰ç”¨</title>
    <url>/2022/06/30/react-component/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"></p>
<p>å‰ä¸€ç¯‡ä»‹ç´¹äº†åŸºæœ¬çµ„ä»¶ï¼Œä»Šå¤©ä¾†ä»‹ç´¹ React çš„çµ„ä»¶æ‡‰ç”¨å§!</p>
<a id="more"></a>

<h1 id="Props"><a href="#Props" class="headerlink" title="Props"></a>Props</h1><p><strong>props é™¤äº†å‚³å€¼ä»¥å¤–ï¼Œé‚„å¯ä»¥è¨­å®šé è¨­å€¼ã€é è¨­å‹åˆ¥</strong><br>ç¯„ä¾‹: ç°¡å–®çš„è¨ˆæ•¸å™¨åŠŸèƒ½<br>å¤–å±¤çµ„ä»¶å‚³å…¥ initCountï¼Œå…§å±¤æ¥ propsï¼Œä¸¦è¨­å®š props çš„é è¨­å€¼ <strong>defaultProps</strong>ã€é è¨­å‹åˆ¥ <strong>PropTypes</strong>ï¼Œ<br>å¦‚å¤–å±¤æ²’å‚³ initCountï¼Œå°‡æœƒé¡¯ç¤ºé è¨­å€¼<br>å¦‚å¤–å±¤å‚³å…¥å‹åˆ¥èˆ‡é è¨­å‹åˆ¥ä¸åŒï¼Œå°‡æœƒè·³å‡ºéŒ¯èª¤è­¦å‘Š</p>
<p>Index.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">&quot;./Counter&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> root = createRoot(container);</span><br><span class="line">root.render(<span class="xml"><span class="tag">&lt;<span class="name">Counter</span> <span class="attr">initCount</span>=<span class="string">&#123;10&#125;</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>
<br/>

<p>Counter.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; PropTypes &#125; <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    initCount: <span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    initCount: PropTypes.number</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      count: props.initCount</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;&#123;<span class="built_in">this</span>.state.count&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br></pre></td></tr></table></figure>
<br/>
ä½ ä¹Ÿå¯ä»¥å°‡ defaultPropsã€propTypes è¨­å®šåœ¨ Component å¤–é¢ï¼Œå°‡æœƒå¾—åˆ°ä¸€æ¨£çš„çµæœ
<br/><br/>

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; PropTypes &#125; <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      count: props.initCount</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;&#123;<span class="built_in">this</span>.state.count&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br><span class="line"></span><br><span class="line">Counter.defaultProps = &#123;</span><br><span class="line">  initCount: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line">Counter.propTypes = &#123;</span><br><span class="line">  initCount: PropTypes.number</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h1><p><strong>setState å¯å‚³å…¥ function</strong><br><strong>setState æ˜¯éåŒæ­¥æ“ä½œ</strong>ï¼Œä¸èƒ½æœŸå¾…é€£çºŒçš„ setState å…§å®¹æœƒç«‹åˆ»æ›´æ–°ï¼Œ<br>å› æ­¤æˆ‘å€‘å¯ä»¥åœ¨ setStateï¼Œå°‡åŸæœ¬å‚³å…¥çš„ obj æ”¹æˆå‚³å…¥ä¸€å€‹å‡½å¼<br>é€™å€‹å‡½å¼åƒæ•¸åƒçš„æ˜¯æœ¬ä¾†çš„ stateï¼Œ(state) =&gt; {} è£¡é¢å›å‚³ return{ } ä¸€å€‹æ–°çš„ç‰©ä»¶<br>æ–°çš„ç‰©ä»¶å°±æ˜¯æ–°çš„ state = åŸä¾†çš„ state.count+1</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(<span class="function">(<span class="params">state</span>) =&gt;</span> (&#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;))</span><br><span class="line">    <span class="comment">// ç­‰æ–¼</span></span><br><span class="line">    <span class="comment">// this.setState((state) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   return &#123;</span></span><br><span class="line">    <span class="comment">//     count: state.count + 1</span></span><br><span class="line">    <span class="comment">//   &#125;</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;&#123;<span class="built_in">this</span>.state.count&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>setState å¯å‚³å…¥ callback</strong></p>
<p>å›  setState ç‚ºéåŒæ­¥ï¼Œç‚ºäº†ç¢ºä¿åœ¨ state è®Šæ›´å¾ŒåŸ·è¡Œæƒ³è¦çš„å‹•ä½œï¼Œå¯åœ¨ setState ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥callback</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">setState(è®Šæ›´ state çš„ç‰©ä»¶æˆ–å‡½å¼, callback);</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">&#125;,</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    <span class="built_in">this</span>.sendCount();</span><br><span class="line">  &#125;,</span><br><span class="line">);</span><br><span class="line">sendCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    fetch(<span class="string">`/api/count?value=<span class="subst">$&#123;<span class="built_in">this</span>.state.count&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="ref-å±¬æ€§-æŒ‡å®š-DOM-å…ƒç´ "><a href="#ref-å±¬æ€§-æŒ‡å®š-DOM-å…ƒç´ " class="headerlink" title="ref å±¬æ€§-æŒ‡å®š DOM å…ƒç´ "></a>ref å±¬æ€§-æŒ‡å®š DOM å…ƒç´ </h1><p>æŒ‡å®š ref æœ‰ä¸‰ç¨®æ–¹æ³•ï¼Œä»¥ä¸‹ç‚ºä¸‰ç¨®ç¯„ä¾‹ï¼Œå…¶ä¸­å®˜æ–¹æ¨è–¦ createRef</p>
<p>æƒ…å¢ƒ: åœ¨ input é‚„æ²’é»æ“Šæ™‚å°±è‡ªå‹• focus</p>
<h2 id="å›èª¿æ¨¡å¼"><a href="#å›èª¿æ¨¡å¼" class="headerlink" title="å›èª¿æ¨¡å¼"></a>å›èª¿æ¨¡å¼</h2><p>å‚³å…¥function</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ref</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  setRef = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    input.focus();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> ref=&#123;<span class="built_in">this</span>.setRef&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="createRef"><a href="#createRef" class="headerlink" title="createRef"></a>createRef</h2><p>ä½¿ç”¨ react æä¾›çš„ createRefï¼Œç¶å®šä¸€å€‹è®Šæ•¸çµ¦ createRef()</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, createRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ref</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  myInput = createRef();</span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.myInput.current.focus();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> ref=&#123;<span class="built_in">this</span>.myInput&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Ref;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="èˆŠç‰ˆ-å­—ç¬¦ä¸²å¼•ç”¨"><a href="#èˆŠç‰ˆ-å­—ç¬¦ä¸²å¼•ç”¨" class="headerlink" title="èˆŠç‰ˆ-å­—ç¬¦ä¸²å¼•ç”¨"></a>èˆŠç‰ˆ-<strong>å­—ç¬¦ä¸²å¼•ç”¨</strong></h2><p>ä½¿ç”¨å­—ä¸²å¼•ç”¨ï¼Œå®˜æ–¹ä¸¦ä¸å»ºè­°ä½¿ç”¨ï¼Œå› ç‚ºå­—ç¬¦ä¸²å¼•ç”¨å­˜åœ¨ä¸€äº›å•é¡Œï¼Œè¢«èªç‚ºæ˜¯éºç•™å•é¡Œï¼Œä¸¦ä¸”<strong>å¯èƒ½æœƒåœ¨æœªä¾†çš„æŸå€‹ç‰ˆæœ¬ä¸­è¢«åˆªé™¤</strong>ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ref</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.refs.myInput.focus();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> ref=<span class="string">&quot;myInput&quot;</span>/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="çµ„ä»¶çš„çˆ¶å­æºé€š"><a href="#çµ„ä»¶çš„çˆ¶å­æºé€š" class="headerlink" title="çµ„ä»¶çš„çˆ¶å­æºé€š"></a>çµ„ä»¶çš„çˆ¶å­æºé€š</h1><p>å…©ç¨®æºé€šæ–¹å¼</p>
<p><strong>çˆ¶å­é›™å‘æºé€š</strong><br>çˆ¶å‚³å­é€é ref æŠ“åˆ°å­å±¤çš„æ–¹æ³•ï¼Œå­å‚³çˆ¶é€é props<br>Parent.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, createRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&#x27;./Child&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  childRef = createRef();</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  addChildCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.childRef.current.addCount();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Parent: &#123;<span class="built_in">this</span>.state.count&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;+Parent&lt;/button&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addChildCount&#125;&gt;+Child&lt;/button&gt;</span><br><span class="line">        &lt;Child ref=&#123;<span class="built_in">this</span>.childRef&#125; addParentCount=&#123;<span class="built_in">this</span>.addCount&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Parent;</span><br></pre></td></tr></table></figure>
<br/>

<p>Child.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;Child:&#123;<span class="built_in">this</span>.state.count&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.props.addParentCount&#125;&gt;+Parent&lt;/button&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;+Child&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Child;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<p><strong>çˆ¶å±¤å‚³çµ¦å­å±¤</strong><br>æ‰€æœ‰å±¬æ€§éƒ½åœ¨çˆ¶å±¤å®£å‘Šï¼Œå†é€é props å‚³çµ¦å­å±¤<br>Parent.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&#x27;./Child&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">    childCount: <span class="number">0</span></span><br><span class="line">  &#125;;</span><br><span class="line">  addParentCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  addChildCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      childCount: <span class="built_in">this</span>.state.childCount + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Parent: &#123;<span class="built_in">this</span>.state.count&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addParentCount&#125;&gt;+Parent&lt;/button&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addChildCount&#125;&gt;+Child&lt;/button&gt;</span><br><span class="line">        &lt;Child</span><br><span class="line">          count = &#123;<span class="built_in">this</span>.state.childCount&#125;</span><br><span class="line">          addChildCount = &#123;<span class="built_in">this</span>.addChildCount&#125;</span><br><span class="line">          addParentCount=&#123;<span class="built_in">this</span>.addParentCount&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Parent;</span><br></pre></td></tr></table></figure>
<br/>

<p>Child.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; count, addParentCount, addChildCount &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;Child:&#123;count&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button onClick=&#123;addParentCount&#125;&gt;+Parent&lt;/button&gt;</span><br><span class="line">        &lt;button onClick=&#123;addChildCount&#125;&gt;+Child&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Child;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="æ¨£å¼æ§åˆ¶-style-amp-className"><a href="#æ¨£å¼æ§åˆ¶-style-amp-className" class="headerlink" title="æ¨£å¼æ§åˆ¶ style &amp; className"></a>æ¨£å¼æ§åˆ¶ style &amp; className</h1><p>æƒ…å¢ƒ: é»æ“Š toggle æŒ‰éˆ•æ§åˆ¶åœ–ç‰‡é–‹é—œ<br><br/></p>
<p><strong>ç›´æ¥åˆ¤æ–· DOM å…ƒç´ æ˜¯å¦é¡¯ç¤º</strong><br>ä¸‰å…ƒåˆ¤æ–·å¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    visible: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      visible: !<span class="built_in">this</span>.state.visible</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.toggle&#125;&gt;toogle&lt;/button&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &#123; <span class="built_in">this</span>.state.visible ? <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;/logo512.png&#x27;</span> /&gt;</span></span> : <span class="literal">null</span>&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo;</span><br></pre></td></tr></table></figure>
<br/>

<p>ä¹Ÿå¯ä»¥å¯«æˆ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    visible: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      visible: !<span class="built_in">this</span>.state.visible</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.toggle&#125;&gt;toogle&lt;/button&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &#123; <span class="built_in">this</span>.state.visible &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;/logo512.png&#x27;</span> /&gt;</span></span> &#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<p><strong>ç”¨ style æ§åˆ¶æ˜¯å¦é¡¯ç¤º</strong></p>
<p>åœ¨ JSX è£¡ style æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œæ‰€ä»¥éœ€è¦ç”¨ç‰©ä»¶çš„æ–¹å¼å‚³çµ¦ styleï¼Œstyle ç‰©ä»¶è£¡é¢æœ‰ display å±¬æ€§ï¼Œå¯æ ¹æ“š state è£¡é¢çš„å€¼ä¾†æ§åˆ¶ display çš„å€¼ç‚º block æˆ–æ˜¯ none</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    visible: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      visible: !<span class="built_in">this</span>.state.visible</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> showImg = &#123; <span class="attr">display</span>: <span class="built_in">this</span>.state.visible ? <span class="string">&#x27;block&#x27;</span> : <span class="string">&#x27;none&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.toggle&#125;&gt;toogle&lt;/button&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;img style=&#123;showImg&#125; src=<span class="string">&#x27;/logo512.png&#x27;</span> /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo;</span><br></pre></td></tr></table></figure>
<br/>
ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ style åˆ¤æ–·
<br/><br/>

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    visible: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      visible: !<span class="built_in">this</span>.state.visible</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.toggle&#125;&gt;toogle&lt;/button&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;img style=&#123;&#123; <span class="attr">display</span>: <span class="built_in">this</span>.state.visible ? <span class="string">&#x27;block&#x27;</span> : <span class="string">&#x27;none&#x27;</span>&#125;&#125; src=<span class="string">&#x27;/logo512.png&#x27;</span> /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<p><strong>ç”¨ className æ§åˆ¶æ˜¯å¦é¡¯ç¤º</strong></p>
<p>æ–°å¢ä¸€æ”¯ CSS å¯«å…¥ classï¼Œå†åˆ¤æ–· className</p>
<p>style.css</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.hide</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    visible: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      visible: !<span class="built_in">this</span>.state.visible</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.toggle&#125;&gt;toogle&lt;/button&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;img className=&#123;<span class="built_in">this</span>.state.visible ? <span class="string">&#x27;&#x27;</span> : <span class="string">&#x27;hide&#x27;</span>&#125; src=<span class="string">&#x27;/logo512.png&#x27;</span> /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="Component-ä¸‰ç¨®çµ„ä»¶"><a href="#Component-ä¸‰ç¨®çµ„ä»¶" class="headerlink" title="Component ä¸‰ç¨®çµ„ä»¶"></a>Component ä¸‰ç¨®çµ„ä»¶</h1><p>ä»¥è¨ˆæ•¸å™¨ç‚ºç¯„ä¾‹ï¼Œå¤–å±¤å‚³å…¥ props åˆ°å…§å±¤<br>Progress.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> ProgressBar <span class="keyword">from</span> <span class="string">&quot;./ProgressBar&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Progress</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;ProgressBar value=&#123;<span class="built_in">this</span>.state.count&#125;/&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;add&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Progress;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="Class-Component"><a href="#Class-Component" class="headerlink" title="Class Component"></a>Class Component</h2><p>ProgressBar.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProgressBar</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; value &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="built_in">console</span>.count(<span class="string">&#x27;render&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;h1&gt;&#123;value&#125;%&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProgressBar;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="Functional-Component-Stateless-component"><a href="#Functional-Component-Stateless-component" class="headerlink" title="Functional Component (Stateless component)"></a>Functional Component (Stateless component)</h2><p>æ²’æœ‰è‡ªå·±çš„ stateã€æ²’æœ‰è‡ªè¨‚ methodï¼Œprops ç•¶ä½œåƒæ•¸å‚³å…¥<br>ProgressBar.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> ProgressBar = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; value &#125; = props;</span><br><span class="line">  <span class="built_in">console</span>.count(<span class="string">&#x27;render&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;h1&gt;&#123;value&#125;%&lt;/h1&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProgressBar;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="Pure-Component"><a href="#Pure-Component" class="headerlink" title="Pure Component"></a>Pure Component</h2><p>å’Œ class component ä¸€æ¨£ï¼Œå…©è€…å·®ç•°ä¸»è¦åœ¨æ–¼ã€ æ•ˆèƒ½ ã€<br>class component å’Œ functional componentï¼Œå³ä½¿ä½ å‚³å…¥åŒæ¨£çš„å€¼ (props æˆ– state) é‚„æ˜¯æœƒé‡æ–° render<br>Pure Component çš„é‹ä½œå‰‡æ˜¯ç•¶ä½ å‚³å…¥åŒæ¨£çš„å€¼ (props æˆ– state) æˆ–æ·±å±¤æ”¹è®Šå€¼æ™‚ï¼Œå®ƒä¸æœƒé‡æ–° renderï¼Œ<br>å¦‚æœç¬¬ä¸€å±¤çš„å€¼æœ‰æ”¹è®Šæ‰æœƒé‡æ–°æ¸²æŸ“ï¼Œåªæ¯”è¼ƒç¬¬ä¸€å±¤çš„æ–¹å¼ç¨±ç‚º Shallow Compare</p>
<p>ProgressBar.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; PureComponent &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProgressBar</span> <span class="keyword">extends</span> <span class="title">PureComponent</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; value &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="built_in">console</span>.count(<span class="string">&#x27;render&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;h1&gt;&#123;value&#125;%&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProgressBar;</span><br></pre></td></tr></table></figure>
<br/>
å¦‚å°‡ addCount æ”¹æˆ +0ï¼ŒPure Component ä¸æœƒé‡æ–° render

<p>Progress.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> ProgressBar <span class="keyword">from</span> <span class="string">&quot;./ProgressBar&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Progress</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;ProgressBar value=&#123;<span class="built_in">this</span>.state.count&#125;/&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;add&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Progress;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="CSS-æ¨¡çµ„"><a href="#CSS-æ¨¡çµ„" class="headerlink" title="CSS æ¨¡çµ„"></a>CSS æ¨¡çµ„</h1><p>ä½¿ç”¨ CSS æˆ– SCSS æ¨¡çµ„å¾ˆç°¡å–®ï¼Œåªè¦åœ¨é™„æª”ååŠ  .module å°±å¯ä»¥å‘¼å«äº†ï¼Œæ¨¡çµ„åŒ–å¯ä»¥é¿å…ä¸åŒæª”æ¡ˆç›¸åŒ className çš„è¡çª<br>ä½¿ç”¨ SCSS è¨˜å¾—å…ˆå®‰è£ sass</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">npm i sass</span><br></pre></td></tr></table></figure>
<br/>

<p>Style.module.scss</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<p>Btn.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> style <span class="keyword">from</span> <span class="string">&quot;./Style.module.scss&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Btn</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button className=&#123;style.btn&#125;&gt;<span class="number">132</span>&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Btn;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="styled-components"><a href="#styled-components" class="headerlink" title="styled-components"></a>styled-components</h1><p>styled-components å¯ä»¥å°‡ CSS ç›´æ¥æ”¾åˆ°çµ„ä»¶è™•ç†</p>
<p>é¦–å…ˆå®‰è£</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">npm i styled-components</span><br></pre></td></tr></table></figure>
<p>å‘½åå¾Œç•¶æˆæ¨™ç±¤ä¾†ä½¿ç”¨</p>
<p>Btn.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Button = styled.button<span class="string">`</span></span><br><span class="line"><span class="string">  width: 100px</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ButtonText = styled.span<span class="string">`</span></span><br><span class="line"><span class="string">  color: red</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Btn</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Button&gt;</span><br><span class="line">          &lt;ButtonText&gt;<span class="number">132</span>&lt;/ButtonText&gt;</span><br><span class="line">        &lt;/Button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Btn;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="é«˜éšçµ„ä»¶-HOC"><a href="#é«˜éšçµ„ä»¶-HOC" class="headerlink" title="é«˜éšçµ„ä»¶ HOC"></a>é«˜éšçµ„ä»¶ HOC</h1><p>Hihger-Order Components<br>ä»¥ Components ç‚ºè¼¸å…¥çš„ Components<br>return å‚³å…¥çš„ WrapperComponentï¼Œå¸¶å…¥å…±ç”¨é‚è¼¯çš„ propsã€è‡ªèº«çš„ props</p>
<p><strong>ä¸åŒçµ„ä»¶å¥—ç”¨ç›¸åŒé‚è¼¯</strong></p>
<p>src/hocs/withOpen.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> withOpen = <span class="function">(<span class="params">WrapperComponent</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">      open: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        open: !<span class="built_in">this</span>.state.open</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;WrapperComponent</span><br><span class="line">          &#123;...this.props&#125;</span><br><span class="line">          open=&#123;<span class="built_in">this</span>.state.open&#125;</span><br><span class="line">          toggle=&#123;<span class="built_in">this</span>.toggle&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withOpen;</span><br></pre></td></tr></table></figure>
<br/>
Card1.js

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Card1</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; open, toggle &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;toggle&#125;&gt;Card1&lt;/button&gt;</span><br><span class="line">        &#123; open ? <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Card1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span> : <span class="literal">null</span>&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Card1;</span><br></pre></td></tr></table></figure>
<br/>
Card2.js

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Card2</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; open, toggle &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;toggle&#125;&gt;Card2&lt;/button&gt;</span><br><span class="line">        &#123; open ? <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Card2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span> : <span class="literal">null</span>&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Card2;</span><br></pre></td></tr></table></figure>
<br/>
App.js

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Card1 <span class="keyword">from</span> <span class="string">&quot;./Card1&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Card2 <span class="keyword">from</span> <span class="string">&quot;./Card2&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> withOpen <span class="keyword">from</span> <span class="string">&quot;./hocs/withOpen&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Card1withOpen = withOpen(Card1);</span><br><span class="line"><span class="keyword">const</span> Card2withOpen = withOpen(Card2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Card1withOpen/&gt;</span><br><span class="line">      &lt;Card2withOpen/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>react Props</tag>
        <tag>setState</tag>
        <tag>react ref</tag>
        <tag>createRef</tag>
        <tag>react style</tag>
        <tag>react className</tag>
        <tag>Class Component</tag>
        <tag>Functional Component</tag>
        <tag>Pure Component</tag>
        <tag>styled-components</tag>
        <tag>react HOC</tag>
      </tags>
  </entry>
  <entry>
    <title>React Context APIè·¨çµ„ä»¶æºé€šå‚³éè³‡æ–™</title>
    <url>/2022/07/04/react-context-api/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"></p>
<p>context api å¯ä»¥è·¨çµ„ä»¶æºé€šå‚³éè³‡æ–™ï¼Œè®“çµ„ä»¶å¯ä»¥çœå»çµ„ä»¶å±¤å±¤å‚³éçš„éº»ç…©</p>
<a id="more"></a>

<p>ä»¥ä¸‹ç¯„ä¾‹æƒ…å¢ƒ: é»æ“ŠæŒ‰éˆ•ï¼Œè®“ header çš„ç¸½æ•¸é‡å¢åŠ </p>
<p>App ç‚ºæœ€å¤–å±¤ã€Header é¡¯ç¤ºè¨‚å–®æ•¸é‡ã€ProductList è¨‚å–®ã€Product æ¯å€‹å“é …å¢åŠ æŒ‰éˆ•</p>
<p><img src="https://imgur.com/nvRnhNa.jpg" alt="context-api"></p>
<p><br/><br/></p>
<h1 id="è¨­å®š-Context"><a href="#è¨­å®š-Context" class="headerlink" title="è¨­å®š Context"></a>è¨­å®š Context</h1><p>import createContextï¼Œä¸¦è¨­å®š createContext çš„é è¨­å€¼ï¼Œ<br>ç¯„ä¾‹é è¨­ç‚º: è¨‚å–®é™£åˆ— ordersã€å¢åŠ è¨‚å–®å‡½å¼ addOrder</p>
<p><strong>Providerï¼ˆæä¾›è€…ï¼‰æ˜¯ç”¨ä¾†æä¾›Â context å€¼</strong></p>
<p><strong>Consumerï¼ˆæ¶ˆè²»è€…ï¼‰æ˜¯ç”¨ä¾†ä½¿ç”¨Â context å€¼</strong></p>
<p>/src/context/order.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createContext &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; Provider, Consumer &#125; = createContext(&#123;</span><br><span class="line">  orders: [],</span><br><span class="line">  addOrder: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="è¨­å®š-Providerï¼ŒcontextValue-å‚³å…¥-context"><a href="#è¨­å®š-Providerï¼ŒcontextValue-å‚³å…¥-context" class="headerlink" title="è¨­å®š Providerï¼ŒcontextValue å‚³å…¥ context"></a>è¨­å®š Providerï¼ŒcontextValue å‚³å…¥ context</h1><p>åœ¨å¤–å±¤è¨­å®šå€¼èˆ‡å‡½å¼ï¼Œå‚³å…¥ context</p>
<p>åœ¨éœ€ä½¿ç”¨åˆ°çš„çµ„ä»¶å¤–ï¼ŒåŒ…ä¸€å±¤ Providerï¼Œå‚³å…¥éœ€è¦çš„ valueï¼Œä½¿åº•ä¸‹çš„çµ„ä»¶éƒ½å¯ä»¥ä½¿ç”¨ value è£¡çš„å€¼</p>
<p>App.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;./Header&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ProductList <span class="keyword">from</span> <span class="string">&quot;./ProductList&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">&quot;./context/order.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    orders: []</span><br><span class="line">  &#125;</span><br><span class="line">  addOrder = <span class="function"><span class="params">order</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      orders: [...this.state.orders, order]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; orders &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">const</span> contextValue = &#123;</span><br><span class="line">      orders,</span><br><span class="line">      addOrder: <span class="built_in">this</span>.addOrder</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Provider value=&#123;contextValue&#125;&gt;</span><br><span class="line">          &lt;Header /&gt;</span><br><span class="line">          &lt;ProductList /&gt;</span><br><span class="line">        &lt;/Provider&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="Consumer-ä½¿ç”¨-context"><a href="#Consumer-ä½¿ç”¨-context" class="headerlink" title="Consumer ä½¿ç”¨ context"></a>Consumer ä½¿ç”¨ context</h1><p>åœ¨éœ€è¦ä½¿ç”¨ context value çš„åœ°æ–¹åŒ…ä¸€å±¤ Consumerï¼Œéœ€æ³¨æ„ <strong>value å¿…é ˆç”¨å‡½å¼å‚³å…¥</strong></p>
<p>é€™éº¼ä¸€ä¾†å°±å¯ä»¥å–åˆ° context çš„å€¼å›‰ï¼</p>
<p>Header.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Consumer &#125; <span class="keyword">from</span> <span class="string">&quot;./context/order.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Header = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;header&gt;</span><br><span class="line">      &lt;Consumer&gt;</span><br><span class="line">       &#123; <span class="function"><span class="params">value</span> =&gt;</span> (<span class="string">`è³¼ç‰©è»Š(<span class="subst">$&#123;value.orders.length&#125;</span>)`</span>)&#125;</span><br><span class="line">      &lt;/Consumer&gt;</span><br><span class="line">      &lt;hr/&gt;</span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Header;</span><br></pre></td></tr></table></figure>
<br/>

<p>ProductList.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Product <span class="keyword">from</span> <span class="string">&quot;./Product&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> menu = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">name</span>: <span class="string">&#x27;é›è‚‰é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;è±¬è‚‰é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;ç‰›è‚‰é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;æµ·é®®é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&#x27;æ³¡èœé‹&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ProductList = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;menu.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Product</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span> &#123;<span class="attr">...item</span>&#125; /&gt;</span></span>)&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProductList;</span><br></pre></td></tr></table></figure>
<br/>

<p>Product.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Consumer &#125; <span class="keyword">from</span> <span class="string">&quot;./context/order.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Product = <span class="function">(<span class="params">&#123; id, name &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;label&gt;&#123;name&#125;&lt;/label&gt;</span><br><span class="line">      &lt;Consumer&gt;</span><br><span class="line">        &#123;</span><br><span class="line">          value =&gt; (</span><br><span class="line">            &lt;button onClick=&#123;<span class="function">() =&gt;</span> &#123;value.addOrder(id)&#125;&#125;&gt;+&lt;/button&gt;</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">      &lt;/Consumer&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Product;</span><br></pre></td></tr></table></figure>
<p><br/><br/><br>React Hooks çš„ useContext å¯ä»¥ä¸ä½¿ç”¨ Consumerï¼Œå¯åƒè€ƒ <a href="https://happy9990929.github.io/2022/07/05/react-hooks">React å¸¸ç”¨ Hooks</a></p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React Context</tag>
        <tag>Context API</tag>
        <tag>React Provider</tag>
        <tag>React Consumer</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactè¡¨å–®è™•ç†-inputã€selectã€radioã€checkboxã€file</title>
    <url>/2022/07/02/react-form/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"></p>
<p>React çš„è¡¨å–®ï¼Œå¸¸æœƒç”¨ onChange å»åšè™•ç†ï¼Œä»¥ä¸‹æ˜¯ä¸€äº› inputã€selectã€radioã€checkboxã€file çš„ç¯„ä¾‹è¨˜éŒ„ã€‚</p>
<a id="more"></a>

<h1 id="æ–‡å­—è¼¸å…¥-é›™å‘ç¶å®š-input"><a href="#æ–‡å­—è¼¸å…¥-é›™å‘ç¶å®š-input" class="headerlink" title="æ–‡å­—è¼¸å…¥-é›™å‘ç¶å®š input"></a>æ–‡å­—è¼¸å…¥-é›™å‘ç¶å®š input</h1><p>æ¥æ”¶ value å’Œ onChange äº‹ä»¶ï¼Œå¦‚ input è¼¸å…¥çš„å€¼è®Šæ›´ï¼ŒsetState æœƒå°‡ value è®Šæ›´ç‚ºæ–°çš„å€¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Input</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    text: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  onChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      text: e.target.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; text &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> value=&#123;text&#125; onChange=&#123;<span class="built_in">this</span>.onChange&#125; /&gt;</span><br><span class="line">        &lt;h1&gt;&#123;text&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Input;</span><br></pre></td></tr></table></figure>
<br/>

<p>value å‚³å…¥çš„ä¸€å®šæœƒæ˜¯å­—ä¸²ï¼Œæ‰€ä»¥å¦‚æƒ³è¦çš„å€¼ç‚ºå…¶ä»–å‹åˆ¥ï¼Œè¦è¨˜å¾—è½‰å‹ï¼Œä»¥ä¸‹ç‚º Number å‹æ…‹ï¼ŒparseInt å°‡å­—ä¸²è½‰ç‚º number</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Input</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    num: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  onChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      num: <span class="built_in">parseInt</span>(e.target.value, <span class="number">10</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; num &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;number&quot;</span> value=&#123;num&#125; onChange=&#123;<span class="built_in">this</span>.onChange&#125; /&gt;</span><br><span class="line">        &lt;h1&gt;&#123;num&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Input;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="ä¸‹æ‹‰é¸å–®-Select"><a href="#ä¸‹æ‹‰é¸å–®-Select" class="headerlink" title="ä¸‹æ‹‰é¸å–®-Select"></a>ä¸‹æ‹‰é¸å–®-Select</h1><p><strong>ç¶å®šå­—ä¸²é™£åˆ—</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> animals = [<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;mouse&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;bird&#x27;</span>];</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Select</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    animal: animals[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  onChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      animal: e.target.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; animal &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;select value=&#123;animal&#125; onChange=&#123;<span class="built_in">this</span>.onChange&#125;&gt;</span><br><span class="line">          &#123;animals.map(<span class="function"><span class="params">item</span> =&gt;</span> (<span class="xml"><span class="tag">&lt;<span class="name">option</span> <span class="attr">key</span>=<span class="string">&#123;item&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span>))&#125;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line">        &lt;h1&gt;</span><br><span class="line">          &#123;animal&#125;</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Select;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>ç¶å®šç‰©ä»¶é™£åˆ— value</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> animals = [</span><br><span class="line">  &#123;<span class="attr">label</span>: <span class="string">&#x27;ç‹—&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;dog&#x27;</span> &#125;,</span><br><span class="line">  &#123;<span class="attr">label</span>: <span class="string">&#x27;è²“&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;cat&#x27;</span> &#125;,</span><br><span class="line">  &#123;<span class="attr">label</span>: <span class="string">&#x27;è€é¼ &#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;mouse&#x27;</span> &#125;,</span><br><span class="line">  &#123;<span class="attr">label</span>: <span class="string">&#x27;å…”å­&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;rabbit&#x27;</span> &#125;,</span><br><span class="line">  &#123;<span class="attr">label</span>: <span class="string">&#x27;é³¥&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;bird&#x27;</span> &#125;</span><br><span class="line">];</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Select</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    animalVal: animals[<span class="number">0</span>].value</span><br><span class="line">  &#125;</span><br><span class="line">  onChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      animalVal: e.target.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; animalVal &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;select value=&#123;animalVal&#125; onChange=&#123;<span class="built_in">this</span>.onChange&#125;&gt;</span><br><span class="line">          &#123;animals.map(<span class="function"><span class="params">item</span> =&gt;</span> (<span class="xml"><span class="tag">&lt;<span class="name">option</span> <span class="attr">key</span>=<span class="string">&#123;item.label&#125;</span> <span class="attr">value</span>=<span class="string">&#123;item.value&#125;</span>&gt;</span>&#123;item.label&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span>))&#125;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line">        &lt;h1&gt;</span><br><span class="line">          &#123;animals.find(<span class="function"><span class="params">item</span> =&gt;</span> item.value === animalVal).label&#125;</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Select;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="å–®é¸èˆ‡å¤šé¸-radioã€checkbox"><a href="#å–®é¸èˆ‡å¤šé¸-radioã€checkbox" class="headerlink" title="å–®é¸èˆ‡å¤šé¸-radioã€checkbox"></a>å–®é¸èˆ‡å¤šé¸-radioã€checkbox</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RadioCheckbox</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    gender: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    animal: &#123;</span><br><span class="line">      dog: <span class="literal">false</span>,</span><br><span class="line">      cat: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  changeGender = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      gender: e.target.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  changeAnimal = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> key = e.target.value;</span><br><span class="line">    <span class="built_in">this</span>.setState(<span class="function">(<span class="params">state</span>) =&gt;</span> (</span><br><span class="line">      &#123;</span><br><span class="line">        animal: &#123;</span><br><span class="line">          ...state.animal,</span><br><span class="line">          [key]: !state.animal[key]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; gender, animal &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;h1&gt;ä½ çš„æ€§åˆ¥?&lt;/h1&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            type=<span class="string">&quot;radio&quot;</span></span><br><span class="line">            id=<span class="string">&quot;male&quot;</span></span><br><span class="line">            value=<span class="string">&quot;male&quot;</span></span><br><span class="line">            checked=&#123;gender === <span class="string">&#x27;male&#x27;</span>&#125;</span><br><span class="line">            onChange=&#123;<span class="built_in">this</span>.changeGender&#125;/&gt;</span><br><span class="line">          &lt;label htmlFor=<span class="string">&quot;male&quot;</span>&gt;ç”·&lt;/label&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            type=<span class="string">&quot;radio&quot;</span></span><br><span class="line">            id=<span class="string">&quot;female&quot;</span></span><br><span class="line">            value=<span class="string">&quot;female&quot;</span></span><br><span class="line">            checked=&#123;gender === <span class="string">&#x27;female&#x27;</span>&#125;</span><br><span class="line">            onChange=&#123;<span class="built_in">this</span>.changeGender&#125;/&gt;</span><br><span class="line">          &lt;label htmlFor=<span class="string">&quot;female&quot;</span>&gt;å¥³&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;h1&gt;å–œæ­¡çš„å‹•ç‰©?&lt;/h1&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            type=<span class="string">&quot;checkbox&quot;</span></span><br><span class="line">            id=<span class="string">&quot;dog&quot;</span></span><br><span class="line">            value=<span class="string">&quot;dog&quot;</span></span><br><span class="line">            checked=&#123;animal.dog&#125;</span><br><span class="line">            onChange=&#123;<span class="built_in">this</span>.changeAnimal&#125;/&gt;</span><br><span class="line">          &lt;label htmlFor=<span class="string">&quot;dog&quot;</span>&gt;ç‹—&lt;/label&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            type=<span class="string">&quot;checkbox&quot;</span></span><br><span class="line">            id=<span class="string">&quot;cat&quot;</span></span><br><span class="line">            value=<span class="string">&quot;cat&quot;</span></span><br><span class="line">            checked=&#123;animal.cat&#125;</span><br><span class="line">            onChange=&#123;<span class="built_in">this</span>.changeAnimal&#125;/&gt;</span><br><span class="line">          &lt;label htmlFor=<span class="string">&quot;cat&quot;</span>&gt;è²“&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;pre&gt;&#123;<span class="built_in">JSON</span>.stringify(<span class="built_in">this</span>.state, <span class="literal">null</span>, <span class="number">2</span>)&#125;&lt;/pre&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> RadioCheckbox;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="æª”æ¡ˆä¸Šå‚³èˆ‡åœ–ç‰‡é è¦½-file"><a href="#æª”æ¡ˆä¸Šå‚³èˆ‡åœ–ç‰‡é è¦½-file" class="headerlink" title="æª”æ¡ˆä¸Šå‚³èˆ‡åœ–ç‰‡é è¦½-file"></a>æª”æ¡ˆä¸Šå‚³èˆ‡åœ–ç‰‡é è¦½-file</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">file</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    img: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  changeImg = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å–å¾—ç¬¬0ç­†æª”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">const</span> file = e.target.files[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// FileReader è®€å–ç€è¦½å™¨é¸ä¸­çš„æª”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">const</span> fileReader = <span class="keyword">new</span> FileReader();</span><br><span class="line">    <span class="comment">// è®€å–å®Œæ”¹è®Š img</span></span><br><span class="line">    fileReader.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="built_in">this</span>.fileLoad);</span><br><span class="line">    <span class="comment">// å°‡åœ–ç‰‡ç¹ªå‡ºï¼Œè½‰æ›æˆ Base64 ç·¨ç¢¼</span></span><br><span class="line">    fileReader.readAsDataURL(file);</span><br><span class="line">  &#125;</span><br><span class="line">  fileLoad = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ­¤è™•çš„ e ç‚º fileReader</span></span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      img: e.target.result</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;file&quot;</span> onChange=&#123;<span class="built_in">this</span>.changeImg&#125;/&gt;</span><br><span class="line">        &lt;img src=&#123;<span class="built_in">this</span>.state.img&#125; width=<span class="string">&quot;100%&quot;</span> /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> file;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react form</tag>
        <tag>react input</tag>
        <tag>react select</tag>
        <tag>react radio</tag>
        <tag>react checkbox</tag>
        <tag>react file</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€DAY 1ã€‘ React çš„æ­·å²æ™‚é–“è»¸</title>
    <url>/2022/09/16/react-history/</url>
    <content><![CDATA[<p><img src="https://imgur.com/3UUlzjJ.jpg" alt="react-blue.jpg"></p>
<p>ç¬¬ä¸€æ¬¡åƒåŠ  IT é‚¦éµäººè³½ï¼Œæ¥ä¸‹ä¾†æœƒç™¼ä¸€ç³»åˆ—éµäººè³½çš„æ–‡ç« ï¼Œå¸Œæœ›å¯ä»¥å …æŒåˆ°æœ€å¾Œï¼Œä¸€èµ·åŠ æ²¹å§ï¼</p>
<a id="more"></a>

<h3 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="[ å‰æƒ…æè¦ ]"></a>[ å‰æƒ…æè¦ ]</h3><p>è¦å­¸ç¿’ React å°±è¦æœ‰é–‹ä¸€é–“é¤å»³çš„æ±ºå¿ƒï¼Œä½ èªªé€™æœ‰ä»€éº¼é—œä¿‚ï¼Ÿ<br>é€™éç¨‹å…¶å¯¦å¤§åŒå°ç•°ï¼Œå…©è€…éƒ½éœ€è¦å­¸ç¿’ä¸”æ¶ˆè€—æ™‚é–“æˆæœ¬ï¼Œæ‰æœ‰æ©ŸæœƒæˆåŠŸï¼<br>ç¾åœ¨ã€Œ<strong>ä½ </strong>ã€å°±æ˜¯é¤å»³çš„è€é—†ï¼Œå³å°‡ç‡Ÿæ¥­ä¸€é–“ã€ŒReact ç†±ç‚’åº—ã€ï¼Œ<br>è«‹äº†ç‰¹ç´šå»šå¸« <strong>å°ç•¶å®¶</strong> ç•¶å¾¡ç”¨ä¸»å»šï¼Œè€Œ <strong>è§£å¸«å‚…</strong> ä¹Ÿæ˜¯è‚¡æ±ä¹‹ä¸€ï¼Œæˆ‘å€‘æŠ±è‘—å …æŒä¸‹å»çš„æ±ºå¿ƒä¸€èµ·å‰é€²å§ï¼</p>
<p>è§£å¸«å‚…ï¼šè€é—†ï½è«‹å¤šå¤šæŒ‡æ•™å›‰ï¼<br>å°ç•¶å®¶ï¼šæˆ‘å€‘ä¸€èµ·æŠŠ  React ç†±ç‚’åº— åšå¤§å§~~~ğŸ¤©<br><br/><br/></p>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>React çš„å‡ºç¾ï¼Œè®“é–‹ç™¼è€…äº«å—åˆ°çµ„ä»¶é‡ç”¨çš„ä¾¿åˆ©ï¼Œå„ªåŒ–ä½¿ç”¨è€…ä»‹é¢</p>
<p>æ—©æœŸéƒ½æ˜¯ç”¨ Class Componentï¼Œä½†åœ¨ React 16.8 ä¹‹å¾Œå‡ºäº† ã€ŒHookã€ï¼Œå¯ä»¥å–®ç´”ä½¿ç”¨å‡½å¼çµ„ä»¶ï¼Œè®“ä½ ä¸éœ€è¦ç”¨è¤‡é›œçš„ classï¼Œå°±èƒ½ä½¿ç”¨æ›´å¤š React çš„åŠŸèƒ½ï¼Œå› æ­¤æ•´ç¯‡ï¼Œæˆ‘å€‘éƒ½æœƒä½¿ç”¨ Hook çš„æ–¹å¼ä¾†é–‹ç™¼</p>
<p>ä¸é React æ˜¯èª°ç™¼æ˜çš„ï¼Ÿåˆæ˜¯æ€éº¼å‡ºç¾çš„å‘¢ï¼Ÿåœ¨æ“ä½œ React ä¹‹å‰ï¼Œå…ˆä¾†ç°¡å–®äº†è§£ä¸€ä¸‹ React çš„èƒŒæ™¯å§ï¼</p>
<p><br/><br/></p>
<h1 id="ğŸ•“-å›é¡§-React-çš„æ™‚é–“è»¸"><a href="#ğŸ•“-å›é¡§-React-çš„æ™‚é–“è»¸" class="headerlink" title="ğŸ•“ å›é¡§ React çš„æ™‚é–“è»¸"></a>ğŸ•“ å›é¡§ React çš„æ™‚é–“è»¸</h1><p><br/><br/></p>
<p><img src="https://imgur.com/skyo2W1.jpg" alt="fb.jpg"></p>
<h3 id="ğŸ’ -2010-å¹´å‰å¾Œ"><a href="#ğŸ’ -2010-å¹´å‰å¾Œ" class="headerlink" title="ğŸ’  2010 å¹´å‰å¾Œ"></a>ğŸ’  <strong>2010 å¹´å‰å¾Œ</strong></h3><p>Facebook å¿«é€Ÿæˆé•·ï¼Œç›¸ä¿¡ä½ æˆ‘å° Facebook ä¸€å®šéƒ½ä¸é™Œç”Ÿï¼Œéš¨è‘—åœ˜éšŠçš„æ“´å¼µè®“ä»£ç¢¼çš„ç¶­è­·è®Šå¾—è¶Šä¾†è¶Šå›°é›£ï¼ŒFB èªç‚ºç¾è¡ŒæŠ€è¡“å·²ç„¡æ³•æ»¿è¶³æ“´å±•éœ€æ±‚ï¼Œå¦‚æœç¹¼çºŒç”¨èˆŠæœ‰çš„ä»£ç¢¼ç¶­è­·é é¢ï¼Œç³»çµ±çš„è¤‡é›œå°±æˆç´šæ•¸çš„å¢é•·ï¼Œä½¿ä»£ç¢¼è®Šå¾—è„†å¼±ä¸”ä¸å¯é æ¸¬</p>
<p><br/><br/><br/></p>
<p><img src="https://imgur.com/KSp9YEL.jpg" alt="fax.jpg"></p>
<h3 id="ğŸ’ -2011-å¹´"><a href="#ğŸ’ -2011-å¹´" class="headerlink" title="ğŸ’  2011 å¹´"></a>ğŸ’  <strong>2011 å¹´</strong></h3><p>ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œä¸€ä½ Facebook å·¥ç¨‹å¸« <strong>Jordan Walke</strong> ï¼Œä¾¿é–‹ç™¼å‡º <a href="https://github.com/jordwalke/FaxJs"><strong>FaxJs</strong></a>ï¼Œä¹Ÿå°±æ˜¯ React çš„åŸå‹ï¼Œæ–¼æ˜¯ React å…ˆè¢«æ‡‰ç”¨åœ¨ Facebook çš„ News Feed (å‹•æ…‹æ¶ˆæ¯)</p>
<p><br/><br/><br/></p>
<p><img src="https://imgur.com/kXcTioK.jpg" alt="ig.jpg"></p>
<h3 id="ğŸ’ -2012-å¹´"><a href="#ğŸ’ -2012-å¹´" class="headerlink" title="ğŸ’  2012 å¹´"></a>ğŸ’  <strong>2012 å¹´</strong></h3><p>Facebook å°‡ React åˆ†é›¢å‡ºä¾†ï¼Œè®“ React å¯ä»¥åœ¨ä¸åŒå°ˆæ¡ˆé‹è¡Œï¼ŒFacebook æ”¶è³¼ Instagramï¼Œå°‡ React éƒ¨ç½²åœ¨ Instagram</p>
<p>Facebook çš„ CEO Mark Zuckerberg è¡¨ç¤ºï¼šæˆ‘å€‘æœ€å¤§çš„éŒ¯èª¤å°±æ˜¯å£“å¤ªå¤šå¯¶åœ¨ HTML5 ä¸Šäº†</p>
<p><br/><br/><br/></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/GW0rj4sNH2w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h3 id="ğŸ’ -2013å¹´"><a href="#ğŸ’ -2013å¹´" class="headerlink" title="ğŸ’  2013å¹´"></a>ğŸ’  <strong>2013å¹´</strong></h3><p>åœ¨ JSCONF US å³°æœƒï¼ŒJordan Walke ç™¼è¡¨ React çš„ Open Sourceï¼Œèµ·åˆçš„è½çœ¾å° React æŠ±æŒæ‡·ç–‘çš„æ…‹åº¦ï¼Œå¤šæ•¸äººè¦ºå¾— React æ˜¯ä¸€ç¨®é€€æ­¥ï¼Œé€™è®“ Facebook åœ˜éšŠæ±ºå®šåŠ å¼·å®£å‚³åœ¨å‹‡æ–¼å‰µæ–°çš„æ—ç¾¤ä¸Š</p>
<p><br/><br/><br/></p>
<p><img src="https://imgur.com/6d7eueQ.jpg" alt="netflix.jpg"></p>
<h3 id="ğŸ’ -2014å¹´"><a href="#ğŸ’ -2014å¹´" class="headerlink" title="ğŸ’  2014å¹´"></a>ğŸ’  2014å¹´</h3><p>ç¶“éåœ˜éšŠçš„æ¨å»£ï¼ŒReact é€æ¼¸ç²å¾—è²è­½ï¼Œé–‹å§‹æœ‰å¤§é‡å…¬å¸å°‡ React ç”¨åœ¨å°ˆæ¡ˆä¸Šï¼ŒåŒ…å«äº† Netflix</p>
<p><br/><br/><br/></p>
<p><img src="https://imgur.com/uzjLy5B.jpg" alt="redux.jpg"></p>
<h3 id="ğŸ’ -2015å¹´"><a href="#ğŸ’ -2015å¹´" class="headerlink" title="ğŸ’  2015å¹´"></a>ğŸ’  2015å¹´</h3><p>React Nativeã€Redux å•ä¸–</p>
<p>React Native è®“ç¶²é é–‹ç™¼äººå“¡èƒ½ç”¨ React çš„æ–¹å¼ä»¥ JavaScript æ’°å¯« App</p>
<p>Redux å¯ä»¥è®“ä¸åŒçš„çµ„ä»¶ï¼Œä½¿ç”¨åˆ°å…±ç”¨çš„è³‡æ–™å’Œæ–¹æ³•ï¼Œçµ±ä¸€é›†ä¸­ç®¡ç†å…±ç”¨çš„ç‹€æ…‹</p>
<p><br/><br/><br/></p>
<h3 id="ğŸ’ -2016å¹´"><a href="#ğŸ’ -2016å¹´" class="headerlink" title="ğŸ’  2016å¹´"></a>ğŸ’  2016å¹´</h3><p>React æˆç‚ºä¸»æµæ¡†æ¶ä¹‹ä¸€ï¼Œç‰ˆæœ¬é€²å…¥åˆ°æ­£å¼ç‰ˆè™Ÿ React 15 ç©©å®šç‰ˆ</p>
<p><br/><br/><br/></p>
<h3 id="ğŸ’ -2017å¹´"><a href="#ğŸ’ -2017å¹´" class="headerlink" title="ğŸ’  2017å¹´"></a>ğŸ’  2017å¹´</h3><p>React 16 ç™¼ä½ˆ</p>
<p><br/><br/><br/></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dpw9EHDh2bM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h3 id="ğŸ’ -2018å¹´"><a href="#ğŸ’ -2018å¹´" class="headerlink" title="ğŸ’  2018å¹´"></a>ğŸ’  2018å¹´</h3><p>åœ¨ React Conf 2018ï¼ŒSophie Alpert å’Œ Dan Abramov ä»‹ç´¹äº† Hookï¼Œæ¥è‘— Ryan Florence å±•ç¤ºäº†å¦‚ä½•ç”¨å®ƒå€‘ä¾†é‡æ§‹æ‡‰ç”¨ç¨‹å¼</p>
<p><br/><br/><br/></p>
<p><img src="https://imgur.com/Lm4pMMb.jpg" alt="hook.jpg"></p>
<h3 id="ğŸ’ -2019å¹´"><a href="#ğŸ’ -2019å¹´" class="headerlink" title="ğŸ’  2019å¹´"></a>ğŸ’  2019å¹´</h3><p>React 16.8 å…¬çœ¾ç™¼å¸ƒã€‚React Hooks å¯ä»¥åœ¨ç©©å®šç‰ˆä¸­ä½¿ç”¨ï¼Œä¸å¿…å¯« class å°±èƒ½ä½¿ç”¨ stateï¼Œæ›´å¥½ç®¡ç†æœ‰ç‹€æ…‹çš„é‚è¼¯ï¼Œä¹Ÿé™ä½äº†å­¸ç¿’æˆæœ¬</p>
<p><br/><br/><br/></p>
<h3 id="ğŸ’ -2020å¹´"><a href="#ğŸ’ -2020å¹´" class="headerlink" title="ğŸ’  2020å¹´"></a>ğŸ’  2020å¹´</h3><p>React 17 å¼•å…¥æ¼¸é€²å¼å‡ç´š</p>
<p><br/><br/><br/></p>
<h3 id="ğŸ’ -2022å¹´è‡³ä»Š"><a href="#ğŸ’ -2022å¹´è‡³ä»Š" class="headerlink" title="ğŸ’  2022å¹´è‡³ä»Š"></a>ğŸ’  2022å¹´è‡³ä»Š</h3><p>React18 æ­£å¼ç‰ˆç™¼å¸ƒ</p>
<p><br/><br/><br/></p>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>å›æº¯çš„éƒ¨åˆ†å°±å·®ä¸å¤šå¯«åˆ°é€™è£¡ï¼Œé›–ç„¶ä½ å®Œå…¨å¯ä»¥ä¸ç”¨çŸ¥é“é€™äº›éå»ï¼Œé‚„æ˜¯å¯ä»¥å­¸å¥½ React ï¼Œä½†å›éé ­ä¾†çœ‹äº†é€™äº›éå»æœƒç™¼ç¾ï¼Œé€™å…¶å¯¦æ˜¯å€‹å¾ˆå‹µå¿—çš„æ•…äº‹ï¼Œä¹Ÿé‚„æ»¿æœ‰è¶£çš„ï¼ä»Šå¤©å°±åˆ°é€™è£¡å›‰ï½æˆ‘å€‘æ˜å¤©ç¹¼çºŒå§ï¼</p>
<hr>
<p>æœ¬æ–‡ç‚º IT éµäººè³½ç³»åˆ—æ–‡ <a href="https://ithelp.ithome.com.tw/users/20115919/ironman/5602">ä½  React äº†å—? 30 å¤©è§£é– React æŠ€èƒ½</a></p>
<hr>
]]></content>
      <categories>
        <category>ã€IT éµäººè³½ã€‘ä½ Reactäº†å—? 30å¤©è§£é–ReactæŠ€èƒ½</category>
      </categories>
      <tags>
        <tag>Reactæ™‚é–“è»¸</tag>
        <tag>Reactæ­·å²</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå¸¸ç”¨Hooks</title>
    <url>/2022/07/05/react-hooks/</url>
    <content><![CDATA[<p><img src="https://imgur.com/cnvp1BX.jpg" alt="hooks"></p>
<p>Hooks æ˜¯ React 16.8 ä¹‹å¾Œå‡ºçš„åŠŸèƒ½ï¼Œå¯ä»¥å–®ç´”ä½¿ç”¨å‡½å¼çµ„ä»¶ï¼Œè€Œä¸ç”¨å¯« Class component</p>
<p>Hooks å„ªé»</p>
<ol>
<li>æ›´å¥½ç®¡ç†æœ‰ç‹€æ…‹çš„é‚è¼¯</li>
<li>æŠŠç›¸åŒé‚è¼¯æ”¾åœ¨åŒå€‹åœ°æ–¹ï¼Œè€Œä¸æ˜¯å¼·åˆ¶åŸºæ–¼ lifecycle æ–¹æ³•ä¾†åˆ†æ‹†</li>
<li>Class é‹ä½œã€å­¸ç¿’è¼ƒç‚ºè¤‡é›œ</li>
</ol>
<a id="more"></a>

<p><strong>React ç›®å‰æ²’æœ‰è¨ˆç•«ç§»é™¤ Classï¼Œæ‰€ä»¥æ˜¯å®Œå…¨è‡ªç”±é¸æ“‡ä½¿ç”¨ï¼ŒHooks ä¹Ÿ 100% å‘ä¸‹ç›¸å®¹</strong><br><br/><br/></p>
<h1 id="useState-ç‹€æ…‹ç®¡ç†"><a href="#useState-ç‹€æ…‹ç®¡ç†" class="headerlink" title="useState ç‹€æ…‹ç®¡ç†"></a>useState ç‹€æ…‹ç®¡ç†</h1><p>å…ˆçœ‹çœ‹åŸæœ¬çš„ Class componentï¼Œé€™æ˜¯ä¸€å€‹ç°¡å–®çš„è¨ˆæ•¸å™¨</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; count &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;&#123; count &#125;&lt;/h1&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.addCount&#125;&gt;add&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<br/>

<p>æŠŠ Class component æ”¹æˆ Hooks ï¼Œstate è·Ÿ lifecycle æ‹¿æ‰ï¼Œä½¿ç”¨ useState</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    setCount(count + <span class="number">1</span>); <span class="comment">// æˆ– setCount(c =&gt; c + 1);</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123; count &#125;&lt;/h1&gt;</span><br><span class="line">      &lt;button onClick=&#123;addCount&#125;&gt;add&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<p>æ˜¯ä¸æ˜¯ç°¡çŸ­å¾ˆå¤šå‘¢ï½</p>
<br/>

<p><strong>useState</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> [ç‹€æ…‹, è¨­å®šç‹€æ…‹çš„å‡½å¼] = useState(ç‹€æ…‹åˆå§‹å€¼);</span><br></pre></td></tr></table></figure>
<p>useState å› åŸ·è¡Œé †åºï¼Œå¿…é ˆæ”¾åœ¨å‡½å¼çš„æœ€ä¸Šé¢</p>
<p>ç‹€æ…‹åˆå§‹å€¼å¯ä»¥æ˜¯ä»»ä½•å‹æ…‹ï¼Œä¸åƒ class åªèƒ½ç”¨ç‰©ä»¶</p>
<br/>

<p><strong>useState çš„ setState éœ€è¦æŠŠåŸæœ¬æ²’ä½¿ç”¨åˆ°çš„ state ä¹Ÿåˆä½µï¼Œå¦å‰‡æœƒå‡ºéŒ¯</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [&#123;count1, count2&#125;, setState] = useState(&#123;<span class="attr">count1</span>: <span class="number">0</span>, <span class="attr">count2</span>: <span class="number">10</span>&#125;);</span><br><span class="line">  <span class="keyword">const</span> addCount1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">state</span> =&gt;</span> (&#123;...state, <span class="attr">count1</span>: state.count1 + <span class="number">1</span>&#125;));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> addCount2 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">state</span> =&gt;</span> (&#123;...state, <span class="attr">count2</span>: state.count2 + <span class="number">1</span>&#125;));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123; count1 &#125;&lt;/h1&gt;</span><br><span class="line">      &lt;h1&gt;&#123; count2 &#125;&lt;/h1&gt;</span><br><span class="line">      &lt;button onClick=&#123;addCount1&#125;&gt;add&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;addCount2&#125;&gt;add&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="useEffect-é™„åŠ ä½œç”¨"><a href="#useEffect-é™„åŠ ä½œç”¨" class="headerlink" title="useEffect é™„åŠ ä½œç”¨"></a>useEffect é™„åŠ ä½œç”¨</h1><p>æ¯æ¬¡ render éƒ½æœƒå‘¼å« useEffectï¼ŒuseEffect å¯ä»¥åšåˆ°è·Ÿ class lifecycle ä¸€æ¨£çš„æ•ˆæœï¼Œä½† useEffect èƒ½æŠŠç›¸åŒé‚è¼¯å¯«åœ¨åŒä¸€å€‹å‡½å¼è£¡ï¼Œç›¸è¼ƒ class çš„ lifecycle æ›´å¥½ç®¡ç†</p>
<p>useEffect æœƒåš 4 ä»¶äº‹æƒ…</p>
<ol>
<li>åˆ¤æ–·ç¬¬äºŒå€‹åƒæ•¸çš„é™£åˆ—æ˜¯å¦ä¸€æ¨£ï¼Œå¦‚æœä¸€æ¨£æ‰æœƒç¹¼çºŒ</li>
<li>åŸ·è¡Œä¸Šä¸€æ¬¡å­˜ä¸‹ä¾†çš„æ¸…ç†å‡½å¼</li>
<li>åŸ·è¡Œ<code>useEffect</code>çš„å…§å®¹</li>
<li>æŠŠ æ¸…ç†å‡½å¼ å­˜ä¸‹ä¾†ï¼Œä¾›ä¸‹æ¬¡ä½¿ç”¨</li>
</ol>
<br/>

<p>return æ¸…ç†å‡½å¼ <strong>ç­‰åŒ class çš„ componentWillUnmount</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> onScroll = <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, onScroll);</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&#x27;scroll&#x27;</span>, onScroll);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<br/>

<p>ç¬¬äºŒåƒæ•¸å‚³å…¥ç©ºé™£åˆ—ï¼Œ<strong>ç­‰åŒ class componentDidMount</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// do componentDidMount</span></span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>ç­‰åŒ class  componentDidUpdate</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// do componentDidUpdate</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>class  componentDidUpdate å¯«åˆ¤æ–·æ¢ä»¶ï¼Œç¨‹å¼å†—é•·</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">componentDidUpdate</span>(<span class="params">prevProps, prevState</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (prevState.count !== <span class="built_in">this</span>.state.count) &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;<span class="built_in">this</span>.state.count&#125;</span> times`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>useEffect åªéœ€è¦å‚³å…¥ç¬¬äºŒåƒæ•¸ï¼Œå¦‚ count èˆ‡å‰æ¬¡ä¸ä¸€æ¨£å°±æœƒåŸ·è¡Œ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;<span class="built_in">this</span>.state.count&#125;</span> times`</span>;</span><br><span class="line">&#125;, [count])</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="useContext-æ‡‰ç”¨-Context"><a href="#useContext-æ‡‰ç”¨-Context" class="headerlink" title="useContext æ‡‰ç”¨ Context"></a>useContext æ‡‰ç”¨ Context</h1><p>ä½¿ç”¨ Context API æ™‚ï¼Œä¸ç”¨ä½¿ç”¨ Consumerï¼ŒuseContext å¯ä»¥ç›´æ¥ç”¨å‡½å¼å–å¾— context value<br>ä»¥ <a href="https://happy9990929.github.io/2022/07/04/react-context-api/">å‰ä¸€ç¯‡çš„ Context API ç¯„ä¾‹</a> ä¾†æ”¹<br><br/></p>
<p><strong>è¨­å®š Context</strong></p>
<p>src/context/order.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createContext &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> context = createContext();</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; Provider &#125; = context;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> context;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>è¨­å®š Providerï¼ŒcontextValue å‚³å…¥ context</strong></p>
<p>æ”¹æˆä½¿ç”¨ Hooksï¼ŒProvider ä¸€æ¨£ä¸è®Š</p>
<p>src/App.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;./Header&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ProductList <span class="keyword">from</span> <span class="string">&quot;./ProductList&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">&quot;./context/order.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [orders, setOrders] = useState([]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> addOrder = <span class="function"><span class="params">order</span> =&gt;</span> &#123;</span><br><span class="line">    setOrders([...orders, order])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> contextValue = &#123;</span><br><span class="line">    orders, addOrder</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Provider value=&#123;contextValue&#125;&gt;</span><br><span class="line">        &lt;Header /&gt;</span><br><span class="line">        &lt;ProductList /&gt;</span><br><span class="line">      &lt;/Provider&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>ä½¿ç”¨ useContext å–å¾— contextValue</strong></p>
<p>useContext å¯ä»¥ç›´æ¥å–å¾— contextValueï¼Œå°±ä¸ç”¨å†ç”¨ Consumer å†å¾å‡½å¼å–å€¼</p>
<p>src/Header.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> context <span class="keyword">from</span> <span class="string">&quot;./context/order.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Header = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; orders &#125; = useContext(context);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;header&gt;</span><br><span class="line">      è³¼ç‰©è»Š($&#123;orders.length&#125;)</span><br><span class="line">      &lt;hr/&gt;</span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Header;</span><br></pre></td></tr></table></figure>
<br/>
src/ProductList.js

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Product <span class="keyword">from</span> <span class="string">&quot;./Product&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> menu = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">name</span>: <span class="string">&#x27;é›è‚‰é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;è±¬è‚‰é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;ç‰›è‚‰é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;æµ·é®®é‹&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&#x27;æ³¡èœé‹&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ProductList = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;menu.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Product</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span> &#123;<span class="attr">...item</span>&#125; /&gt;</span></span>)&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProductList;</span><br></pre></td></tr></table></figure>
<br/>
src/Product.js

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> context <span class="keyword">from</span> <span class="string">&quot;./context/order.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Product = <span class="function">(<span class="params">&#123; id, name &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; addOrder &#125; = useContext(context);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;label&gt;&#123;name&#125;&lt;/label&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> &#123;addOrder(id)&#125;&#125;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Product;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="useRef-å­˜å–çµ„ä»¶è®Šæ•¸"><a href="#useRef-å­˜å–çµ„ä»¶è®Šæ•¸" class="headerlink" title="useRef å­˜å–çµ„ä»¶è®Šæ•¸"></a>useRef å­˜å–çµ„ä»¶è®Šæ•¸</h1><p>useRef æ˜¯æ¯æ¬¡æŒ‡å®šç›¸åŒçš„ dom</p>
<p>createRef æ˜¯æ¯æ¬¡å‰µå»ºæ–°çš„ dom</p>
<p>ç¯„ä¾‹: è‡ªå‹• focus input</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useEffect, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Ref = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> myInput = useRef();</span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    myInput.current.focus();</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;text&quot;</span> ref=&#123;myInput&#125;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Ref;</span><br></pre></td></tr></table></figure>
<br/>
ä¹Ÿå¯ä»¥å–ä»£ instance variable

<p>ç¯„ä¾‹: setInterval è¨ˆæ™‚å™¨</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Ref = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> ref = useRef(&#123;&#125;);</span><br><span class="line">  <span class="keyword">const</span> addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    ref.current = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      setCount(<span class="function"><span class="params">c</span> =&gt;</span> c + <span class="number">1</span>);</span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> stopCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(ref.current)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;button onClick=&#123;addCount&#125;&gt;start&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;stopCount&#125;&gt;stop&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Ref;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React Hooks</tag>
        <tag>React useState</tag>
        <tag>React useEffect</tag>
        <tag>React useContext</tag>
        <tag>React useRef</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactç”Ÿå‘½é€±æœŸã€éŒ¯èª¤è™•ç†</title>
    <url>/2022/07/04/react-lifecycle/</url>
    <content><![CDATA[<p><img src="https://imgur.com/tkfJbzu.jpg" alt="React"></p>
<p>åœ¨ä¸åŒéšæ®µçš„ç”Ÿå‘½é€±æœŸï¼Œå¦‚æ›è¼‰æ™‚ã€æ›´æ–°æ™‚ã€å¸è¼‰æ™‚ï¼Œåˆ†åˆ¥æœƒå°æ‡‰ä¸åŒçš„å‡½å¼</p>
<a id="more"></a>

<p>åœ–ç‰‡æˆªåœ–è‡ª: <a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">ç¶²ç«™ç‰ˆ React Life Cycle ç¶²å‹è£½</a></p>
<p>å¸¸ç”¨çš„ç”Ÿå‘½é€±æœŸæœ‰: constructorã€renderã€componentDidMountã€componentDidUpdateã€componentWillUnmount</p>
<h1 id="constructor-å»ºæ§‹å‡½å¼"><a href="#constructor-å»ºæ§‹å‡½å¼" class="headerlink" title="constructor å»ºæ§‹å‡½å¼"></a>constructor å»ºæ§‹å‡½å¼</h1><p><strong>çµ„ä»¶ç”Ÿæˆå¾Œç¬¬ä¸€å€‹åŸ·è¡Œï¼Œå”¯ä¸€å¯ä»¥æŒ‡å®š state çš„åœ°æ–¹</strong></p>
<p><strong>constructor æ³¨æ„</strong><br>âŒ ä¸å¯å‘¼å« setState<br>âŒ ä¸å¯å‘¼å« ajax<br>âŒ ä¸è¦å°‡ props æŒ‡å®šç‚º state</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props); <span class="comment">// super ç‚º Counter çš„çˆ¶é¡åˆ¥ Component</span></span><br><span class="line">    <span class="built_in">this</span>.state = &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="built_in">this</span>.handClick = <span class="built_in">this</span>.handClick.bind(<span class="built_in">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">handClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="render-æ¸²æŸ“å‡½å¼"><a href="#render-æ¸²æŸ“å‡½å¼" class="headerlink" title="render æ¸²æŸ“å‡½å¼"></a>render æ¸²æŸ“å‡½å¼</h1><p><strong>æŠŠè³‡æ–™è½‰æˆè¦–è¦ºç•«é¢</strong>ï¼Œå¯ä»¥è®€å– propsã€stateï¼Œä¸¦ä¸”æœƒ return è³‡æ–™</p>
<p>return å¯ä»¥æ˜¯ä¸€å€‹ jsx å…ƒç´ ã€Arrayã€numberã€booleanã€stringã€nullã€portal</p>
<p>åœ¨ React 16 ä»¥å¾Œï¼Œå…ƒç´ å¯ä»¥æ˜¯ä¸éœ€è¢«ä¸€å€‹æ¨™ç±¤åŒ…ä½</p>
<p>ä½ å¯ä»¥ç”¨ return Array</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> [</span><br><span class="line">    &lt;h1&gt;title&lt;/h1&gt;,</span><br><span class="line">    &lt;div&gt;<span class="number">123</span>&lt;/div&gt;</span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–æ˜¯<strong>ç”¨è™›æ“¬çš„åŒ…è£å…ƒç´  Fragment åŒ…ä½ï¼Œæ¸²æŸ“å‡ºä¾†å¾Œ Fragment ä¸æœƒé¡¯ç¤ºåœ¨ HTMLä¸Š</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, Fragment &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;h1&gt;title&lt;/h1&gt;</span><br><span class="line">        &lt;div&gt;<span class="number">123</span>&lt;/div&gt;</span><br><span class="line">      &lt;/Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br></pre></td></tr></table></figure>
<p>æˆ–æ˜¯ç›´æ¥çµ¦ç©ºæ¨™ç±¤ï¼Œéœ€è¦è¨­å®š babelï¼Œæ•ˆæœä¹Ÿæœƒè·Ÿ Fragment ä¸€æ¨£</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span>(</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;h1&gt;title&lt;/h1&gt;</span><br><span class="line">      &lt;div&gt;<span class="number">123</span>&lt;/div&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>render æ³¨æ„</strong><br>âŒ ä¸å¯å‘¼å« setStateï¼ŒsetState æœƒæ›´æ–° stateï¼Œstate æ”¹è®Šå¾Œé‡æ–° renderï¼Œæœƒç„¡çª®è¿´åœˆ<br>âŒ ä¸å¯å‘¼å« ajax<br><br/><br/></p>
<h1 id="componentDidMount-çµ„ä»¶åˆæ¬¡-render-å®Œæˆ"><a href="#componentDidMount-çµ„ä»¶åˆæ¬¡-render-å®Œæˆ" class="headerlink" title="componentDidMount çµ„ä»¶åˆæ¬¡ render å®Œæˆ"></a>componentDidMount çµ„ä»¶åˆæ¬¡ render å®Œæˆ</h1><p>çµ„ä»¶ç¬¬ä¸€æ¬¡ render å®Œå¾ŒåŸ·è¡Œï¼Œ</p>
<p>å¯ä½¿ç”¨ domã€è®€å– ajax è³‡æ–™</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    items: []</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.fetchList();</span><br><span class="line">  &#125;</span><br><span class="line">  fetchList = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> fetch(<span class="string">&#x27;https://.../api&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> res.json();</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      items: data,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; items &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &#123;items.map(<span class="function">(<span class="params">item</span>) =&gt;</span> (</span><br><span class="line">          &lt;li key=&#123;item.id&#125;&gt;&#123;item.text&#125;&lt;/li&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="componentDidUpdate-ç‹€æ…‹å±¬æ€§æ›´æ–°"><a href="#componentDidUpdate-ç‹€æ…‹å±¬æ€§æ›´æ–°" class="headerlink" title="componentDidUpdate ç‹€æ…‹å±¬æ€§æ›´æ–°"></a>componentDidUpdate ç‹€æ…‹å±¬æ€§æ›´æ–°</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">componentDidUpdate(prevProps, PrevState, snapshot)</span><br></pre></td></tr></table></figure>
<p>åªè¦ state æˆ– props æœ‰è®Šå‹•ï¼Œå°±æœƒåŸ·è¡Œ componentDidUpdate</p>
<p>componentDidUpdate éœ€è¦åšä¸€å€‹ state æˆ– props è®Šå‹•çš„æ¢ä»¶åˆ¤æ–·</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">componentDidUpdate</span>(<span class="params">prevProps, PrevState, snapshot</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(prevProps.userID !== <span class="built_in">this</span>.props.userID) &#123;</span><br><span class="line">      <span class="built_in">this</span>.fetchUser(<span class="built_in">this</span>.props.userID);</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>snapshot æ˜¯æŒ‡ getSnapshotBeforeUpdate å›å‚³çš„å€¼ï¼Œå¯åˆ¤æ–· snapshot çš„å€¼ï¼ŒåŸ·è¡Œå‹•ä½œ<br><br/><br/></p>
<h1 id="componentWillUnmount-å¸è¼‰å‰"><a href="#componentWillUnmount-å¸è¼‰å‰" class="headerlink" title="componentWillUnmount å¸è¼‰å‰"></a>componentWillUnmount å¸è¼‰å‰</h1><p><strong>çµ„ä»¶å°‡è¦éŠ·æ¯€å‰åŸ·è¡Œ</strong></p>
<p>å¸¸ç”¨æ–¼ç§»é™¤åµè½ removeEventListenerã€clearTimeoutã€clearInterval</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, <span class="built_in">this</span>.onScroll);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">componentDidUpdate</span>(<span class="params">prevProps, prevState</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.timeoutTimer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123; &#125;, <span class="number">3000</span>);</span><br><span class="line">  <span class="built_in">this</span>.intervalTimer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123; &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">window</span>.removeEventListener(<span class="string">&#x27;scroll&#x27;</span>, <span class="built_in">this</span>.onScroll);</span><br><span class="line">  <span class="built_in">clearTimeout</span>(<span class="built_in">this</span>.timeoutTimer);</span><br><span class="line">  <span class="built_in">clearInterval</span>(<span class="built_in">this</span>.intervalTimer);</span><br><span class="line">&#125;</span><br><span class="line">onScroll = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// do someting</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä¸å¸¸ç”¨çš„ç”Ÿå‘½é€±æœŸ: getDerivedStateFromPropsã€shouldComponentUpdateã€getSnapshotBeforeUpdate</p>
<h1 id="getDerivedStateFromProps"><a href="#getDerivedStateFromProps" class="headerlink" title="getDerivedStateFromProps"></a>getDerivedStateFromProps</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="function"><span class="title">getDerivedStateFromProps</span>(<span class="params">nextProps, prevState</span>)</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ¯æ¬¡ mountedã€propsã€state çš„è®Šå‹•éƒ½æœƒåŸ·è¡Œï¼Œä¸¦ return æ–°çš„ stateï¼Œå¦‚ä¸é ˆè®Šæ›´é ˆå›å‚³ nu</strong></p>
<p>éœæ…‹å‡½å¼ï¼Œä¸æœƒæœ‰ thisã€ä¸èƒ½åšéåŒæ­¥æ“ä½œ<br><br/><br/></p>
<h1 id="shouldComponentUpdate"><a href="#shouldComponentUpdate" class="headerlink" title="shouldComponentUpdate"></a>shouldComponentUpdate</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">shouldComponentUpdate</span>(<span class="params">nextProps, nextState</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶çµ„ä»¶è¦ä¸è¦æ›´æ–°ï¼Œreturn booleanï¼Œé è¨­ç‚º true<br><br/><br/></p>
<h1 id="getSnapshotBeforeUpdate"><a href="#getSnapshotBeforeUpdate" class="headerlink" title="getSnapshotBeforeUpdate"></a>getSnapshotBeforeUpdate</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">getSnapshotBeforeUpdate</span>(<span class="params">prevProps, prevState</span>)</span> &#123;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>çµ„ä»¶å¯¦éš›è®Šæ›´ä¹‹å‰åŸ·è¡Œ</strong></p>
<p>å¯ä»¥è¨˜éŒ„ dom è®Šæ›´ä¹‹å‰çš„ç‹€æ…‹ï¼Œreturn ç„¡é™åˆ¶å‹æ…‹</p>
<hr>
<h1 id="éŒ¯èª¤è™•ç†"><a href="#éŒ¯èª¤è™•ç†" class="headerlink" title="éŒ¯èª¤è™•ç†"></a>éŒ¯èª¤è™•ç†</h1><p><strong>æŠ“çµ„ä»¶åœ¨ç”Ÿå‘½é€±æœŸç™¼ç”Ÿçš„éŒ¯èª¤</strong>ï¼Œä¸æœƒæŠ“åˆ° Promise å›å‚³çš„éŒ¯èª¤</p>
<h2 id="getDerivedStateFromError"><a href="#getDerivedStateFromError" class="headerlink" title="getDerivedStateFromError"></a>getDerivedStateFromError</h2><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> getDerivedStateFromError(error)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœçµ„ä»¶ç™¼ç”ŸéŒ¯èª¤ï¼Œæƒ³æ”¹è®Šè¦–è¦ºç‹€æ…‹ï¼Œå¯åœ¨ getDerivedStateFromError åŸ·è¡ŒéŒ¯èª¤è™•ç†</p>
<p><br/><br/></p>
<h2 id="componentDidCatch-error-info"><a href="#componentDidCatch-error-info" class="headerlink" title="componentDidCatch(error, info)"></a>componentDidCatch(error, info)</h2><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">componentDidCatch(error, info)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœçµ„ä»¶ç™¼ç”ŸéŒ¯èª¤ï¼Œæƒ³å›å‚³éŒ¯èª¤è¨Šæ¯çµ¦å¾Œç«¯æˆ–å°é ï¼Œå¯åœ¨ componentDidCatch åŸ·è¡Œ</p>
<p><br/><br/></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&quot;./Child&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    hasError: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">getDerivedStateFromError</span>(<span class="params">error</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">hasError</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">componentDidCatch</span>(<span class="params">error, info</span>)</span> &#123;</span><br><span class="line">    axios.post(<span class="string">&#x27;/api/logger&#x27;</span>, &#123; info &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; hasError &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">if</span>(hasError) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Error<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Success&lt;/h1&gt;</span><br><span class="line">        &lt;Child /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react lifecycle</tag>
        <tag>react constructor</tag>
        <tag>react render</tag>
        <tag>react componentDidMount</tag>
        <tag>react componentDidUpdate</tag>
        <tag>react componentWillUnmount</tag>
        <tag>react getDerivedStateFromProps</tag>
        <tag>react shouldComponentUpdate</tag>
        <tag>react getSnapshotBeforeUpdate</tag>
        <tag>react getDerivedStateFromError</tag>
        <tag>react componentDidCatch</tag>
      </tags>
  </entry>
  <entry>
    <title>React Portal å‚³é€çµ„ä»¶åˆ°æŒ‡å®šå…ƒç´ </title>
    <url>/2022/07/04/react-portal/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"></p>
<p>Portal å¯ä»¥å‚³é€çµ„ä»¶åˆ°æŒ‡å®šçš„å…ƒç´ ï¼Œå¸¸ç”¨åœ¨æœ‰éšå±¤å±¤ç´šçš„ Modal</p>
<a id="more"></a>

<p>åœ¨ index.html æ–°å¢ id=â€modalâ€ çš„å…ƒç´ <br>/public/index.html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;modal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<p>render App åˆ° #root</p>
<p>/src/index.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> root = createRoot(container);</span><br><span class="line">root.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<p>import Modal Component</p>
<p>/src/App.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Modal <span class="keyword">from</span> <span class="string">&quot;./Modal&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Modal/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<p>import createPortalï¼Œä¸¦ return createPortal  åˆ° #modal</p>
<p>/src/Modal.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createPortal &#125; <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Modal</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> createPortal (</span><br><span class="line">      &lt;div&gt;Modal&lt;/div&gt;,</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">&#x27;modal&#x27;</span>)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Modal;</span><br></pre></td></tr></table></figure>
<p><br><br><br>æœ€å¾Œè¨­å®šçš„å…§å®¹å°±æœƒå‡ºç¾åœ¨ #modal è£¡å›‰ï¼</p>
<p><img src="https://imgur.com/DrGcz6E.jpg" alt="htmlModal"></p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React Portal</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Redux Toolkit æ•™å­¸ã€‘ç®¡ç†çµ„ä»¶çš„å…±ç”¨è³‡æ–™</title>
    <url>/2022/07/25/react-redux/</url>
    <content><![CDATA[<p><img src="https://imgur.com/Cc0ifaw.jpg" alt="Redux Toolkit"></p>
<p>Redux æ˜¯å¯ä»¥è®“ä¸åŒçš„çµ„ä»¶ï¼Œä½¿ç”¨åˆ°å…±ç”¨çš„è³‡æ–™å’Œæ–¹æ³•ï¼Œçµ±ä¸€é›†ä¸­ç®¡ç†å…±ç”¨çš„ç‹€æ…‹<br>Redux ä¸æ˜¯ React çš„ libraryï¼Œä½†å¾ˆå¤š React å°ˆæ¡ˆéƒ½æœƒä½¿ç”¨ Redux ä¾†ç®¡ç†ç‹€æ…‹ï¼Œé€™ä¹Ÿæ˜¯å­¸ React æ¯”è¼ƒè¤‡é›œçš„åœ°æ–¹<strong>ğŸ¤ª</strong><br>å¥½åœ¨å®˜æ–¹ä¹‹å¾Œå‡ºäº† Redux Toolkitï¼Œä¹Ÿæ¨è–¦å¤§å®¶ä½¿ç”¨ Redux Toolkit ä¾†æ’°å¯« Reduxï¼Œå®ƒæ˜¯ä»¥ Redux ç‚ºæ ¸å¿ƒï¼Œä¹Ÿæ¯”è¼ƒå®¹æ˜“ä¸Šæ‰‹ï¼</p>
<a id="more"></a>
<p><br/><br/></p>
<h1 id="å®‰è£ç’°å¢ƒ"><a href="#å®‰è£ç’°å¢ƒ" class="headerlink" title="å®‰è£ç’°å¢ƒ"></a><strong>å®‰è£ç’°å¢ƒ</strong></h1><p>å¯ä¾è‡ªå·±çš„éœ€æ±‚å®‰è£ç’°å¢ƒ</p>
<p><strong>å‰µå»ºæ¨¡æ¿ React + Redux Toolkit</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">npx create-react-app my-app --template redux</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>å®‰è£ react-reduxã€@reduxjs/toolkit</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">npm i react-redux @reduxjs/toolkit</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="èªè­˜è®Šæ•¸"><a href="#èªè­˜è®Šæ•¸" class="headerlink" title="èªè­˜è®Šæ•¸"></a>èªè­˜è®Šæ•¸</h1><p>ä½¿ç”¨ Reduxï¼Œä½ æœƒè½åˆ°å¹¾å€‹é—œéµå­—ï¼š</p>
<ol>
<li><strong>state</strong>ï¼šç”¨ä¾†å­˜æ”¾è³‡æ–™ç‹€æ…‹</li>
<li><strong>reducer</strong>ï¼šç”¨ä¾†æ”¾æ”¹è®Š state ç‹€æ…‹çš„æ–¹æ³•</li>
<li><strong>action</strong>ï¼šreducer è¦ä¿®æ”¹ state çš„è©±ï¼Œéœ€è¦å‚³å…¥ action ï¼Œå»åˆ¤æ–·è¦å•Ÿå‹•å“ªå€‹ reducer</li>
<li><strong>Provider</strong>ï¼šåœ¨æ‰€æœ‰çµ„ä»¶çš„æœ€å¤–é¢ï¼ˆé€šå¸¸æ˜¯ Index.jsï¼‰åŒ…ä¸€å±¤ Providerï¼Œå‚³å…¥ storeï¼Œæ‰€æœ‰è¢«åŒ…è¦†çš„çµ„ä»¶éƒ½å¯ä»¥ä½¿ç”¨åˆ° store çš„ç‹€æ…‹ã€‚</li>
<li><strong>store</strong>ï¼šå­˜æ”¾ stateã€reducerã€action çš„æª”æ¡ˆ<br><br/><br/></li>
</ol>
<h1 id="Redux-æµç¨‹"><a href="#Redux-æµç¨‹" class="headerlink" title="Redux æµç¨‹"></a>Redux æµç¨‹</h1><ol>
<li>å‰µå»º <code>Store</code></li>
<li>åœ¨æœ€å¤–å±¤åŠ å…¥ <code>Provider</code>ï¼Œä¸¦å‚³å…¥ storeï¼Œä½¿æ•´å€‹çµ„ä»¶éƒ½èƒ½ä½¿ç”¨ store è³‡æ–™</li>
<li>å‰µå»º <code>Slice</code>ï¼Œè¨­å®š stateã€reducerã€action</li>
<li>ç•«é¢æ¸²æŸ“ï¼Œå–å¾— stateã€dispatch æ–¹æ³•æ”¹è®Šç‹€æ…‹<br><br/><br/></li>
</ol>
<h1 id="ç¯„ä¾‹æƒ…å¢ƒï¼š"><a href="#ç¯„ä¾‹æƒ…å¢ƒï¼š" class="headerlink" title="ç¯„ä¾‹æƒ…å¢ƒï¼š"></a>ç¯„ä¾‹æƒ…å¢ƒï¼š</h1><p>todoList åˆ—è¡¨ï¼Œé»æ“ŠæŒ‰éˆ•å¾Œæ–°å¢ä¸‹ä¸€æ¢<br><br/><br/></p>
<h1 id="å‰µå»º-store"><a href="#å‰µå»º-store" class="headerlink" title="å‰µå»º store"></a>å‰µå»º store</h1><p>store/index.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> todoReducer <span class="keyword">from</span> <span class="string">&quot;./slice/todo&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> configureStore(&#123;</span><br><span class="line">  reducer: &#123;</span><br><span class="line">    todo: todoReducer,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>configureStore</strong>ï¼šå‰µå»º store çš„åƒæ•¸</p>
<p>åŸç”Ÿç‚º creactStoreï¼Œä½¿ç”¨ creactStore æ™‚æœƒæœ‰è¢«æ£„ç”¨çš„è­¦å‘Š<br><br/></p>
<p>å¦‚æœ‰å¤šå€‹æª”æ¡ˆï¼Œä¸€æ¨£ import é€²ä¾†</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> todoReducer <span class="keyword">from</span> <span class="string">&quot;./slice/todo&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> productReducer <span class="keyword">from</span> <span class="string">&quot;./slice/product&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> configureStore(&#123;</span><br><span class="line">  reducer: &#123;</span><br><span class="line">    todo: todoReducer,</span><br><span class="line">    product: productReducer</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="åœ¨æœ€å¤–å±¤åŠ å…¥-Provider"><a href="#åœ¨æœ€å¤–å±¤åŠ å…¥-Provider" class="headerlink" title="åœ¨æœ€å¤–å±¤åŠ å…¥ Provider"></a>åœ¨æœ€å¤–å±¤åŠ å…¥ Provider</h1><p>src/index.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store/index&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> root = createRoot(container);</span><br><span class="line"></span><br><span class="line">root.render(</span><br><span class="line">    &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">      &lt;App /&gt;</span><br><span class="line">    &lt;/Provider&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥åŠ åœ¨ App.js çš„æœ€å¤–å±¤ï¼Œåªè¦æ˜¯å¤–å±¤éƒ½å¯ä»¥<br><br/><br/></p>
<h1 id="å‰µå»º-Slice"><a href="#å‰µå»º-Slice" class="headerlink" title="å‰µå»º Slice"></a><strong>å‰µå»º Slice</strong></h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createSlice &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> todoSlice = createSlice(&#123;</span><br><span class="line">  name: <span class="string">&quot;todo&quot;</span>,</span><br><span class="line">  initialState: &#123;</span><br><span class="line">    todolist: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;æ—©ä¸Šå¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;ä¸­åˆå¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;æ™šä¸Šå¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&quot;ç¡å‰å¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  reducers: &#123;</span><br><span class="line">    addTodo: <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">      state.todolist.push(action.payload);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; addTodo &#125; = todoSlice.actions; <span class="comment">// å–ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> selectTodo = <span class="function">(<span class="params">state</span>) =&gt;</span> state.todo; <span class="comment">// å–ç”¨è³‡æ–™</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> todoSlice.reducer;</span><br></pre></td></tr></table></figure>
<p><strong>createSlice</strong>ï¼šå‰µå»ºsliceï¼ŒæŠŠ Redux åŸç”Ÿçš„ stateã€reducerã€action éƒ½åˆåœ¨ä¸€åŒ…ï¼Œç¨±ä¹‹ç‚º slice</p>
<p><strong>name</strong>ï¼šå–ä¸€å€‹ç›¸é—œçš„åç¨±</p>
<p><strong>initialState</strong>ï¼šæ‰€æœ‰ç‹€æ…‹çš„åˆå§‹å€¼</p>
<p><strong>reducers</strong>ï¼šå­˜æ”¾å‡½å¼ï¼Œå‚³å…¥å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹ç‚ºéœ€è¦ä¿®æ”¹çš„ stateï¼Œç¬¬äºŒå€‹ç‚º action è®“ä½ å‚³å…¥çš„åƒæ•¸<br><br/><br/></p>
<h1 id="ç•«é¢æ¸²æŸ“"><a href="#ç•«é¢æ¸²æŸ“" class="headerlink" title="ç•«é¢æ¸²æŸ“"></a>ç•«é¢æ¸²æŸ“</h1><p>component/TodoList.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useSelector &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; selectTodo &#125; <span class="keyword">from</span> <span class="string">&quot;../store/slice/todo&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> TodoList = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> states = useSelector(selectTodo);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;states.todolist.map(<span class="function">(<span class="params">i</span>) =&gt;</span> (</span><br><span class="line">        &lt;li key=&#123;i.id&#125;&gt;&#123;i.name&#125;&lt;/li&gt;</span><br><span class="line">      ))&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoList;</span><br></pre></td></tr></table></figure>
<p><strong>useSelector</strong>ï¼šè¦æ‹¿å– stateï¼Œå°±è¦ä½¿ç”¨ Redux çš„Â useSelectorÂ apiï¼Œå‚³å…¥ä½ åœ¨ slice å»ºç«‹çš„ Selector<br><br/><br>å¼•ç”¨çµ„ä»¶åˆ° App.jsï¼Œdispatch å–å¾— store æ–¹æ³•</p>
<p>App.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useDispatch, useSelector &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">&quot;./components/TodoList&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; addTodo &#125; <span class="keyword">from</span> <span class="string">&quot;./store/slice/todo&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dispatch = useDispatch();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleAddTodo = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    dispatch(</span><br><span class="line">      addTodo(&#123; <span class="attr">id</span>: <span class="keyword">new</span> <span class="built_in">Date</span>().getTime(), <span class="attr">name</span>: <span class="string">&quot;å¸¶æ³¢æ¯”å»å…¬åœ’&quot;</span>&#125;)</span><br><span class="line">    )</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;TodoList /&gt;</span><br><span class="line">      &lt;button onClick=&#123;handleAddTodo&#125;&gt;add todo&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="éåŒæ­¥æ“ä½œ"><a href="#éåŒæ­¥æ“ä½œ" class="headerlink" title="éåŒæ­¥æ“ä½œ"></a>éåŒæ­¥æ“ä½œ</h1><p>åšå‰ç«¯ä¸€å®šæœƒç¢°åˆ° API çš„ä¸²æ¥ï¼Œæˆ‘å€‘éœ€è¦ createAsyncThunk æ–¹æ³•</p>
<p>æˆ‘åœ¨ public æ–°å¢ä¸€å€‹è¦è¢«å‘¼å«çš„ json</p>
<p>public/todolist.json</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;data&quot;</span>: [</span><br><span class="line">    &#123; <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>, <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;æ—©ä¸Šå¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">&quot;id&quot;</span>: <span class="number">2</span>, <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;ä¸­åˆå¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">&quot;id&quot;</span>: <span class="number">3</span>, <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;æ™šä¸Šå¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">&quot;id&quot;</span>: <span class="number">4</span>, <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;ç¡å‰å¸¶æ³¢æ¯”æ•£æ­¥&quot;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>
ä¸¦ä½¿ç”¨ axios ä¸²æ¥ API

<p>api/index.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getData = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">&#x27;/index.json&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>
åœ¨ slice çš„åœ°æ–¹å¼•ç”¨ï¼Œä¸¦ä½¿ç”¨ createAsyncThunk æ“ä½œéåŒæ­¥

<p>store/slice/todo.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createAsyncThunk, createSlice &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getData &#125; <span class="keyword">from</span> <span class="string">&quot;../../api&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchData = createAsyncThunk(<span class="string">&#x27;todo/fetchTodo&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> getData();</span><br><span class="line">  <span class="keyword">return</span> response.data.data</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> todoSlice = createSlice(&#123;</span><br><span class="line">  name: <span class="string">&quot;todo&quot;</span>,</span><br><span class="line"></span><br><span class="line">  initialState: &#123;</span><br><span class="line">    loading: <span class="literal">false</span>,</span><br><span class="line">    entities: []</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  reducers: &#123; &#125;,</span><br><span class="line"></span><br><span class="line">  extraReducers: &#123;</span><br><span class="line">    [fetchData.pending]: <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">      state.loading = <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    [fetchData.fulfilled]: <span class="function">(<span class="params">state, &#123; payload &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      state.loading = <span class="literal">false</span></span><br><span class="line">      state.entities = payload</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    [fetchData.rejected]: <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">      state.loading = <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> selectTodo = <span class="function">(<span class="params">state</span>) =&gt;</span> state.todo;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> todoSlice.reducer;</span><br></pre></td></tr></table></figure>
<p><strong>createAsyncThunk</strong>ï¼šåœ¨ Redux Toolkit è¦å‘¼å«éåŒæ­¥ï¼Œéœ€è¦ä½¿ç”¨ createAsyncThunk æ–¹æ³•</p>
<p>createAsyncThunk æ¥å—å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹ç‚º action type å­—ä¸²ï¼Œç¬¬äºŒå€‹ç‚ºè¿”å›çš„ Promiseï¼Œä¸¦ç”Ÿæˆä¸€å€‹<code>pending</code>ã€ <code>fulfilled</code>ã€<code>rejected</code> ï¼Œåˆ†æ´¾ action type çš„ thunk</p>
<p><strong>extraReducers</strong>ï¼šå› ç‚ºéåŒæ­¥çš„å‡½å¼ä¸åœ¨ createSlice è£¡é¢ï¼Œå¦‚æœè¦åœ¨ createSlice ä¸­ç›£è½é€™äº› action typeï¼Œéœ€è¦åœ¨ extraReducers ä½¿ç”¨<br><br/><br>dispatch å‘¼å«æ–¹æ³•ï¼Œä¸¦å–å¾— api å›å‚³çš„è³‡æ–™</p>
<p>App.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useDispatch, useSelector &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; fetchData, selectTodo &#125; <span class="keyword">from</span> <span class="string">&quot;./store/slice/todo&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dispatch = useDispatch();</span><br><span class="line">  <span class="keyword">const</span> &#123; entities, loading &#125; = useSelector(selectTodo);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    dispatch(fetchData());</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123;entities.map(<span class="function"><span class="params">item</span> =&gt;</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.text&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>))&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="âš ï¸eslint-å‡ºç¾è­¦å‘Š"><a href="#âš ï¸eslint-å‡ºç¾è­¦å‘Š" class="headerlink" title="âš ï¸eslint å‡ºç¾è­¦å‘Š"></a>âš ï¸eslint å‡ºç¾è­¦å‘Š</h1><p>ä½¿ç”¨ useEffect æ™‚é‡åˆ°è­¦å‘ŠéŒ¯èª¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">React Hook useEffect has a missing dependency: &#39;dispatch&#39;.</span><br><span class="line">Either include it or remove the dependency array</span><br></pre></td></tr></table></figure>
<br/>
å¦‚æœæƒ³é™¤æ‰è­¦å‘Šå¯ä»¥æŠŠ dispatch æ”¾åˆ°ç¬¬äºŒå€‹åƒæ•¸çš„é™£åˆ—è£¡

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">   dispatch(fetchData());</span><br><span class="line">&#125;, [dispatch])</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="åƒè€ƒè³‡æ–™-React-React-Redux-Redux-Toolkit-æ–°æ‰‹æ•™å­¸ã€Using-Redux-Toolkitâ€™s-createAsyncThunk"><a href="#åƒè€ƒè³‡æ–™-React-React-Redux-Redux-Toolkit-æ–°æ‰‹æ•™å­¸ã€Using-Redux-Toolkitâ€™s-createAsyncThunk" class="headerlink" title="åƒè€ƒè³‡æ–™ React + React-Redux + Redux-Toolkit æ–°æ‰‹æ•™å­¸ã€Using Redux Toolkitâ€™s createAsyncThunk"></a>åƒè€ƒè³‡æ–™ <a href="https://penueling.com/%E7%B7%9A%E4%B8%8A%E5%AD%B8%E7%BF%92/react-react-redux-redix-toolkit-%E6%96%B0%E6%89%8B%E6%95%99%E5%AD%B8/">React + React-Redux + Redux-Toolkit æ–°æ‰‹æ•™å­¸</a>ã€<a href="https://blog.logrocket.com/using-redux-toolkits-createasyncthunk/">Using Redux Toolkitâ€™s createAsyncThunk</a></h3>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>Redux æ•™å­¸</tag>
        <tag>Redux Toolkit</tag>
        <tag>Redux Toolkit æ•™å­¸</tag>
        <tag>configureStore</tag>
        <tag>createSlice</tag>
        <tag>useSelector</tag>
        <tag>useDispatch</tag>
        <tag>Redux Toolkit async</tag>
        <tag>createAsyncThunk</tag>
        <tag>extraReducers</tag>
        <tag>react-redux</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactåˆ—è¡¨æ¸²æŸ“-å°‡é™£åˆ—ã€ç‰©ä»¶æ¸²æŸ“æˆå…ƒç´ </title>
    <url>/2022/07/01/react-render-list/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"><br>åœ¨ Vue æ¡†æ¶æ¸²æŸ“åˆ—è¡¨æ™‚æœƒæœ‰è‡ªå·±çš„èªæ³• v-forï¼Œä¸é React æ²’æœ‰è‡ªå®šç¾©çš„èªæ³•ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ JS çš„èªæ³•</p>
<a id="more"></a>

<h1 id="é™£åˆ—æ¸²æŸ“æˆå…ƒç´ "><a href="#é™£åˆ—æ¸²æŸ“æˆå…ƒç´ " class="headerlink" title="é™£åˆ—æ¸²æŸ“æˆå…ƒç´ "></a>é™£åˆ—æ¸²æŸ“æˆå…ƒç´ </h1><p>ä½¿ç”¨ JS çš„ map æŠŠæ¯å€‹ item æ¸²æŸ“å‡ºä¾†ï¼Œçµ„ä»¶ Item éœ€è¦è¢«ä»£å…¥ key å±¬æ€§ï¼Œ</p>
<p><strong>key å¿…é ˆæ˜¯å”¯ä¸€å€¼</strong>ï¼Œå¦‚é™£åˆ—æ”¹è®Šï¼Œæ‰ä¸æœƒå†è¢«é‡æ–°æ¸²æŸ“ï¼Œå½±éŸ¿æ•ˆèƒ½</p>
<p>key å¦‚æœç‚º index ä¹Ÿæœƒè¢«é‡æ–°æ¸²æŸ“ï¼Œåªæ˜¯ä¸æœƒè·³å‡ºè­¦å‘Šï¼Œé™¤éæ²’æœ‰å”¯ä¸€å€¼æ‰ç”¨ indexï¼Œæˆ–æ˜¯è«‹å¾Œç«¯åŠ ä¸Šå”¯ä¸€å€¼</p>
<p>List.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Item <span class="keyword">from</span> <span class="string">&quot;./Item&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> steps = [</span><br><span class="line">      &#123; <span class="attr">text</span>: <span class="string">&#x27;hello&#x27;</span>&#125;,</span><br><span class="line">      &#123; <span class="attr">text</span>: <span class="string">&#x27;world&#x27;</span>&#125;,</span><br><span class="line">      &#123; <span class="attr">text</span>: <span class="string">&#x27;hello world&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &#123;steps.map(<span class="function">(<span class="params">item, idx</span>) =&gt;</span></span><br><span class="line">          (<span class="xml"><span class="tag">&lt;<span class="name">Item</span> <span class="attr">key</span>=<span class="string">&#123;item.text&#125;</span>&gt;</span>&#123; item.text &#125;(&#123; idx &#125;)<span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span>)</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> List;</span><br></pre></td></tr></table></figure>
<p>Item.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;li&gt;&#123;<span class="built_in">this</span>.props.children&#125;&lt;/li&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Item;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="ç‰©ä»¶æ¸²æŸ“æˆå…ƒç´ "><a href="#ç‰©ä»¶æ¸²æŸ“æˆå…ƒç´ " class="headerlink" title="ç‰©ä»¶æ¸²æŸ“æˆå…ƒç´ "></a>ç‰©ä»¶æ¸²æŸ“æˆå…ƒç´ </h1><p>ç‰©ä»¶ä½¿ç”¨ <code>Object.keys</code> å…ˆæŠŠç‰©ä»¶å±¬æ€§è®Šæˆé™£åˆ—ï¼Œå†ä½¿ç”¨ map æ¸²æŸ“</p>
<p><strong>ç‰©ä»¶æ¸²æŸ“å‡ºä¾†çš„çµæœé †åºä¸ä¸€å®šç›¸åŒï¼Œå¦‚æœè¦ç…§è³‡æ–™æ’åºé ˆå°‡è³‡æ–™æ”¹ç‚ºé™£åˆ—</strong></p>
<p>List.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Item <span class="keyword">from</span> <span class="string">&quot;./Item&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> dog = &#123;</span><br><span class="line">      name: <span class="string">&#x27;bobee&#x27;</span>,</span><br><span class="line">      age: <span class="number">12</span>,</span><br><span class="line">      height: <span class="number">64</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &#123; <span class="built_in">Object</span>.keys(dog).map(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> value = dog[key];</span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">              &lt;Item key=&#123;value&#125;&gt;&#123;key&#125;: &#123;value&#125;&lt;/Item&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;) &#125;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> List;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>Reactåˆ—è¡¨æ¸²æŸ“</tag>
        <tag>react map</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€DAY 3ã€‘React ç’°å¢ƒå®‰è£-å®Œæˆå‰ç½®ä½œæ¥­</title>
    <url>/2022/10/18/react-install/</url>
    <content><![CDATA[<p><img src="https://imgur.com/BhMRQL0.jpg" alt="cover"></p>
<a id="more"></a>

<p><strong>ï¼»æƒ…å¢ƒåŠ‡å ´ï¼½</strong></p>
<p>è§£å¸«å‚…ï¼šå˜¿ï¼è€é—†ï¼æˆ‘æ‰¾åˆ°äº†ä¸€é–“ä¸éŒ¯çš„åº—é¢ï¼ŒCRA å¸«å‚…æœƒå¹«æˆ‘å€‘å®Œæˆå®ƒï¼</p>
<p>è¦é–‹ä¸€é–“ React ç†±ç‚’åº—ï¼Œæƒ³ç•¶ç„¶è¦å…ˆæœ‰ä¸€é–“ç’°å¢ƒåº—é¢ï¼Œå³ä½¿å°ç•¶å®¶æœ‰å†é«˜çš„å»šè—ï¼Œæ²’æœ‰åº—é¢ä¹Ÿæ˜¯ç„¡ç”¨æ­¦ä¹‹åœ°ï¼Œæˆ‘å€‘è«‹ CRA å¸«å‚…å¹«æˆ‘å€‘å»ºå¥½ç’°å¢ƒï¼Œä¸€èµ·æœŸå¾…æˆ‘å€‘çš„æ–°åº—é¢å§ï¼!</p>
<hr>
<p>å› ç‚ºè¦å»ºç½®ä¸€å€‹ JavaScript çš„é–‹ç™¼ç’°å¢ƒï¼Œä¸€èˆ¬éƒ½æœƒç”¨ Node.js ä¾†ä½œç‚ºæ¸¬è©¦æˆ–é–‹ç™¼ç”¨çš„æœ¬åœ°ç«¯ä¼ºæœå™¨ï¼Œæ‰€ä»¥åœ¨å®‰è£ React ä¹‹å‰ï¼Œè¦å…ˆç¢ºèªï¼š</p>
<ul>
<li>æ˜¯å¦å·²å®‰è£ Node</li>
<li>Node ç‰ˆæœ¬éœ€ &gt;= 14.0.0</li>
<li>npm éœ€ &gt;= 5.6</li>
</ul>
<p>å®‰è£ Node å°±ç­‰æ–¼å·²å®‰è£äº† npm å·¥å…·ï¼Œæ‰€ä»¥åªéœ€è¦æª¢æŸ¥ npm ç‰ˆæœ¬å³å¯<br><br/><br><br/><br><br/></p>
<h1 id="å®‰è£-Node-js"><a href="#å®‰è£-Node-js" class="headerlink" title="å®‰è£ Node.js"></a>å®‰è£ Node.js</h1><p>å…ˆåˆ° <a href="https://nodejs.org/en/">Node å®˜ç¶²</a>ï¼Œæœƒçœ‹åˆ°æœ‰å…©å€‹ç‰ˆæœ¬</p>
<ul>
<li>LTS é•·æœŸæ”¯æ´ç‰ˆæœ¬ï¼šå®˜æ–¹é•·æœŸç¶­è­·ï¼Œè¼ƒç‚ºç©©å®šï¼Œä¾›ä¸€èˆ¬é–‹ç™¼å°ˆæ¡ˆä½¿ç”¨</li>
<li>Current æœ€æ–°ç‰ˆæœ¬ï¼šå…·æœ‰ç¾åœ¨æœ€æ–°åŠŸèƒ½ï¼Œä½†å¯èƒ½æœƒæœ‰è®Šå‹•ï¼Œè¼ƒä¸ç©©å®šï¼Œè¦å°æ–°åŠŸèƒ½åšç ”ç©¶æ¸¬è©¦æ‰æœƒä½¿ç”¨é€™å€‹ç‰ˆæœ¬</li>
</ul>
<p>æˆ‘å€‘åªæ˜¯è¦åŸ·è¡Œå°ˆæ¡ˆï¼Œä¸‹è¼‰ LTS é•·æœŸæ”¯æ´ç‰ˆæœ¬<br/><br><br/><br><img src="https://imgur.com/c5Kj0ru.jpg" alt="nodejs"><br><br/><br><br/></p>
<h2 id="ç¢ºèªç‰ˆæœ¬"><a href="#ç¢ºèªç‰ˆæœ¬" class="headerlink" title="ç¢ºèªç‰ˆæœ¬"></a>ç¢ºèªç‰ˆæœ¬</h2><p>æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸï¼Œæ‰“é–‹å‘½ä»¤æç¤ºå­—å…ƒ(åœ¨ windows æœå°‹ <code>cmd</code> æˆ–åœ¨éµç›¤æŒ‰ é–‹å§‹ + <code>R</code>)</p>
<ul>
<li><p>ç¢ºèª Node ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¢ºèª npm ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p><img src="https://imgur.com/elSlDav.jpg" alt="check node"><br>ç¢ºèª Node å®‰è£å®Œå°±å¯ä»¥ä¾†å®‰è£ React å›‰ï¼<br/></p>
<br/>
<br/>
<br/>

</li>
</ul>
<h1 id="å®‰è£-React"><a href="#å®‰è£-React" class="headerlink" title="å®‰è£ React"></a>å®‰è£ React</h1><p><a href="https://github.com/facebook/create-react-app">Create React App</a> ç°¡ç¨±ç‚º CRAï¼Œæ˜¯ä¸€å€‹é©åˆå­¸ç¿’ React çš„ç’°å¢ƒï¼Œ<br>ä¹Ÿæ˜¯ä½¿ç”¨ React å»ºç«‹ä¸€å€‹ <strong>å…¨æ–°çš„Â single-pageÂ æ‡‰ç”¨ç¨‹å¼</strong> çš„æœ€ä½³æ–¹æ³•</p>
<p>ä½ å¯ä»¥åœ¨ä½ è¦çš„è³‡æ–™å¤¾ä¸‹æŒ‡ä»¤ <code>cmd</code> é–‹å•Ÿå‘½ä»¤æç¤ºå­—å…ƒï¼Œ<br>æ¥è‘—å¾ä¸‹é¢é¸æ“‡ä¸€ç¨®æ–¹å¼å®‰è£ Create React Appï¼Œå®˜æ–¹ä½¿ç”¨ NPX</p>
<p>my-app ç‚ºå°ˆæ¡ˆåç¨±ï¼Œä¾å°ˆæ¡ˆè‡ªè¡Œå‘½å<br/></p>
<ul>
<li>NPX<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npx create-react-app my-app</span><br></pre></td></tr></table></figure></li>
<li>NPM<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm init react-app my-app</span><br></pre></td></tr></table></figure></li>
<li>Yarn<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn create react-app my-app</span><br></pre></td></tr></table></figure>
<br/>
<br/>

</li>
</ul>
<blockquote>
<p>â­• npm èˆ‡ npx çš„å·®ç•°<br>npm ç‚ºæ°¸ä¹…å®‰è£ï¼Œnpx å®‰è£å¾Œå³ç§»é™¤<br>Create React App åªæœ‰æœ€ä¸€é–‹å§‹å»ºç«‹å°ˆæ¡ˆæœƒç”¨åˆ°ï¼Œä¹‹å¾Œå°±ä¸æœƒç”¨äº†ï¼Œå°±å¾ˆé©åˆç”¨ npx ä¾†å®‰è£</p>
</blockquote>
<br/>
<br/>

<p>å®‰è£æˆåŠŸå¾Œï¼Œæœƒå‡ºç¾å»ºè­°çš„æŒ‡ä»¤</p>
<p><img src="https://imgur.com/KMqwA2o.jpg" alt="CRA"></p>
<br/>
<br/>

<p><code>cd my-app</code>  é€²å…¥ my-app</p>
<p><code>npm start</code>  é–‹å•Ÿå°ˆæ¡ˆ<br/><br><br/><br><br/><br><br/></p>
<p>å¦‚æœè¨˜ä¸èµ·ä¾†æŒ‡ä»¤ä¹Ÿæ²’é—œä¿‚ï¼Œä½¿ç”¨ç·¨è¼¯å™¨é–‹å•Ÿå°ˆæ¡ˆ(é€™é‚Šä½¿ç”¨çš„æ˜¯ Visual Studio Code)</p>
<p>é»æ“Š package.jsonï¼Œ<code>scripts</code> çš„åœ°æ–¹ä¹Ÿæœƒé¡¯ç¤ºæŒ‡ä»¤</p>
<p><img src="https://imgur.com/WpfOXlM.jpg" alt="script"></p>
<p><code>npm start</code> åŸ·è¡Œå°ˆæ¡ˆ</p>
<p><code>npm run build</code> æ‰“åŒ…å°ˆæ¡ˆ</p>
<p><code>npm test</code> åŸ·è¡Œæ¸¬è©¦</p>
<p><code>npm run eject</code> å° Create React App é…ç½®é€²è¡Œé«˜åº¦ä¿®æ”¹<br/><br><br/><br><br/><br><br/></p>
<p>å®‰è£å®Œå°±å¤§åŠŸå‘Šæˆå›‰ï¼!</p>
<p><img src="https://imgur.com/XCbyYyx.jpg" alt="react"><br><br/><br><br/><br><br/></p>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>æˆ‘å€‘ä»Šå¤©ç”¨ Create React App æˆåŠŸå®‰è£å¥½ React äº†ï¼Œæ¥è‘—å¯ä»¥é€²è¡Œå°ˆæ¡ˆä¸Šçš„é–‹ç™¼ï¼Œæ˜å¤©å†ä¾†ä»‹ç´¹å°ˆæ¡ˆå…§çš„æª”æ¡ˆåˆ†åˆ¥æ˜¯åšä»€éº¼åŠŸç”¨ï¼Œä»¥åŠå°ˆæ¡ˆçµæ§‹è©²æ€éº¼åˆ†é…å§ï¼!</p>
<hr>
<p>æœ¬æ–‡ç‚º IT éµäººè³½ç³»åˆ—æ–‡ <a href="https://ithelp.ithome.com.tw/users/20115919/ironman/5602">ä½  React äº†å—? 30 å¤©è§£é– React æŠ€èƒ½</a></p>
<hr>
]]></content>
      <categories>
        <category>ã€IT éµäººè³½ã€‘ä½ Reactäº†å—? 30å¤©è§£é–ReactæŠ€èƒ½</category>
      </categories>
  </entry>
  <entry>
    <title>React-router-domè·¯ç”±è¨­å®šæ•™å­¸ï¼Œå¯¦ç¾é é¢è·³è½‰ï¼</title>
    <url>/2022/07/20/react-router-dom/</url>
    <content><![CDATA[<p><img src="https://imgur.com/PWYji3a.jpg" alt="React"></p>
<p>æ­¤ç¯‡ç‰ˆæœ¬ç‚º react-router-dom 6.3.0<br>react-router-dom å¯ä»¥è¨­å®š react çš„ç¶²ç«™è·¯ç”±ï¼Œæ˜¯ä»¥ react-router ç‚ºåŸºåº•ï¼Œæ‰€ä»¥æ–°å¢å¾Œæœƒè‡ªå‹•å¼•å…¥ react-router</p>
<a id="more"></a>

<h1 id="å®‰è£-react-router-dom"><a href="#å®‰è£-react-router-dom" class="headerlink" title="å®‰è£ react-router-dom"></a>å®‰è£ react-router-dom</h1><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">npm i react-router-dom</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="è·¯ç”±è¨­å®š"><a href="#è·¯ç”±è¨­å®š" class="headerlink" title="è·¯ç”±è¨­å®š"></a>è·¯ç”±è¨­å®š</h1><p>åœ¨ index.js è¨­å®šæ•´å€‹ç¶²ç«™çš„è·¯ç”±</p>
<h2 id="BrowserRouter"><a href="#BrowserRouter" class="headerlink" title="BrowserRouter"></a>BrowserRouter</h2><p>BrowserRouter åŒ…åœ¨æ‰€æœ‰çµ„ä»¶å¤–å±¤ï¼Œç¢ºä¿æ•´å€‹ç¶²ç«™å¯ä»¥ä½¿ç”¨ router</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = ReactDOM.createRoot(</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">root.render(</span><br><span class="line">  &lt;BrowserRouter&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/BrowserRouter&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>BrowserRouter è·Ÿ HashRouter çš„å·®åˆ¥<br>HashRouterï¼šç¶²å€æœƒå¸¶ <code>#</code> å­—è™Ÿï¼Œç´”å‰ç«¯ä½¿ç”¨ï¼Œæ› url æ™‚ä¸æœƒç™¼é€request<br>BrowserRouterï¼š ç¶²å€æ²’æœ‰ <code>#</code> å­—è™Ÿè¼ƒç¾è§€ï¼Œéœ€æœ‰å¾Œç«¯è¨­å®šï¼Œæ› url æ™‚æœƒç™¼é€request<br><br/></p>
<h2 id="Routersã€Router-çµ„ä»¶"><a href="#Routersã€Router-çµ„ä»¶" class="headerlink" title="Routersã€Router çµ„ä»¶"></a>Routersã€Router çµ„ä»¶</h2><p>åœ¨ä¸åŒçš„ url æ¸²æŸ“ä¸åŒçš„çµ„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter,</span><br><span class="line">  Routes,</span><br><span class="line">  Route,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Page1 <span class="keyword">from</span> <span class="string">&quot;./routes/Page1&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Page2 <span class="keyword">from</span> <span class="string">&quot;./routes/Page2&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = ReactDOM.createRoot(</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">root.render(</span><br><span class="line">  &lt;BrowserRouter&gt;</span><br><span class="line">    &lt;Routes&gt;</span><br><span class="line">      &lt;Route path=<span class="string">&quot;/&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>&#125; /&gt;</span><br><span class="line">      &lt;Route path=<span class="string">&quot;page1&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">Page1</span> /&gt;</span></span>&#125; /&gt;</span><br><span class="line">      &lt;Route path=<span class="string">&quot;page2&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">Page2</span> /&gt;</span></span>&#125; /&gt;</span><br><span class="line">    &lt;/Routes&gt;</span><br><span class="line">  &lt;/BrowserRouter&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><code>path</code>ï¼šè·¯å¾‘<br><code>element</code>ï¼šè¦æ¸²æŸ“çš„ç»„ä»¶<br><br/></p>
<h2 id="å…¨åŒ¹é…è·¯ç”±"><a href="#å…¨åŒ¹é…è·¯ç”±" class="headerlink" title="å…¨åŒ¹é…è·¯ç”±"></a><strong><strong>å…¨åŒ¹é…è·¯ç”±</strong></strong></h2><p>è¨­å®š Route <code>path=&quot;*&quot;</code> åœ¨æ‰€æœ‰è·¯ç”±çš„æœ€ä¸‹æ–¹ï¼Œç•¶ä¸Šé¢çš„è·¯å¾‘éƒ½æ²’æœ‰åŒ¹é…åˆ°æ™‚ï¼Œå°±æœƒé¡¯ç¤ºæ­¤çµ„ä»¶ï¼Œå¯ç”¨æ–¼ 404 æ‰¾ä¸åˆ°é é¢</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;Routes&gt;</span><br><span class="line">  &lt;Route path=<span class="string">&quot;/foo&quot;</span> element=&#123;Foo&#125;&gt;</span><br><span class="line">    &lt;Route path=<span class="string">&quot;bar&quot;</span> element=&#123;Bar&#125;&gt;&lt;/Route&gt;</span><br><span class="line">    &lt;Route path=<span class="string">&quot;*&quot;</span> element=&#123;NotFound&#125;&gt;&lt;/Route&gt;</span><br><span class="line">  &lt;/Route&gt;</span><br><span class="line">&lt;/Routes&gt;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="è·¯ç”±è·³è½‰"><a href="#è·¯ç”±è·³è½‰" class="headerlink" title="è·¯ç”±è·³è½‰"></a>è·¯ç”±è·³è½‰</h1><h2 id="Link-çµ„ä»¶"><a href="#Link-çµ„ä»¶" class="headerlink" title="Link çµ„ä»¶"></a>Link çµ„ä»¶</h2><p>æŒ‡å®šé€£çµè·¯å¾‘ï¼Œè·³è½‰é é¢ url</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line">&lt;Link to=<span class="string">&quot;index&quot;</span>&gt;index&lt;/Link&gt;;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="NavLink-çµ„ä»¶"><a href="#NavLink-çµ„ä»¶" class="headerlink" title="NavLink çµ„ä»¶"></a>NavLink çµ„ä»¶</h2><p>NavLink è·Ÿ Link ç”¨æ³•ç›¸åŒï¼Œå·®åˆ¥åªåœ¨æ–¼ NavLink å¯ä»¥åˆ¤æ–· to çš„ url æ˜¯å¦ç‚ºç•¶å‰è·¯å¾‘ï¼Œå¯ç”¨æ–¼è¨­å®š active çš„æ¨£å¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NavLink &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">   &lt;NavLink style=&#123;<span class="function">(<span class="params">&#123; isActive &#125;</span>) =&gt;</span> (&#123; <span class="attr">color</span>: isActive? <span class="string">&quot;red&quot;</span>: <span class="string">&quot;&quot;</span> &#125;)&#125;&gt;style&lt;/NavLink&gt;</span><br><span class="line">   &lt;NavLink className=&#123;<span class="function">(<span class="params">&#123; isActive &#125;</span>) =&gt;</span> isActive ? <span class="string">&quot;red&quot;</span> : <span class="string">&quot;blue&quot;</span>&#125;&gt;className&lt;/NavLink&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="useNavigate"><a href="#useNavigate" class="headerlink" title="useNavigate"></a>useNavigate</h2><p>å¯ç›´æ¥å‚³å…¥è¦è·³è½‰çš„ urlï¼Œå¯å‚³å…¥ç›¸å°è·¯å¾‘ï¼Œ-1 ç‚ºå›ä¸Šä¸€å±¤</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useNavigate &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> navigate= useNavigate();</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="comment">// å‰è·¯å¾‘ /aï¼›    ç•¶å‰è·¯å¾‘ /a/a1</span></span><br><span class="line">    &lt;div onClick=&#123;<span class="function">() =&gt;</span> navigate(<span class="string">&#x27;/b&#x27;</span>)&#125;&gt;è·³è½‰åˆ°/b&lt;/div&gt;</span><br><span class="line">    &lt;div onClick=&#123;<span class="function">() =&gt;</span> navigate(<span class="string">&#x27;a11&#x27;</span>)&#125;&gt;è·³è½‰åˆ°/a/a1/a11&lt;/div&gt;</span><br><span class="line">    &lt;div onClick=&#123;<span class="function">() =&gt;</span> navigate(<span class="string">&#x27;../a2&#x27;</span>)&#125;&gt;è·³è½‰åˆ°/a/a2&lt;/div&gt;</span><br><span class="line">    &lt;div onClick=&#123;<span class="function">() =&gt;</span> navigate(-<span class="number">1</span>)&#125;&gt;è·³è½‰åˆ°/a&lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="åµŒå¥—è·¯ç”±-Nested-Routes"><a href="#åµŒå¥—è·¯ç”±-Nested-Routes" class="headerlink" title="åµŒå¥—è·¯ç”± Nested Routes"></a>åµŒå¥—è·¯ç”± <strong><strong>Nested Routes</strong></strong></h1><p>å¦‚è¦ç”¨ App ç•¶ä½œåŸºåº•çš„ layout æœ‰å…©å€‹æ­¥é©Ÿ</p>
<ol>
<li><p>è¨­å®šè·¯ç”±åœ¨ App çš„ Router åº•ä¸‹</p>
</li>
<li><p>åŠ å…¥ Outlayï¼ŒOutlay æœƒé¡¯ç¤ºéœ€è®Šæ›´åˆ‡æ›çš„çµ„ä»¶</p>
<br/>

</li>
</ol>
<p><strong>è¨­å®šè·¯ç”±</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;BrowserRouter&gt;</span><br><span class="line">  &lt;Routes&gt;</span><br><span class="line">    &lt;Route path=<span class="string">&quot;/&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>&#125;&gt;</span><br><span class="line">      &lt;Route path=<span class="string">&quot;page1&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">Page1</span> /&gt;</span></span>&#125; /&gt;</span><br><span class="line">      &lt;Route path=<span class="string">&quot;page2&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">Page2</span> /&gt;</span></span>&#125; /&gt;</span><br><span class="line">    &lt;/Route&gt;</span><br><span class="line">  &lt;/Routes&gt;</span><br><span class="line">&lt;/BrowserRouter&gt;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>ä¸¦åœ¨ App.js ( layout çµ„ä»¶) çš„åœ°æ–¹åŠ å…¥ Outlay</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Outlet, Link &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;nav&gt;</span><br><span class="line">        &lt;Link to=<span class="string">&quot;/page1&quot;</span>&gt;Page1&lt;/Link&gt; |&#123;<span class="string">&quot; &quot;</span>&#125;</span><br><span class="line">        &lt;Link to=<span class="string">&quot;/page2&quot;</span>&gt;Page2&lt;/Link&gt;</span><br><span class="line">      &lt;/nav&gt;</span><br><span class="line">      &lt;Outlet/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="é»˜èªè·¯ç”±-index-Routes"><a href="#é»˜èªè·¯ç”±-index-Routes" class="headerlink" title="é»˜èªè·¯ç”± index Routes"></a>é»˜èªè·¯ç”± index Routes</h2><p>å¦‚ç‚ºåµŒå¥—è·¯ç”±æ™‚ï¼Œå¯è¨­å®šé è¨­è¦é¡¯ç¤ºçš„çµ„ä»¶ï¼Œç•¶ url ç‚º â€˜/aboutâ€™ æ™‚ï¼ŒOutlet æœƒé¡¯ç¤º Default çµ„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;Routes&gt;</span><br><span class="line">  &lt;Route path=<span class="string">&quot;/about&quot;</span> element=&#123;About&#125;&gt;</span><br><span class="line">    &lt;Route index element=&#123;Default&#125;&gt;&lt;/Route&gt;</span><br><span class="line">    &lt;Route path=<span class="string">&quot;contact&quot;</span> element=&#123;Contact&#125;&gt;&lt;/Route&gt;</span><br><span class="line">  &lt;/Route&gt;</span><br><span class="line">&lt;/Routes&gt;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="Paramsåƒæ•¸"><a href="#Paramsåƒæ•¸" class="headerlink" title="Paramsåƒæ•¸"></a>Paramsåƒæ•¸</h1><h2 id="useParams"><a href="#useParams" class="headerlink" title="useParams()"></a>useParams()</h2><p>ç•¶ router æ˜¯å‹•æ…‹è·¯ç”±æ™‚ï¼ŒuseParams å¯ä»¥å–å¾— url çš„ params</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;BrowserRouter&gt;</span><br><span class="line">  &lt;Routes&gt;</span><br><span class="line">    &lt;Route path=<span class="string">&quot;/product/:id&quot;</span> element=&#123;<span class="xml"><span class="tag">&lt;<span class="name">Product</span>/&gt;</span></span>&#125; /&gt;</span><br><span class="line">  &lt;/Routes&gt;</span><br><span class="line">&lt;/BrowserRouter&gt;;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useParams &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> params= useParams();</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123;params.id&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="useSearchParams"><a href="#useSearchParams" class="headerlink" title="useSearchParams()"></a>useSearchParams()</h2><p>å¯æŸ¥æ‰¾æˆ–è¨­å®š Query String å•è™Ÿå¾Œé¢çš„ paramsï¼Œç”¨æ³•è·Ÿ <code>useState()</code> ä¸€æ¨£</p>
<p>å¦‚ç•¶å‰è·¯å¾‘ç‚º /product?id=12</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useSearchParams &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Product</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [searchParams, setSearchParams] = useSearchParams();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(searchParams.get(<span class="string">&quot;id&quot;</span>)); <span class="comment">// 12</span></span><br><span class="line">  <span class="built_in">console</span>.log(searchParams.getAll(<span class="string">&quot;id&quot;</span>)); <span class="comment">// [12]</span></span><br><span class="line"></span><br><span class="line">  setSearchParams(&#123;</span><br><span class="line">    name: <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">  &#125;); <span class="comment">// /product?name=foo</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>foo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br/><br/></p>
<h1 id="ç•¶å‰è·¯ç”±è³‡è¨Š"><a href="#ç•¶å‰è·¯ç”±è³‡è¨Š" class="headerlink" title="ç•¶å‰è·¯ç”±è³‡è¨Š"></a>ç•¶å‰è·¯ç”±è³‡è¨Š</h1><h2 id="useLocation"><a href="#useLocation" class="headerlink" title="useLocation"></a>useLocation</h2><p>ç²å–ç•¶å‰ url çš„å„ç¨®å±¬æ€§ï¼Œ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useLocation &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> location = useLocation();</span><br><span class="line"><span class="built_in">console</span>.log(location);</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥å¾—åˆ°ä»¥ä¸‹è³‡è¨Š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  pathname: <span class="string">&quot;/hello/world&quot;</span>,</span><br><span class="line">  search: <span class="string">&quot;?filter=123&quot;</span>,</span><br><span class="line">  hash: <span class="string">&quot;#menu&quot;</span>,</span><br><span class="line">  state: <span class="literal">null</span>,</span><br><span class="line">  key: <span class="string">&quot;12345&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>pathnameï¼šURL è·¯å¾‘</p>
<p>searchï¼šQuery String Params</p>
<p>hashï¼šç”¨æ–¼ç¢ºå®šé é¢æ»¾å‹•çš„å…·é«”ä½ç½®</p>
<p>stateï¼šå°æ–¼ window.history.state çš„åŒ…è£</p>
<p>keyï¼šæ¯å€‹ Location å°è±¡æ“æœ‰ä¸€å€‹å”¯ä¸€çš„ keyï¼Œå¯ä»¥å¯¦ç¾æ•¸æ“šç·©å­˜</p>
<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="8536485431"></ins></p>
<hr>
<h3 id="åƒè€ƒæ–‡ç»ï¼šreact-router-domä½¿ç”¨æŒ‡å—ï¼ˆæœ€æ–°V6-0-1ï¼‰ã€router-tutorial"><a href="#åƒè€ƒæ–‡ç»ï¼šreact-router-domä½¿ç”¨æŒ‡å—ï¼ˆæœ€æ–°V6-0-1ï¼‰ã€router-tutorial" class="headerlink" title="åƒè€ƒæ–‡ç»ï¼šreact-router-domä½¿ç”¨æŒ‡å—ï¼ˆæœ€æ–°V6.0.1ï¼‰ã€router-tutorial"></a>åƒè€ƒæ–‡ç»ï¼š<a href="https://zhuanlan.zhihu.com/p/431389907">react-router-domä½¿ç”¨æŒ‡å—ï¼ˆæœ€æ–°V6.0.1ï¼‰</a>ã€<a href="https://github.com/remix-run/react-router/blob/main/docs/getting-started/tutorial.md">router-tutorial</a></h3>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react-router-dom</tag>
        <tag>BrowserRouter</tag>
        <tag>HashRouter</tag>
        <tag>React Routers</tag>
        <tag>React Router</tag>
        <tag>React Link</tag>
        <tag>React NavLink</tag>
        <tag>React useNavigate</tag>
        <tag>React Nested Routes</tag>
        <tag>React useParams</tag>
        <tag>React useSearchParams</tag>
        <tag>React useLocation</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ dart-sass å–ä»£ node-sass</title>
    <url>/2022/03/18/sass-dart-sass/</url>
    <content><![CDATA[<p><img src="https://imgur.com/Gh27Ew9.jpg" alt="sass"></p>
<p>ä»Šå¤©åœ¨æ›´æ–°ç¶²ç«™æ™‚ï¼Œgithub actions åœ¨ npm install æ™‚ç™¼ç”Ÿäº†éŒ¯èª¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm ERR! code 1</span><br><span class="line">npm ERR! path &#x2F;home&#x2F;runner&#x2F;work&#x2F;portfolio&#x2F;portfolio&#x2F;node_modules&#x2F;node-sass</span><br><span class="line">&#x2F;&#x2F; ...ä¸­é–“å¤ªå¤šçœç•¥</span><br><span class="line">Error: Process completed with exit code 1.</span><br></pre></td></tr></table></figure>
<p>æ ¹æ“šè³‡è¨Šæ¨æ¸¬æ˜¯ node-sass çš„å•é¡Œï¼Œçˆ¬äº†ä¸€ä¸‹æ–‡ç™¼ç¾ï¼Œ</p>
<a id="more"></a>
<p><a href="https://sass-lang.com/blog/libsass-is-deprecated">Sass å®˜æ–¹å·²åœ¨ 2020-10-26 æ­£å¼å®£å¸ƒæ£„ç”¨ LibSassï¼Œä¸¦æ¨è–¦ä½¿ç”¨ Dart Sass</a></p>
<p>LibSass é¡¯ç„¶æ²’æœ‰è¶³å¤ çš„å·¥ç¨‹å¸¶å¯¬ä¾†è·Ÿä¸Š Sass èªè¨€çš„æœ€æ–°ç™¼å±•ï¼Œä¸” node-sass åº•å±¤ä¾è³´ LibSassï¼Œå¸¸å¸¸å°è‡´å¾ˆå¤šä½¿ç”¨è€…å®‰è£çš„ç‰¹åˆ¥çš„å›°é›£ï¼Œsass å®˜æ–¹å·²ç¶“å°‡ dart-sass ä½œç‚ºæœªä¾†ä¸»è¦çš„çš„é–‹ç™¼æ–¹å‘ï¼Œæ•ˆèƒ½æ›´å¥½ã€‚</p>
<p>å¦‚æœä½ æ˜¯ Node Sass çš„ç”¨æˆ¶ï¼Œé·ç§»åˆ° Dart Sass å¾ˆç°¡å–®ï¼šåªéœ€åœ¨ä½ çš„ package.json æ–‡ä»¶ä¸­å°‡ node-sass æ›¿æ›ç‚º sass. é€™å…©å€‹åŒ…éƒ½å…¬é–‹äº†ç›¸åŒçš„ JavaScript APIã€‚</p>
<br>

<h1 id="å®‰è£-Dart-Sass-æ­¥é©Ÿ"><a href="#å®‰è£-Dart-Sass-æ­¥é©Ÿ" class="headerlink" title="å®‰è£ Dart Sass æ­¥é©Ÿ"></a>å®‰è£ Dart Sass æ­¥é©Ÿ</h1><p>1.å¦‚æœå®‰è£äº† node-sass é¦–å…ˆéœ€è¦è§£é™¤å®‰è£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm remove node-sass</span><br></pre></td></tr></table></figure>
<p>2.å®‰è£… dart-sass</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install sass sass-loader -D</span><br></pre></td></tr></table></figure>
<p>3ã€å¦‚æœå°ˆæ¡ˆä¹‹å‰ç”¨åˆ°/deep/éœ€è¦æ›¿æ›ç‚º<code>::v-deep</code>ï¼Œå¦å‰‡æœƒå ±éŒ¯</p>
<h1 id="å®‰è£éŒ¯èª¤"><a href="#å®‰è£éŒ¯èª¤" class="headerlink" title="å®‰è£éŒ¯èª¤"></a>å®‰è£éŒ¯èª¤</h1><p>åœ¨å®‰è£çš„éç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°ä¸‹é¢éŒ¯èª¤ğŸ˜¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm ERR! code EBADPLATFORM</span><br><span class="line">npm ERR! notsup Unsupported platform for fsevents@2.1.3: wanted &#123;&quot;os&quot;:&quot;darwin&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span><br><span class="line">npm ERR! notsup Valid OS:    darwin</span><br><span class="line">npm ERR! notsup Valid Arch:  undefined</span><br><span class="line">npm ERR! notsup Actual OS:   win32</span><br><span class="line">npm ERR! notsup Actual Arch: x64</span><br></pre></td></tr></table></figure>
<p>ä¸è¦ç·Šå¼µ! æŠŠ <code>package-lock.json</code> ç§»é™¤æ‰ï¼Œå† npm install é‡æ–°ç”Ÿæˆï¼Œ<br>å†å®‰è£ä¸€æ¬¡ dart-sass å°±æˆåŠŸå•¦!!</p>
<hr>
<p>é‡æ–°è£äº† dart-sass å¾Œï¼Œgithub actions å°±è·‘æˆåŠŸå•¦ï¼çœŸæ˜¯å¯å–œå¯è³€ğŸ˜€ğŸŒŸğŸŒŸğŸŒŸ</p>
]]></content>
      <categories>
        <category>sass</category>
      </categories>
      <tags>
        <tag>sass</tag>
        <tag>node-sass</tag>
        <tag>dart-sass</tag>
        <tag>Process completed with exit code 1</tag>
      </tags>
  </entry>
  <entry>
    <title>è¨­å®š OG åˆ†äº«ç¶²å€é€£çµï¼Œè®“ä½ çš„ç¶²ç«™æ›´å¸å¼•äºº</title>
    <url>/2022/03/21/seo-og-image/</url>
    <content><![CDATA[<p><img src="https://imgur.com/SlR0x2P.jpg" alt="og"></p>
<p>ä½ æœ‰æ²’æœ‰é‡éï¼Œç•¶ä½ åˆ†äº«ç¶²ç«™é€£çµåˆ° Facebook æ™‚ï¼Œå‡ºç¾äº†è©­ç•°çš„ç¸®åœ–ï¼Œç”šè‡³é€£ç¸®åœ–ã€ä»‹ç´¹éƒ½æ²’æœ‰ï¼Œä¸å¯«å€‹è¨Šæ¯çš„è©±ï¼Œå®Œå…¨ä¸æœƒè®“äººæƒ³é»é€²å»ï¼Œæœ‰äººå¯èƒ½é‚„æœƒä»¥ç‚ºä½ è¢«ç›œäº†ğŸ˜…</p>
<a id="more"></a>

<p><img src="https://imgur.com/bBfZShO.png" alt="ç„¡è¨­å®šog"></p>
<p>é€™ä¸æ˜¯è¢«ç›œï¼æ˜¯ä½ æ‡‰è©²è¨­å®š OGï¼Œçµ¦ç”¨æˆ¶ç†è§£å’Œä¿¡ä»»çš„ç¶²ç«™é«”é©—ã€‚</p>
<br/>

<h1 id="OG-æ˜¯ä»€éº¼"><a href="#OG-æ˜¯ä»€éº¼" class="headerlink" title="OG æ˜¯ä»€éº¼"></a>OG æ˜¯ä»€éº¼</h1><p>OG æ˜¯ç”± Facebook æå‡ºçš„è¨­å®šï¼Œå…¨åç‚º Open Graph Protocolï¼Œå®˜æ–¹ä¸­æ–‡ç¿»è­¯ç‚ºã€Œ<a href="https://developers.facebook.com/docs/sharing/webmasters?locale=zh_TW">é–‹æ”¾ç¤¾äº¤é—œä¿‚åœ–</a>ã€ã€‚<br>OG å¯ä»¥è¼•é¬†çš„æ¨™è¨˜ç¶²é çš„çµæ§‹åŒ–è¨Šæ¯ã€åŒ…å«æ¨™é¡Œã€æè¿°ã€åœ–ç‰‡ç­‰ï¼Œä»¥å‘ˆç¾é¡¯ç¤ºåˆ†äº«é€£çµçš„é è¦½å…§å®¹ï¼Œç¾åœ¨ä¸»æµçš„ç¤¾ç¾¤ç¶²ç«™å¹³å°éƒ½æ”¯æ´ OGï¼Œä¾‹å¦‚ï¼šFacebookã€Lineã€Twitter ç­‰ã€‚<br>OG å¯ä»¥å‘ˆç¾ç¶²ç«™æ˜ç¢ºçš„æ¨¡æ¨£ï¼Œå¢åŠ ç”¨æˆ¶çš„ä¿¡ä»»èˆ‡å¥½çš„ç¶²ç«™é«”é©—ï¼Œç›¸å°çš„ä¹Ÿæœƒæœ‰æ¯”è¼ƒå¥½çš„é»é–±ç‡ã€‚</p>
<br/>

<h1 id="è¨­å®š-OG"><a href="#è¨­å®š-OG" class="headerlink" title="è¨­å®š OG"></a>è¨­å®š OG</h1><p>è¦è¨­å®š OG å…¶å¯¦å¾ˆç°¡å–®ï¼Œé¦–å…ˆäº†è§£æ¯å€‹ og å±¬æ€§çš„æ„ç¾©</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:url&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ä½ çš„ç¶²å€&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:locale&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç¶²ç«™èªç³»ï¼Œex:zh_TWï¼Œé è¨­ç‚º en_US&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;é¡å‹ï¼Œexï¼šwebsite&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:title&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç¶²ç«™çš„æ¨™é¡Œ&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç¶²ç«™å…§å®¹æè¿°&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç¸®åœ–åœ–ç‰‡é€£çµ&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image:type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;åœ–åƒçš„ MIME é¡å‹ï¼Œå¯ç‚º image/jpegã€image/gif æˆ– image/png&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image:width&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç¸®åœ–å¯¬åº¦&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image:height&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç¸®åœ–é«˜åº¦&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ç¸®åœ–çš„å¯¬ã€é«˜åº¦ä¾<a href="https://developers.facebook.com/docs/games/services/sharing">å®˜æ–¹</a>å»ºè­°çš„æ¯”ä¾‹ï¼Œå°é«˜è§£æåº¦è£ç½®ä½¿ç”¨è‡³å°‘ 1080 åƒç´ çš„å¯¬åº¦ä»¥ç²å¾—æœ€ä½³é¡¯ç¤ºï¼Œè‡³å°‘ä½¿ç”¨å¯¬åº¦ç‚º 600 åƒç´ çš„åœ–åƒä»¥é¡¯ç¤ºåœ–åƒé€£çµå»£å‘Šã€‚<br>ğŸ”¸ æ­£æ–¹å½¢ï¼šæ¯”ä¾‹ 1:1ï¼Œå¦‚ 600 x 600 åƒç´ <br>ğŸ”¸ é•·æ–¹å½¢ï¼šæ¯”ä¾‹ 1.91:1ï¼Œå¦‚ 600 x 314 åƒç´ </p>
<br/>

<p>æ¥è‘—è¨­å®šåˆ°è‡ªå·±çš„ç¶²ç«™</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:url&quot;</span> <span class="attr">content</span>=<span class="string">&quot;https://happy9990929.github.io/gtplay&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:locale&quot;</span> <span class="attr">content</span>=<span class="string">&quot;zh_TW&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;website&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:title&quot;</span> <span class="attr">content</span>=<span class="string">&quot;GTPLAYå‰ä»–é¤¨&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;è²©è³£å„å¼å¼¦æ¨‚å™¨ï¼Œå‰ä»–ã€é›»å‰ä»–ã€çƒå…‹è‰è‰ç­‰ï¼Œæ­¡è¿æ´½è©¢!&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image&quot;</span> <span class="attr">content</span>=<span class="string">&quot;https://happy9990929.github.io/gtplay/logo.png&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image:type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;image/png&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image:width&quot;</span> <span class="attr">content</span>=<span class="string">&quot;1080&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image:height&quot;</span> <span class="attr">content</span>=<span class="string">&quot;565&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br/>

<h1 id="æª¢æŸ¥-OG"><a href="#æª¢æŸ¥-OG" class="headerlink" title="æª¢æŸ¥ OG"></a>æª¢æŸ¥ OG</h1><p>å¯ä»¥é€é <a href="https://developers.facebook.com/tools/debug/">Facebookåˆ†äº«åµéŒ¯å·¥å…·</a> ä¾†æª¢æŸ¥ä½ çš„ OGï¼Œè¼¸å…¥ç¶²å€ï¼Œå°±å¯ä»¥é è¦½ä½ çš„æˆæœå›‰ï¼</p>
<br/>
è¨­å®šå®Œ og å¾Œï¼Œåˆ° Facebook å»ºç«‹è²¼æ–‡ï¼Œå°±å¯ä»¥çœ‹åˆ°æ¸…æ¥šçš„ç¶²ç«™è³‡è¨Šå•¦ï¼<br/>
æ˜¯ä¸æ˜¯çœ‹èµ·ä¾†æ¼‚äº®å¤šäº†å‘¢ğŸ¤©å¿«æŠŠä½ çš„ç¶²ç«™ä¹Ÿè¨­å®šä¸€ä¸‹å§ï¼
<br/>
<br/>

<p><img src="https://imgur.com/L4oYvxB.jpg" alt="OGå®Œæˆ"></p>
<hr>
<h3 id="Facebook-å®˜æ–¹æ–‡ä»¶"><a href="#Facebook-å®˜æ–¹æ–‡ä»¶" class="headerlink" title="Facebook å®˜æ–¹æ–‡ä»¶:"></a>Facebook å®˜æ–¹æ–‡ä»¶:</h3><p><a href="https://developers.facebook.com/docs/sharing/webmasters?locale=zh_TW">Facebook é–‹æ”¾ç¤¾äº¤é—œä¿‚åœ–</a><br><a href="https://developers.facebook.com/docs/sharing/best-practices#images">Facebook åˆ†äº«æœ€ä½³ä½œæ³•</a></p>
<hr>
]]></content>
      <categories>
        <category>SEO</category>
      </categories>
      <tags>
        <tag>og image</tag>
        <tag>åˆ†äº«é€£çµåœ–ç‰‡</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Vue transition è£½ä½œå‹•ç•«éæ¸¡çµ„ä»¶</title>
    <url>/2021/03/14/transitions/</url>
    <content><![CDATA[<h1 id="Enter-amp-Leave-Transitions"><a href="#Enter-amp-Leave-Transitions" class="headerlink" title="Enter &amp; Leave Transitions"></a>Enter &amp; Leave Transitions</h1><p>Vue.js å°‡éå ´æ¼¸è®Šçš„æ•ˆæœåŒ…è£æˆä¸€å€‹ç¨ç«‹çš„ transition å…ƒä»¶ï¼Œ å†ç”±é–‹ç™¼è€…è‡ªè¡Œå®šç¾©å…ƒç´ çš„é€²å ´ (Enter) ã€é€€å ´ (Leave) ä»¥åŠå‹•ç•«éç¨‹æ¼¸è®Š (Transitions) çš„æ¨£å¼ã€‚å‹•ç•«åŸ·è¡Œå®Œå¾Œæ‰æœƒæŠŠ DOM å…ƒç´ æ‹”æ‰</p>
<a id="more"></a>

<p><img src="https://i.imgur.com/1AHgsrN.png" alt="transitionåœ–ç‰‡è§£èªª"><br>å…ƒç´ é€²å ´ (é¡¯ç¤º) ï¼š<br>v-enter-from: é€²å…¥çš„é–‹å§‹ç‹€æ…‹ã€‚åœ¨æ’å…¥å…ƒç´ ä¹‹å‰æ·»åŠ ï¼Œåœ¨æ’å…¥å…ƒç´ ä¹‹å¾Œåˆªé™¤ä¸€å¹€ã€‚<br>v-enter-active: é€²å…¥çš„æ´»å‹•ç‹€æ…‹ã€‚åœ¨æ•´å€‹é€²å…¥éšæ®µæ‡‰ç”¨ã€‚åœ¨æ’å…¥å…ƒç´ ä¹‹å‰æ·»åŠ ï¼Œåœ¨éæ¸¡/å‹•ç•«çµæŸæ™‚å°‡å…¶åˆªé™¤ã€‚æ­¤é¡å¯ç”¨æ–¼å®šç¾©é€²å…¥éæ¸¡çš„æŒçºŒæ™‚é–“ï¼Œå»¶é²å’Œç·©å’Œæ›²ç·šã€‚<br>v-enter-to: é€²å…¥çš„çµæŸç‹€æ…‹ã€‚å…ƒç´ æ’å…¥å¾Œæ·»åŠ äº†ä¸€å¹€ï¼ˆåŒæ™‚ v-enter-from åˆªé™¤ï¼‰ï¼Œéæ¸¡/å‹•ç•«çµæŸå¾Œåˆªé™¤ã€‚</p>
<p>å…ƒç´ é€€å ´ (æ¶ˆå¤±) ï¼š<br>v-leave-from: é›¢é–‹çš„é–‹å§‹ç‹€æ…‹ã€‚è§¸ç™¼é›¢é–‹éæ¸¡æ™‚ç«‹å³æ·»åŠ ï¼Œåœ¨ä¸€å¹€å¾Œç§»é™¤ã€‚<br>v-leave-active: é›¢é–‹çš„æ´»å‹•ç‹€æ…‹ã€‚åœ¨æ•´å€‹é›¢é–‹éšæ®µæ‡‰ç”¨ã€‚è§¸ç™¼é›¢é–‹éæ¸¡æ™‚ç«‹å³æ·»åŠ ï¼Œç•¶éæ¸¡/å‹•ç•«çµæŸæ™‚å°‡å…¶ç§»é™¤ã€‚æ­¤é¡å¯ç”¨æ–¼å®šç¾©é›¢é–‹éæ¸¡çš„æŒçºŒæ™‚é–“ï¼Œå»¶é²å’Œç·©å’Œæ›²ç·šã€‚<br>v-leave-to: é›¢é–‹çš„çµæŸç‹€æ…‹ã€‚è§¸ç™¼é›¢é–‹éæ¸¡ï¼ˆåŒæ™‚ v-leave-from åˆªé™¤ï¼‰å¾Œæ·»åŠ ä¸€å¹€ï¼Œåœ¨éæ¸¡/å‹•ç•«çµæŸæ™‚åˆªé™¤ã€‚</p>
<h2 id="ç¯„ä¾‹ä¸€-æ·¡å…¥æ·¡å‡º"><a href="#ç¯„ä¾‹ä¸€-æ·¡å…¥æ·¡å‡º" class="headerlink" title="ç¯„ä¾‹ä¸€: æ·¡å…¥æ·¡å‡º"></a>ç¯„ä¾‹ä¸€: æ·¡å…¥æ·¡å‡º</h2><p>transition å®šç¾© name=â€fadeâ€ï¼Œstyle å°‡æœƒåŠ å…¥ fade æ¨£å¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isAmin = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isAmin,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isAmin = !isAmin&quot;</span>&gt;</span>Toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;fade&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isAmin&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.fade-enter-active</span>,</span><br><span class="line"><span class="selector-class">.fade-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">0.5s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-enter-from</span>,</span><br><span class="line"><span class="selector-class">.fade-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç¯„ä¾‹äºŒ-ä½¿ç”¨-keyframes-åš-bounce-å‹•ç•«"><a href="#ç¯„ä¾‹äºŒ-ä½¿ç”¨-keyframes-åš-bounce-å‹•ç•«" class="headerlink" title="ç¯„ä¾‹äºŒ: ä½¿ç”¨ keyframes åš bounce å‹•ç•«"></a>ç¯„ä¾‹äºŒ: ä½¿ç”¨ keyframes åš bounce å‹•ç•«</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isAmin = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isAmin,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isAmin = !isAmin&quot;</span>&gt;</span>Toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;bounce&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isAmin&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.bounce-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: bounce-in <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bounce-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: bounce-in <span class="number">0.5s</span> reverse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> bounce-in &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.25</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æœ‰-v-for-æ™‚éœ€ç”¨-transition-group"><a href="#æœ‰-v-for-æ™‚éœ€ç”¨-transition-group" class="headerlink" title="æœ‰ v-for æ™‚éœ€ç”¨ transition-group"></a>æœ‰ v-for æ™‚éœ€ç”¨ transition-group</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;list-demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;remove&quot;</span>&gt;</span>Remove<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span> <span class="attr">tag</span>=<span class="string">&quot;p&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">v-bind:key</span>=<span class="string">&quot;item&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; item &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>transition</tag>
      </tags>
  </entry>
  <entry>
    <title>VUE çš„ SSR åŸç†</title>
    <url>/2021/08/29/vue-SSR/</url>
    <content><![CDATA[<p><img src="https://imgur.com/mRrJH3R.jpg" alt="Imgur"><br>SPA è·Ÿ SSR å„æœ‰å¥½å£ï¼Œå› æ‡‰å°ˆæ¡ˆéœ€æ±‚ä¾†æ±ºå®šæˆ‘å€‘éœ€è¦çš„æ˜¯ SPA é‚„æ˜¯ SSR çš„ç¶²ç«™</p>
<a id="more"></a>

<h1 id="ä»€éº¼æ˜¯-CSR"><a href="#ä»€éº¼æ˜¯-CSR" class="headerlink" title="ä»€éº¼æ˜¯ CSR?"></a>ä»€éº¼æ˜¯ CSR?</h1><p>CSR (Client-Side Rendering) å®¢æˆ¶ç«¯æ¸²æŸ“ï¼Œé€šå¸¸æ˜¯è¬› SPA (Single Page Application)å±…å¤šï¼ŒSPA æŒ‡çš„æ˜¯å–®é å¼æ‡‰ç”¨ï¼Œå…§å®¹äº¤ç”± client çš„ç€è¦½å™¨å»è™•ç†ï¼ŒHTML é€é JavaScript æ¸²æŸ“ä¸Šå»ã€‚</p>
<p>å„ªé»: æ¸›å°‘ server ç«¯çš„å£“åŠ›ã€é é¢åˆ‡æ›é€Ÿåº¦å¿«<br>ç¼ºé»: é¦–å±é¡¯ç¤ºæ…¢ã€SEO è¼ƒå·®<br>é©åˆç”¨åœ¨è¼ƒä¸éœ€ SEO æˆ–éœ€é«˜é »æ“ä½œçš„ç¶²ç«™ï¼Œå¦‚: å¾Œå°ç³»çµ±ã€æ´»å‹•é é¢ç­‰</p>
<h1 id="ä»€éº¼æ˜¯-SSR"><a href="#ä»€éº¼æ˜¯-SSR" class="headerlink" title="ä»€éº¼æ˜¯ SSR?"></a>ä»€éº¼æ˜¯ SSR?</h1><p>SSR (Sever-Side Rendering) ä¼ºæœå™¨ç«¯æ¸²æŸ“ï¼Œç”± Server ç«¯çš„ CPU æ”¶åˆ°è«‹æ±‚å¾Œï¼Œè§£æå®Œæ•´çš„ HTML è¿”å›åˆ°ä½¿ç”¨è€…æ¥æ”¶ç«¯ï¼Œç„¶å¾Œå‘ˆç¾ç¶²é ã€‚</p>
<p>å„ªé»: é¦–å±é¡¯ç¤ºå¿«ï¼Œä¸ç”¨ä¸‹è¼‰å¤§é‡çš„ javascriptã€SEO æ•ˆæœå¥½<br>ç¼ºé»: server ç«¯æ‰¿å—æ¯”è¼ƒå¤§çš„å£“åŠ›ã€é»æ“Šåˆ¥é æ™‚ï¼Œæ•´å€‹ç•«é¢éœ€é‡æ–°ç¹ªè£½ï¼Œå¦‚ç¶²è·¯ä¸å¥½ï¼Œä½¿ç”¨è€…é«”é©—æœƒè¼ƒå·®<br>é©åˆç”¨åœ¨å¾ˆéœ€è¦ SEO çš„ç¶²ç«™ï¼Œå¦‚: å¹³å°ç¶²ç«™ã€æ–°èåª’é«”ç¶²ç«™</p>
<h1 id="ä»€éº¼æ˜¯-NUXT"><a href="#ä»€éº¼æ˜¯-NUXT" class="headerlink" title="ä»€éº¼æ˜¯ NUXT"></a>ä»€éº¼æ˜¯ NUXT</h1><p>æä¾› SSR çš„åŠŸèƒ½ã€æ›´æ–¹ä¾¿å»åš Vue.js çš„é–‹ç™¼çš„ framework</p>
<h1 id="Nuxt-SSR-åŸç†è§£æ"><a href="#Nuxt-SSR-åŸç†è§£æ" class="headerlink" title="Nuxt SSR åŸç†è§£æ"></a>Nuxt SSR åŸç†è§£æ</h1><p>Nuxt.js æ˜¯å»ºæ§‹åœ¨ Node.js çš„ç’°å¢ƒä¹‹ä¸Šï¼Œè¦ run Nuxt æ™‚ï¼Œéœ€è¦èµ·ä¸€å€‹ Node.js çš„ server<br>Nuxt åœ¨ bundle æ™‚ï¼Œæœƒ bundle å…©ä»½æª”æ¡ˆ:</p>
<ol>
<li>Server ç«¯çš„æª”æ¡ˆ =&gt; çµ¦æœå°‹å¼•æ“çˆ¬èŸ²ï¼Œæé«˜ SEO</li>
<li>Client ç«¯çš„æª”æ¡ˆ =&gt; çµ¦ User çœ‹çš„æª”æ¡ˆå…§å®¹</li>
</ol>
<hr>
]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>SSR</tag>
        <tag>SPA</tag>
        <tag>Nuxt</tag>
      </tags>
  </entry>
  <entry>
    <title>ç’°å¢ƒå»ºç½® &amp; Vue-cliå°ˆæ¡ˆ</title>
    <url>/2021/03/08/vue-cli/</url>
    <content><![CDATA[<h1 id="Node-js-ç’°å¢ƒå»ºç½®"><a href="#Node-js-ç’°å¢ƒå»ºç½®" class="headerlink" title="Node.js ç’°å¢ƒå»ºç½®"></a>Node.js ç’°å¢ƒå»ºç½®</h1><h2 id="ä¸‹è¼‰-NVM"><a href="#ä¸‹è¼‰-NVM" class="headerlink" title="ä¸‹è¼‰ NVM"></a>ä¸‹è¼‰ NVM</h2><p>nvm æ˜¯ Node.js çš„ç‰ˆæœ¬ç®¡ç†å™¨ (version manager)ï¼Œå¯åœ¨åŒä¸€å°ä¸»æ©Ÿä¸Šå®‰è£å¤šå€‹ç‰ˆæœ¬çš„ Node.js ç’°å¢ƒï¼Œå› ç‚ºä¸åŒå°ˆæ¡ˆå¯èƒ½æœƒä½¿ç”¨ä¸åŒçš„ Node.js ç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦é€éä¸€å€‹ç‰ˆæœ¬ç®¡ç†å™¨ä¾†åˆ‡æ›ä¸åŒçš„ Node.js ç‰ˆæœ¬ã€‚<br><br>NVM install - é»é¸å³é‚Šçš„ releases<br><a href="https://github.com/coreybutler/nvm-windows">https://github.com/coreybutler/nvm-windows</a></p>
<a id="more"></a>

<p>NVM å¸¸ç”¨æŒ‡ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nvm list // åˆ—å‡ºç›®å‰é›»è…¦æœ‰å®‰è£çš„ nodejs ç‰ˆæœ¬</span><br><span class="line">nvm list available // ç›®å‰ç¶²è·¯ä¸Šå¯ç”¨çš„ nodejs ç‰ˆæœ¬åˆ—è¡¨</span><br><span class="line">nvm install v12.19.0 // è©² nodejs ç‰ˆæœ¬ä¸‹è¼‰å®‰è£</span><br><span class="line">nvm uninstall v12.19.0 // ç§»é™¤è©² nodejs ç‰ˆæœ¬</span><br><span class="line">nvm use v12.19.0 // ä½¿ç”¨è©² nodejs ç‰ˆæœ¬</span><br><span class="line">nvm -v // ç›®å‰è©² nvm ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‹è¼‰-node-js"><a href="#ä¸‹è¼‰-node-js" class="headerlink" title="ä¸‹è¼‰ node.js"></a>ä¸‹è¼‰ node.js</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nvm install v12.19.0 // è©² nodejs ç‰ˆæœ¬ä¸‹è¼‰å®‰è£</span><br><span class="line">nvm use v12.19.0 // ä½¿ç”¨è©² nodejs ç‰ˆæœ¬</span><br><span class="line">node -v // ç›®å‰è©² node ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>
<h2 id="æª¢æŸ¥-npm-æ˜¯å¦å®‰è£æˆåŠŸ"><a href="#æª¢æŸ¥-npm-æ˜¯å¦å®‰è£æˆåŠŸ" class="headerlink" title="æª¢æŸ¥ npm æ˜¯å¦å®‰è£æˆåŠŸ"></a>æª¢æŸ¥ npm æ˜¯å¦å®‰è£æˆåŠŸ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm -v // ç›®å‰è©² npm ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>
<p>npm å¸¸ç”¨æŒ‡ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm -v // æŸ¥çœ‹ç›®å‰npmçš„ç‰ˆæœ¬</span><br><span class="line">npm install &lt;package&gt; // å®‰è£npmå¥—ä»¶</span><br><span class="line">npm install &lt;package&gt;  -D // å®‰è£é–‹ç™¼éšæ®µå¥—ä»¶</span><br><span class="line">npm install &lt;package&gt;  -S // å®‰è£ä¸Šç·šéšæ®µå¥—ä»¶</span><br><span class="line">npm rm &lt;package&gt; // ç§»é™¤è©²å¥—ä»¶</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="å®‰è£-Vue-cli"><a href="#å®‰è£-Vue-cli" class="headerlink" title="å®‰è£ Vue-cli"></a>å®‰è£ Vue-cli</h1><p>Vue CLI æ˜¯ä¸€å€‹åŸºæ–¼ Vue.js é€²è¡Œå¿«é€Ÿé–‹ç™¼çš„å®Œæ•´ç³»çµ±ï¼Œç¢ºä¿å„ç¨®æ§‹å»ºå·¥å…·èƒ½å¤ å¹³ç©©éŠœæ¥ï¼Œä½¿é–‹ç™¼äººå“¡å¯ä»¥å°ˆæ³¨åœ¨æ’°å¯«æ‡‰ç”¨ä¸Šï¼Œè€Œä¸å¿…èŠ±å¥½å¹¾å¤©å»ç³¾çµé…ç½®çš„å•é¡Œã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>
<h1 id="å»ºæ§‹ä¸€å€‹æ–°çš„-Vue-å°ˆæ¡ˆ"><a href="#å»ºæ§‹ä¸€å€‹æ–°çš„-Vue-å°ˆæ¡ˆ" class="headerlink" title="å»ºæ§‹ä¸€å€‹æ–°çš„ Vue å°ˆæ¡ˆ"></a>å»ºæ§‹ä¸€å€‹æ–°çš„ Vue å°ˆæ¡ˆ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vue create my-project // my-project ç‚ºè¦å‰µå»ºçš„è³‡æ–™å¤¾åç¨±</span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">vue ui // uiä»‹é¢è¨­å®š</span><br></pre></td></tr></table></figure>
<br>
Please pick a preset: (è«‹é¸æ“‡ä¸€å€‹é è¨­)

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Manually select features //æ‰‹å‹•é¸æ“‡åŠŸèƒ½</span><br></pre></td></tr></table></figure>
<br>
Check the features needed for your project: (æª¢æŸ¥é …ç›®æ‰€éœ€çš„åŠŸèƒ½)

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Choose Vue version //é¸æ“‡ Vue ç‰ˆæœ¬</span><br><span class="line">Babel //JavaScript è½‰è­¯å™¨ï¼Œå¯å°‡ ES6+ ç¨‹å¼ç¢¼è½‰ç‚ºç­‰æ•ˆçš„ ES5 ç¨‹å¼ç¢¼</span><br><span class="line">Router // è·¯ç”±</span><br><span class="line">CSS pre-processors //CSS é è™•ç†å™¨</span><br></pre></td></tr></table></figure>
<br>
Choose a version of Vue.js that you want to start the project with (é¸æ“‡Vueç‰ˆæœ¬)

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">3.x (Preview)</span><br></pre></td></tr></table></figure>
<br>
Use history mode for router?

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Y</span><br></pre></td></tr></table></figure>
<br>
Pick a CSS pre-processor

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Sass/SCSS (with dart-sass)</span><br></pre></td></tr></table></figure>
<br>
Where do you prefer placing config for Babel, ESLint, etc.?

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">In package.json</span><br></pre></td></tr></table></figure>
<br>
Save this as a preset for future projects?

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Y</span><br></pre></td></tr></table></figure>
<p>Save preset as: ç›´æ¥ ENTER<br><br></p>
<p>å»ºç«‹å®Œå¾Œå•Ÿå‹• serve</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> my-project // é€²å…¥è³‡æ–™å¤¾</span><br><span class="line">npm run serve // é–‹å•Ÿserve</span><br><span class="line">npm run build // å»ºç«‹dist</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="Vue-cli-å°ˆæ¡ˆçµæ§‹è§£æ"><a href="#Vue-cli-å°ˆæ¡ˆçµæ§‹è§£æ" class="headerlink" title="Vue-cli å°ˆæ¡ˆçµæ§‹è§£æ"></a>Vue-cli å°ˆæ¡ˆçµæ§‹è§£æ</h1><p>node_modulesï¼šé€é npm ä¸‹è¼‰çš„å¥—ä»¶è·Ÿå·¥å…·éƒ½æœƒæ”¾åœ¨é€™å€‹è³‡æ–™å¤¾è£¡é¢<br><br>package.jsonï¼šé—œæ–¼é€™æ•´åŒ…å°ˆæ¡ˆæ‰€æœ‰çš„è³‡è¨Šï¼ŒåŒ…å«å®‰è£å¥—ä»¶ç‰ˆæœ¬ã€å°ˆæ¡ˆç‰ˆæœ¬ã€npm æŒ‡ä»¤éƒ½å¯ä»¥åœ¨é€™å€‹ json æª”æ¡ˆè£¡é¢æ‰¾å¾—åˆ°ï¼Œä¹‹å¾Œè¦æ¬ç§»å°ˆæ¡ˆé‡æ–°å®‰è£å¥—ä»¶ä¹Ÿéœ€è¦é é€™å€‹ json æª”æ¡ˆ<br><br>package-lock.jsonï¼šå°ˆé–€ç´€éŒ„ package.json è£¡é¢æ›´ç´°ç¯€çš„å…§å®¹ï¼Œä¾‹å¦‚å®‰è£çš„å¥—ä»¶çš„è©³ç´°ç‰ˆæœ¬ï¼Œæˆ–æ˜¯ç¢ºèªä½ çš„ dependency (ä¾è³´)æ˜¯è¢«å“ªå€‹å‡½å¼åº«æ‰€è¦æ±‚çš„ç­‰ç­‰<br><br>babel.config.js: babel è½‰æ› JS æ™‚æ‰€ç”¨çš„å¥—ä»¶</p>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>Vue-cli</tag>
      </tags>
  </entry>
  <entry>
    <title>Composition API å…±ç”¨é‚è¼¯çš„å°è£</title>
    <url>/2021/03/21/vue-composition-api/</url>
    <content><![CDATA[<h1 id="Vue-è™•ç†å…±ç”¨é‚è¼¯çš„æ–¹å¼"><a href="#Vue-è™•ç†å…±ç”¨é‚è¼¯çš„æ–¹å¼" class="headerlink" title="Vue è™•ç†å…±ç”¨é‚è¼¯çš„æ–¹å¼"></a>Vue è™•ç†å…±ç”¨é‚è¼¯çš„æ–¹å¼</h1><p>ä»¥å¾€ç”¨ Vue2 è™•ç†å…±ç”¨é‚è¼¯æœ‰å¹¾ç¨®æ–¹å¼</p>
<p>ğŸ”¸ Mixins<br>ğŸ”¸ Higher-order Components ( HOC )<br>ğŸ”¸ Renderless Components</p>
<p>ä½† Vue2 å­˜åœ¨è‘—ä¸€äº›å•é¡Œï¼Œå‘½åè¡çªã€ç”¢ç”Ÿå¤šé¤˜çš„å…ƒä»¶å¯¦é«”ã€è³‡æ–™é›£ä»¥è¿½è¹¤ä¾†æºï¼Œå°±æœƒæœ‰ä¸€äº›ç‹€æ³ç”¢ç”Ÿã€‚<br>éš¨è‘— Vue3 çš„å‡ç´šï¼ŒVue3 Composition API è§£æ±ºäº† Vue2 çš„å•é¡Œ</p>
<a id="more"></a>

<p>ğŸ”¸ è³‡æ–™è¿½è¹¤æ¸…æ™°<br>ğŸ”¸ ä¸æœƒæœ‰å‘½åè¡çªçš„å•é¡Œ<br>ğŸ”¸ ä¸éœ€è¦ç”¢ç”Ÿå¤šé¤˜çš„å…ƒä»¶</p>
<h1 id="å–å¾—-Composition-API-çš„å€¼"><a href="#å–å¾—-Composition-API-çš„å€¼" class="headerlink" title="å–å¾— Composition API çš„å€¼"></a>å–å¾— Composition API çš„å€¼</h1><p>å¾å…±ç”¨é‚è¼¯å°è£çš„ Composition API å–å€¼</p>
<h2 id="ç¯„ä¾‹-é¡¯ç¤ºæ»‘é¼ åº§æ¨™"><a href="#ç¯„ä¾‹-é¡¯ç¤ºæ»‘é¼ åº§æ¨™" class="headerlink" title="ç¯„ä¾‹: é¡¯ç¤ºæ»‘é¼ åº§æ¨™"></a>ç¯„ä¾‹: é¡¯ç¤ºæ»‘é¼ åº§æ¨™</h2><h3 id="å°è£é‚è¼¯çš„-JS"><a href="#å°è£é‚è¼¯çš„-JS" class="headerlink" title="å°è£é‚è¼¯çš„ JS"></a>å°è£é‚è¼¯çš„ JS</h3><p>ä¸åŒ components å¯èƒ½æœƒå…±ç”¨çš„ JS</p>
<p>composition-api/useMousePosition.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mousePosition</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> x = ref(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> y = ref(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> positionUpdate = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    x.value = e.pageX;</span><br><span class="line">    y.value = e.pageY;</span><br><span class="line">  &#125;;</span><br><span class="line">  onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  onUnmounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123; x, y &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h3 id="æ•´åˆå°è£å¥½çš„-JS"><a href="#æ•´åˆå°è£å¥½çš„-JS" class="headerlink" title="æ•´åˆå°è£å¥½çš„ JS"></a>æ•´åˆå°è£å¥½çš„ JS</h3><p>æ‰€æœ‰å°è£çš„ JS éƒ½åœ¨ index.js åšæ•´åˆï¼Œcomponent åªéœ€å¼•å…¥é€™æ”¯å°±å¥½</p>
<p>composition-api/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;./useMousePosition.js&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useMousePosition = mousePosition;</span><br></pre></td></tr></table></figure>
<br>

<h3 id="index-js-å¼•å…¥åˆ°-component"><a href="#index-js-å¼•å…¥åˆ°-component" class="headerlink" title="index.js å¼•å…¥åˆ° component"></a>index.js å¼•å…¥åˆ° component</h3><p>MousePosition.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useMousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;@/composition-api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; x, y &#125; = useMousePosition();</span><br><span class="line">    <span class="keyword">return</span> &#123; x, y &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Mouse Position<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>x: &#123;&#123;x&#125;&#125; y: &#123;&#123;y&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<h3 id="è§£æ§‹å–å‡º-reactive-çš„ç‰©ä»¶"><a href="#è§£æ§‹å–å‡º-reactive-çš„ç‰©ä»¶" class="headerlink" title="è§£æ§‹å–å‡º reactive çš„ç‰©ä»¶"></a>è§£æ§‹å–å‡º reactive çš„ç‰©ä»¶</h3><p>çµ„ä»¶é€éè§£æ§‹è¦å–å‡º reactive çš„ç‰©ä»¶æ™‚ï¼Œè§£æ§‹å‡ºä¾†çš„è®Šæ•¸æœƒè®Šæˆå–®ç´”çš„è®Šæ•¸(ä¸å…·å‚™ç¶å®šåŠŸèƒ½)ï¼Œè¦è®“ reactive çš„è®Šæ•¸è¢«ç¶å®šæœ‰å…©ç¨®æ–¹æ³•:</p>
<p>1ï¸âƒ£ ä¸ä½¿ç”¨è§£æ§‹ï¼Œç›´æ¥ return reactive ç‰©ä»¶</p>
<p>composition-api/useMousePosition.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted, reactive, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mousePosition</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> position = reactive(&#123;</span><br><span class="line">    x: <span class="number">0</span>,</span><br><span class="line">    y: <span class="number">0</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> positionUpdate = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    position.x = e.pageX;</span><br><span class="line">    position.y = e.pageY;</span><br><span class="line">  &#125;;</span><br><span class="line">  onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  onUnmounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> position;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p>MousePosition.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useMousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;@/composition-api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> position = useMousePosition();</span><br><span class="line">    <span class="keyword">return</span> &#123; position &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Mouse Position<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>x: &#123;&#123; position.x &#125;&#125; y: &#123;&#123; position.y &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<p>2ï¸âƒ£ ä½¿ç”¨ toRefs</p>
<p>åªè¦æŠŠ reactive ç‰©ä»¶ç”¨ toRefs åŒ…èµ·ä¾†ï¼Œå°±å¯ä»¥è®“è§£æ§‹çš„å€¼å…·å‚™è³‡æ–™ç¶å®šçš„æ•ˆæœ</p>
<p>composition-api/useMousePosition.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted, reactive, ref, toRefs &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mousePosition</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> position = reactive(&#123;</span><br><span class="line">    x: <span class="number">0</span>,</span><br><span class="line">    y: <span class="number">0</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> positionUpdate = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    position.x = e.pageX;</span><br><span class="line">    position.y = e.pageY;</span><br><span class="line">  &#125;;</span><br><span class="line">  onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  onUnmounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> toRefs(position);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p>MousePosition.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useMousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;@/composition-api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; x, y &#125; = useMousePosition();</span><br><span class="line">    <span class="keyword">return</span> &#123; x, y &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Mouse Position<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>x: &#123;&#123;x&#125;&#125; y: &#123;&#123;y&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<p>ğŸ”¡ å¦‚è¦ return æ›´å¤šçš„è®Šæ•¸å¯ä½¿ç”¨å±•é–‹é‹ç®—å­çš„æ–¹å¼</p>
<p>useMousePosition.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted, reactive, ref, toRefs &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mousePosition</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> name = ref(<span class="string">&quot;bobee&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> position = reactive(&#123;</span><br><span class="line">    x: <span class="number">0</span>,</span><br><span class="line">    y: <span class="number">0</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> positionUpdate = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    position.x = e.pageX;</span><br><span class="line">    position.y = e.pageY;</span><br><span class="line">  &#125;;</span><br><span class="line">  onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  onUnmounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&quot;mousemove&quot;</span>, positionUpdate);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123; ...toRefs(position), name &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p>MousePosition.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useMousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;@/composition-api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; x, y, name &#125; = useMousePosition();</span><br><span class="line">    <span class="keyword">return</span> &#123; x, y, name &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Mouse Position<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>x: &#123;&#123;x&#125;&#125; y: &#123;&#123;y&#125;&#125; &#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é€™éº¼ä¸€ä¾†å°±å¯ä»¥å–å‡ºå¤šå€‹å€¼äº†ï¼</p>
<br>

<h1 id="è¨­å®š-Composition-API-çš„å€¼"><a href="#è¨­å®š-Composition-API-çš„å€¼" class="headerlink" title="è¨­å®š Composition API çš„å€¼"></a>è¨­å®š Composition API çš„å€¼</h1><h2 id="ç¯„ä¾‹-é»æ“ŠæŒ‰éˆ•æ”¹è®Šå€¼"><a href="#ç¯„ä¾‹-é»æ“ŠæŒ‰éˆ•æ”¹è®Šå€¼" class="headerlink" title="ç¯„ä¾‹: é»æ“ŠæŒ‰éˆ•æ”¹è®Šå€¼"></a>ç¯„ä¾‹: é»æ“ŠæŒ‰éˆ•æ”¹è®Šå€¼</h2><p>useState.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">stateAdd</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> idx = ref(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> addState = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    idx.value++;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> &#123; idx, addState &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;./useMousePosition.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; stateAdd &#125; <span class="keyword">from</span> <span class="string">&quot;./useState.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useMousePosition = mousePosition;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useState = stateAdd;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&quot;@/composition-api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; idx, addState &#125; = useState();</span><br><span class="line">    <span class="keyword">return</span> &#123; idx, addState &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;block&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>number: &#123;&#123;idx&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addState&quot;</span>&gt;</span>add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å°è£çš„å…§å®¹éƒ½æ˜¯ priviate çš„ï¼Œå³ä½¿è¤‡è£½å…©å€‹ components ä¹Ÿä¸æœƒå½±éŸ¿åˆ°å„åˆ¥çš„å€¼</p>
<br>

<h1 id="å°è£éåŒæ­¥è™•ç†çš„ç‹€æ…‹"><a href="#å°è£éåŒæ­¥è™•ç†çš„ç‹€æ…‹" class="headerlink" title="å°è£éåŒæ­¥è™•ç†çš„ç‹€æ…‹"></a>å°è£éåŒæ­¥è™•ç†çš„ç‹€æ…‹</h1><p>useFetch.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchs</span>(<span class="params">API_url = <span class="string">&quot;&quot;</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isLoad = ref(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fetchData = reactive(&#123; <span class="attr">data</span>: [] &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> errorMsg = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  axios</span><br><span class="line">    .get(API_url)</span><br><span class="line">    .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      isLoad.value = <span class="literal">true</span>;</span><br><span class="line">      fetchData.data = res.data;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      isLoad.value = <span class="literal">true</span>;</span><br><span class="line">      errorMsg.value = error.request.statusText;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123; isLoad, fetchData, errorMsg &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mousePosition &#125; <span class="keyword">from</span> <span class="string">&quot;./useMousePosition.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; stateAdd &#125; <span class="keyword">from</span> <span class="string">&quot;./useState.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; fetchs &#125; <span class="keyword">from</span> <span class="string">&quot;./useFetch.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useMousePosition = mousePosition;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useState = stateAdd;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useFetch = fetchs;</span><br></pre></td></tr></table></figure>
<br>

<p>FetchData.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useFetch &#125; <span class="keyword">from</span> <span class="string">&quot;@/composition-api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; isLoad, fetchData, errorMsg &#125; = useFetch(</span><br><span class="line">      <span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> &#123; isLoad, fetchData, errorMsg &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;!isLoad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;loading&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../assets/load.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--errorMsgä¸ç­‰æ–¼ç©ºæ™‚æ‰æœƒå‡ºç¾--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;errorMsg&quot;</span>&gt;</span>ERROR: &#123;&#123; errorMsg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isLoad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;imgBlock&quot;</span>&gt;</span></span><br><span class="line">    &lt;img</span><br><span class="line">      v-for=&quot;item in fetchData.data&quot;</span><br><span class="line">      :key=&quot;item.url&quot;</span><br><span class="line">      :src=&quot;item.url&quot;</span><br><span class="line">      alt=&quot;&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>Composition API</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3 è‡ªå®šç¾©æ¨¡æ¿ directive</title>
    <url>/2021/03/14/vue-directive/</url>
    <content><![CDATA[<h1 id="å…¨å±€-directive"><a href="#å…¨å±€-directive" class="headerlink" title="å…¨å±€ directive"></a>å…¨å±€ directive</h1><p>é€é directive å¯ä»¥è®“æ¯é éƒ½ä½¿ç”¨å…±ç”¨èªæ³•ï¼Œåœ¨ main.js ä¸­æ·»åŠ å…¨å±€ directive<br>directive mounted ç”Ÿå‘½é€±æœŸç­‰åŒæ–¼ onMounted, ä½†é€™è£¡ç‚ºç´” js ä¸¦é vue çš„é€±æœŸè£¡ï¼Œæ‰€ä»¥é€™æ¨£ä½¿ç”¨</p>
<a id="more"></a>

<p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šç¾©è®Šæ•¸åç¨±focus</span></span><br><span class="line">app.directive(<span class="string">&quot;focus&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params">el</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(el);</span><br><span class="line">    el.focus(); <span class="comment">// æœ‰v-focusåç¨±çš„éƒ½æœƒæœ‰focus()æ•ˆæœ</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>template</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-focus</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span> // è‡ªå®šç¾©è®Šæ•¸åç¨±å‰é¢é ˆåŠ ä¸Šå‰ç¶´v-XXX</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ç¯„ä¾‹-å°‡æ•¸å­—è½‰åƒåˆ†ä½"><a href="#ç¯„ä¾‹-å°‡æ•¸å­—è½‰åƒåˆ†ä½" class="headerlink" title="ç¯„ä¾‹: å°‡æ•¸å­—è½‰åƒåˆ†ä½"></a>ç¯„ä¾‹: å°‡æ•¸å­—è½‰åƒåˆ†ä½</h2><p>tool.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> numPrice = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> n = num + <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> numArr = n.split(<span class="string">&quot;&quot;</span>).reverse();</span><br><span class="line">  <span class="keyword">const</span> overArr = [];</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  numArr.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">3</span>) &#123;</span><br><span class="line">      i = <span class="number">1</span>;</span><br><span class="line">      overArr.push(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    overArr.push(item);</span><br><span class="line">  &#125;);</span><br><span class="line">  overArr.reverse();</span><br><span class="line">  <span class="keyword">return</span> overArr.join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>main.js<br>mounted(el, val) // ç¬¬äºŒå€‹åƒæ•¸ç‚º v-xxx=â€ä¸Ÿé€²å»çš„å€¼â€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; numPrice &#125; <span class="keyword">from</span> <span class="string">&quot;@/lib/tools.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"></span><br><span class="line">app.directive(<span class="string">&quot;price&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params">el, binding</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> p = numPrice(binding.value);</span><br><span class="line">    el.innerHTML = p;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>template</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-price</span>=<span class="string">&quot;15555000&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åŠ ä¸Š-v-model-æ™‚éœ€-updated"><a href="#åŠ ä¸Š-v-model-æ™‚éœ€-updated" class="headerlink" title="åŠ ä¸Š v-model æ™‚éœ€ updated"></a>åŠ ä¸Š v-model æ™‚éœ€ updated</h3><p>å› ç‚º mounted åªæœƒåŸ·è¡Œä¸€æ¬¡ï¼Œå¦‚éœ€å‹•æ…‹ç¶å®šï¼Œéœ€å†åŠ ä¸Š updated<br>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">app.directive(<span class="string">&quot;price&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params">el, binding</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> p = numPrice(binding.value);</span><br><span class="line">    el.innerHTML = p;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">updated</span>(<span class="params">el, binding</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> p = numPrice(binding.value);</span><br><span class="line">    el.innerHTML = p;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>components</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">1233211234567</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;num&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-price</span>=<span class="string">&quot;num&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>directive</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue å‹•æ…‹è·¯ç”±è¨­å®š</title>
    <url>/2021/03/16/vue-dynamic-router/</url>
    <content><![CDATA[<h1 id="è¨­å®šå‹•æ…‹ç¶²å€"><a href="#è¨­å®šå‹•æ…‹ç¶²å€" class="headerlink" title="è¨­å®šå‹•æ…‹ç¶²å€"></a>è¨­å®šå‹•æ…‹ç¶²å€</h1><a id="more"></a>

<p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/About.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/courses&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Courses&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Courses/index.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/courses/:id&quot;</span>, <span class="comment">// åŠ ä¸Š:id</span></span><br><span class="line">    name: <span class="string">&quot;Courses_id&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Courses/_id.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(process.env.BASE_URL),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<br>

<h1 id="è¨­å®šå¤–å±¤çš„nav"><a href="#è¨­å®šå¤–å±¤çš„nav" class="headerlink" title="è¨­å®šå¤–å±¤çš„nav"></a>è¨­å®šå¤–å±¤çš„nav</h1><p>useRoute: ç”¨ä¾†ç²å–ç¶²å€ä¸Šé¢çš„åƒæ•¸<br>useRouter: æä¾›è™•ç†è½‰å€ç›¸é—œçš„æ“ä½œAPI</p>
<p>é»æ“Šé¸å–®ï¼Œæœƒæ ¹æ“šè·¯ç”±å»åŠ ä¸Šactiveï¼Œç”±æ–¼å‹•æ…‹é¸å–®ä¸æœƒè¢«åŠ ä¸Šrouter-link-activeï¼Œæ‰€ä»¥ä½¿ç”¨ç›£è½çš„æ–¹å¼å»ç¶å®šclass</p>
<p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, ref, watch &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useRoute &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> route = useRoute();</span><br><span class="line">    <span class="keyword">const</span> reouteArr = reactive([<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;courses&#x27;</span>]); <span class="comment">// æ¯å€‹é¸å–®çš„è·¯ç”±</span></span><br><span class="line">    <span class="keyword">const</span> index = ref(<span class="number">0</span>);</span><br><span class="line">    watch(</span><br><span class="line">      ()=&gt;route.path, <span class="comment">// å–å¾—ç¾åœ¨çš„è·¯ç”±</span></span><br><span class="line">      ()=&gt;&#123;</span><br><span class="line">        reouteArr.forEach(<span class="function">(<span class="params">item, idx</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> rp = route.path.substr(<span class="number">1</span>).split(<span class="string">&#x27;/&#x27;</span>)[<span class="number">0</span>]; <span class="comment">// ç§»é™¤æ–œç·š</span></span><br><span class="line">          <span class="comment">// substr() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²ä¸­å¾æŒ‡å®šä½ç½®é–‹å§‹åˆ°æŒ‡å®šå­—ç¬¦æ•¸çš„å­—ç¬¦ã€‚</span></span><br><span class="line">          <span class="comment">// split() æŒ‡å®šçš„å­—ä¸²åˆ†å‰²ï¼Œè¿”å›ä¸€å€‹æ–°Array</span></span><br><span class="line">          <span class="keyword">if</span> (item === rp) &#123;</span><br><span class="line">            index.value = idx;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> &#123; index &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:index === 0&#125;&quot;</span>&gt;</span> Home <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    |</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:index === 1&#125;&quot;</span>&gt;</span> About <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    |</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/courses&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:index === 2&#125;&quot;</span>&gt;</span> Courses <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">  <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">  a &#123;</span><br><span class="line">    <span class="selector-tag">font-weight</span>: <span class="selector-tag">bold</span>;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span><br><span class="line">    &amp;<span class="selector-class">.active</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#42b983</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="å…§å±¤çš„é¸å–®"><a href="#å…§å±¤çš„é¸å–®" class="headerlink" title="å…§å±¤çš„é¸å–®"></a>å…§å±¤çš„é¸å–®</h1><p>å¦‚è¦åˆ‡æ›é¸å–®æ™‚åšæ›´å¤šçš„æ•ˆæœå¯ä»¥ä¸ä½¿ç”¨router-link<br>router.pushå¯ä»¥æŒ‡å‘è¦å»çš„é é¢<br>router.push(â€˜/è·¯å¾‘â€™) or router.push({ path: â€˜/è·¯å¾‘â€™ })<br>router.go(-1);å›ä¸Šä¸€é </p>
<p>æ»‘é¼ ä¸­éµæ²’è¾¦æ³•è®“router.pushè·³å‡ºè¦–çª—<br>å¯ä»¥ä½¿ç”¨router.resolveå„²å­˜è·¯å¾‘ï¼Œå†ç”¨ç´”JSé–‹å•Ÿè·¯å¾‘çš„è¦–çª—</p>
<p>/Courses/index.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; onMounted, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> coursesList = reactive(&#123; <span class="attr">data</span>:&#123;&#125; &#125;); <span class="comment">// å„²å­˜APIå›ä¾†çš„data</span></span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="keyword">const</span> goNewRouter = <span class="function">(<span class="params">id</span>)=&gt;</span>&#123;</span><br><span class="line">      router.push(&#123;<span class="attr">path</span>: <span class="string">`/courses/<span class="subst">$&#123;id&#125;</span>`</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ»‘é¼ ä¸­éµæ²’è¾¦æ³•è®“router.pushè·³å‡ºè¦–çª—</span></span><br><span class="line">    <span class="keyword">const</span> openNewTab = <span class="function">(<span class="params">id</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> saveUrl = router.resolve(&#123; <span class="attr">path</span>: <span class="string">`/courses/<span class="subst">$&#123;id&#125;</span>`</span> &#125;); <span class="comment">// router.resolveå¯å„²å­˜è·¯å¾‘</span></span><br><span class="line">      <span class="built_in">window</span>.open(saveUrl.href);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      axios.get(<span class="string">&#x27;https://vue-lessons-api.herokuapp.com/courses/list&#x27;</span>).then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">        coursesList.data = res.data;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      coursesList, goNewRouter, openNewTab</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœ @clickäº‹ä»¶æœ‰å…©å€‹å°±è¦åŠ ä¿®é£¾ç¬¦ï¼Œæ‰çŸ¥é“é»çš„æ˜¯è¦è§¸ç™¼å“ªä¸€å€‹Funtion<br>@click.left æ»‘é¼ å·¦éµ @click.middle æ»‘é¼ ä¸­éµ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in coursesList.data&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">click.left</span>=<span class="string">&quot;goNewRouter(item.id)&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">click.middle</span>=<span class="string">&quot;openNewTab(item.id)&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.photo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;teacher-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;teach-img&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.teacher.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; item.teacher.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>NTD: &#123;&#123; item.money &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#courses</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">318px</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>($color: #<span class="number">000000</span>, $alpha: <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.7</span>;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">0.2s</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">231</span>, <span class="number">231</span>, <span class="number">231</span>);</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="selector-tag">opacity</span>: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.content</span> &#123;</span><br><span class="line">    &gt; h1 &#123;</span><br><span class="line">      <span class="selector-tag">font-size</span>: 14<span class="selector-tag">px</span>;</span><br><span class="line">      <span class="selector-tag">text-align</span>: <span class="selector-tag">left</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.teacher-box</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">      <span class="attribute">align-items</span>: center;</span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">      &gt; h2 &#123;</span><br><span class="line">        <span class="selector-tag">font-size</span>: 13<span class="selector-tag">px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.teach-img</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">justify-content</span>: flex-start;</span><br><span class="line">        <span class="attribute">align-items</span>: center;</span><br><span class="line">        &gt; img &#123;</span><br><span class="line">          <span class="selector-tag">border-radius</span>: 25<span class="selector-tag">px</span>;</span><br><span class="line">          <span class="selector-tag">margin-right</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="è¨­å®šå…§é "><a href="#è¨­å®šå…§é " class="headerlink" title="è¨­å®šå…§é "></a>è¨­å®šå…§é </h1><p>/Courses/_id.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRoute, useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted, reactive, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> route = useRoute();</span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="keyword">const</span> courses = reactive(&#123; <span class="attr">data</span>:&#123;&#125; &#125;);</span><br><span class="line">    <span class="keyword">const</span> isError = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      axios.get(<span class="string">`https://vue-lessons-api.herokuapp.com/courses/<span class="subst">$&#123;route.params.id&#125;</span>`</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        courses.data = res.data.data[<span class="number">0</span>];</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">        isError.value = <span class="literal">true</span>;</span><br><span class="line">        courses.data[<span class="string">&#x27;errorMsg&#x27;</span>] = error.response.data.error_message;</span><br><span class="line">        <span class="comment">// è¨­å®šä¸‰ç§’æœƒè·³å›åŸé é¢</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">          router.push(&#123;<span class="attr">path</span>:<span class="string">&#x27;/courses&#x27;</span>&#125;);</span><br><span class="line">          <span class="comment">// router.push(&#x27;/courses&#x27;)</span></span><br><span class="line">          <span class="comment">// router.go(-1); // å›ä¸Šä¸€é </span></span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// é›¢é–‹æ­¤çµ„ä»¶è¦åŸ·è¡Œçš„å‹•ä½œ</span></span><br><span class="line">    onUnmounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      courses, isError</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç‰©ä»¶ç¬¬äºŒå±¤åˆå§‹æ™‚æœƒæ˜¯ç©ºçš„(undefined)ï¼Œç”¨v-ifåŒ…ä½ï¼Œç­‰æœ‰è³‡æ–™æ™‚æ‰æœƒå‡ºç¾</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;!isError&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; courses.data.name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>NTD: &#123;&#123; courses.data.money &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;courses.data.photo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(courses.data).length !== 0&quot;</span>&gt;</span><span class="comment">&lt;!--ç­‰æœ‰è³‡æ–™æ™‚æ‰æœƒå‡ºç¾--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;courses.data.teacher.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span><span class="comment">&lt;!--ç‰©ä»¶ç¬¬äºŒå±¤åˆå§‹æ™‚æœƒæ˜¯ç©ºçš„--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; courses.data.teacher.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- error_message --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;isError&quot;</span>&gt;</span>&#123;&#123; courses.data.errorMsg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>router</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue çš„ç’°å¢ƒè®Šé‡</title>
    <url>/2022/01/01/vue-env/</url>
    <content><![CDATA[<p><img src="https://imgur.com/lY6VKQe.png" alt="Vue"></p>
<p>æœ‰æ™‚å€™æˆ‘å€‘åœ¨é–‹ç™¼å°ˆæ¡ˆæ™‚ï¼Œæœƒé‡åˆ°é–‹ç™¼ç’°å¢ƒè·Ÿæ­£å¼ç’°å¢ƒè³‡æ–™ä¸ä¸€æ¨£çš„ç‹€æ³ï¼Œæ¯”è¼ƒå¸¸è¦‹çš„å°±æ˜¯åŸŸåä¸åŒï¼Œ<br>æœ€è¿‘æˆ‘é‡åˆ°çš„éœ€æ±‚æ˜¯ï¼Œä¸Šæ­£å¼ç«™æ™‚ï¼ŒæŸå€‹é€£çµç¶²å€è¦æ›æˆæ­£å¼ç«™ç¶²å€ï¼Œä½†é–‹ç™¼ç’°å¢ƒè¦ç”¨æ¸¬è©¦é€£çµï¼Œé‚£æˆ‘å€‘å¯ä»¥æ€éº¼åšå‘¢?<br>åƒé€™ç¨®æ™‚å€™ï¼Œå¯ä»¥ä½¿ç”¨ç’°å¢ƒè®Šé‡ï¼Œç°¡å–®è§£æ±ºå„å€‹ç’°å¢ƒçš„å•é¡Œã€‚</p>
<a id="more"></a>

<h1 id="æ¨¡å¼"><a href="#æ¨¡å¼" class="headerlink" title="æ¨¡å¼"></a>æ¨¡å¼</h1><p>åœ¨é–‹ç™¼çš„éç¨‹ä¸­ï¼Œé€šå¸¸æœƒæœ‰ä¸‰ç¨®éšæ®µ: é–‹ç™¼ç’°å¢ƒã€æ¸¬è©¦ç’°å¢ƒã€ç”Ÿç”¢ç’°å¢ƒ(æ­£å¼ç’°å¢ƒ)ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">development  <span class="comment">// æ¨¡å¼ç”¨äº vue-cli-service serve</span></span><br><span class="line">production   <span class="comment">// æ¨¡å¼ç”¨äº vue-cli-service build å’Œ vue-cli-service test:e2e</span></span><br><span class="line">test         <span class="comment">// æ¨¡å¼ç”¨äº vue-cli-service test:unit</span></span><br></pre></td></tr></table></figure>
<br/>
è¨­å®šæ¯å€‹ç’°å¢ƒä¸‹çš„æ¨¡å¼ï¼Œserveã€build æœ¬èº«å°±æœ‰é è¨­å€¼ï¼Œå¦‚æ²’è¦ç‰¹åˆ¥æ”¹ï¼Œå¯çœç•¥--modeï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾©æ¨¡å¼ç’°å¢ƒï¼Œæ¯”å¦‚æ–°å»ºä¸€å€‹å«çš„stagingæ¨¡å¼ï¼Œæ˜¯ç”¨æ–¼æ§‹å»ºç”Ÿç”¢ç’°å¢ƒçš„ï¼Œä½†ä¸€äº›è®Šé‡ä¸åŒ

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;serve&quot;</span>: <span class="string">&quot;vue-cli-service serve&quot;</span>, <span class="comment">// ç­‰åŒvue-cli-service serve --mode development</span></span><br><span class="line">  <span class="string">&quot;build&quot;</span>: <span class="string">&quot;vue-cli-service build&quot;</span>, <span class="comment">// ç­‰åŒvue-cli-service build --mode production</span></span><br><span class="line">  <span class="string">&quot;lint&quot;</span>: <span class="string">&quot;vue-cli-service lint&quot;</span>,</span><br><span class="line">  <span class="string">&quot;staging&quot;</span> :<span class="string">&quot;vue-cli-service build --mode staging&quot;</span> <span class="comment">// è‡ªè¨‚ staging æ¨¡å¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<h1 id="ç’°å¢ƒè®Šé‡"><a href="#ç’°å¢ƒè®Šé‡" class="headerlink" title="ç’°å¢ƒè®Šé‡"></a>ç’°å¢ƒè®Šé‡</h1><p>Cli-3.0ç¸½å…±æä¾›äº†å››ç¨®æ–¹å¼ä¾†åˆ¶å®šç’°å¢ƒè®Šé‡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">.env                <span class="comment">// åœ¨æ‰€æœ‰çš„ç’°å¢ƒä¸­è¢«è¼‰å…¥</span></span><br><span class="line">.env.local          <span class="comment">// åœ¨æ‰€æœ‰çš„ç’°å¢ƒä¸­è¢«è¼‰å…¥ï¼Œåªæœƒåœ¨æœ¬åœ°ï¼Œæœƒè¢« git å¿½ç•¥</span></span><br><span class="line">.env.[mode]         <span class="comment">// åªåœ¨æŒ‡å®šçš„æ¨¡å¼ä¸­è¢«è¼‰å…¥</span></span><br><span class="line">.env.[mode].local   <span class="comment">// åªåœ¨æŒ‡å®šçš„æ¨¡å¼ä¸­è¢«è¼‰å…¥ï¼Œåªæœƒåœ¨æœ¬åœ°ï¼Œæœƒè¢« git å¿½ç•¥</span></span><br></pre></td></tr></table></figure>
<p>ä¸åŒçš„æ–‡ä»¶æœƒåœ¨ä¸åŒç’°å¢ƒä¸­è¢«è¼‰å…¥</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">.env                      <span class="comment">// æœƒåœ¨æ‰€æœ‰çš„ç’°å¢ƒä¸­è¢«è¼‰å…¥</span></span><br><span class="line">.env.local                <span class="comment">// æœƒåœ¨æ‰€æœ‰ç’°å¢ƒä¸­è¼‰å…¥ï¼Œä½†åªé™æ–¼æœ¬åœ°</span></span><br><span class="line">.env.development          <span class="comment">// åªåœ¨é–‹ç™¼ç’°å¢ƒä¸­è¢«è¼‰å…¥</span></span><br><span class="line">.env.production           <span class="comment">// åªåœ¨ç”Ÿç”¢ç’°å¢ƒä¸­è¢«è¼‰å…¥</span></span><br><span class="line">.env.development.local    <span class="comment">// æœƒåœ¨æœ¬åœ°é–‹ç™¼ç’°å¢ƒä¸­è¼‰å…¥</span></span><br></pre></td></tr></table></figure>
<br/>

<p>é‹è¡Œç›¸é—œå‘½ä»¤çš„æ™‚å€™ï¼Œæœƒæ ¹æ“šä¸åŒç’°å¢ƒè¼‰å…¥ä¸åŒçš„æ–‡ä»¶ï¼Œä»¥è‡³æ–¼èƒ½æ­£ç¢ºè®€åˆ°æ–‡ä»¶è£¡çš„è®Šé‡ã€‚è¼‰å…¥çš„å„ªå…ˆç´šåˆ¥æ˜¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">.env.[ mode ].local &gt; .env.[ mode ] &gt; .env</span><br></pre></td></tr></table></figure>
<br/>

<p>åœ¨æ–‡ä»¶ä¸­ï¼Œæˆ‘å€‘åªéœ€è¦ä»¥key=valueçš„æ–¹å¼å°±å¯ä»¥è¨­ç½®è®Šé‡äº†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">FOO=bar</span><br><span class="line">VUE_APP_SECRET=secret</span><br></pre></td></tr></table></figure>
<p>è¨­ç½®å®Œç’°å¢ƒè®Šé‡ä¹‹å¾Œå°±å¯ä»¥åœ¨æˆ‘å€‘çš„é …ç›®ä¸­ä½¿ç”¨é€™å…©å€‹è®Šé‡äº†ã€‚<br/><br>è«‹æ³¨æ„ï¼Œåªæœ‰NODE_ENVï¼ŒBASE_URLå’Œä»¥ VUE_APP_ é–‹é ­çš„è®Šé‡å°‡é€šé webpack.DefinePlugin éœæ…‹åœ°åµŒå…¥åˆ°å®¢æˆ¶ç«¯å´çš„ä»£ç¢¼ä¸­ã€‚é€™æ˜¯ç‚ºäº†é¿å…æ„å¤–å…¬é–‹æ©Ÿå™¨ä¸Šå¯èƒ½å…·æœ‰ç›¸åŒåç¨±çš„ç§é‘°ã€‚<br>åœ¨webpacké…ç½®ä¸­ä½¿ç”¨ï¼Œæ²’ä»€éº½é™åˆ¶ï¼Œå¯ä»¥ç›´æ¥é€šéprocess.env.XXXä¾†ä½¿ç”¨<br><br/></p>
<h1 id="ç¤ºä¾‹ï¼šå»ºç«‹-Staging-æ¨¡å¼"><a href="#ç¤ºä¾‹ï¼šå»ºç«‹-Staging-æ¨¡å¼" class="headerlink" title="ç¤ºä¾‹ï¼šå»ºç«‹ Staging æ¨¡å¼"></a>ç¤ºä¾‹ï¼šå»ºç«‹ Staging æ¨¡å¼</h1><p>é¦–å…ˆåœ¨é …ç›®æ ¹ç›®éŒ„ä¸‹æ–°å»º.env.stagingæ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">NODE_ENV=production</span><br><span class="line">VUE_APP_TITLE=My App (staging)</span><br></pre></td></tr></table></figure>
<br/>
package.json è¨­å®š --mode staging

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;serve&quot;</span>: <span class="string">&quot;vue-cli-service serve&quot;</span>,</span><br><span class="line">  <span class="string">&quot;build&quot;</span>: <span class="string">&quot;vue-cli-service build&quot;</span>,</span><br><span class="line">  <span class="string">&quot;lint&quot;</span>: <span class="string">&quot;vue-cli-service lint&quot;</span>,</span><br><span class="line">  <span class="string">&quot;staging&quot;</span> :<span class="string">&quot;vue-cli-service build --mode staging&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<p>ä¸‹æŒ‡ä»¤<br><code>npm run staging</code><br>æœƒåœ¨staging æ¨¡å¼ä¸‹åŠ è¼‰å¯èƒ½å­˜åœ¨çš„.envã€.env.stagingå’Œ .env.staging.local æ–‡ä»¶ç„¶å¾Œæ§‹å»ºå‡ºç”Ÿç”¢ç’°å¢ƒæ‡‰ç”¨</p>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
<h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»:"></a>åƒè€ƒæ–‡ç»:</h3><p><a href="https://cli.vuejs.org/zh/guide/mode-and-env.html">å®˜æ–¹-æ¨¡å¼å’Œç’°å¢ƒè®Šé‡</a><br><a href="http://www.qianduan8.com/1704.html">vue-cli3.0å…¥é—¨-ç¯å¢ƒå˜é‡å’Œæ¨¡å¼é…ç½®</a></p>
<h3 id="nuxt-js-é…ç½®åƒè€ƒ"><a href="#nuxt-js-é…ç½®åƒè€ƒ" class="headerlink" title="nuxt.js é…ç½®åƒè€ƒ"></a>nuxt.js é…ç½®åƒè€ƒ</h3><p><a href="https://www.itread01.com/content/1547462292.html">nuxt.jsé…ç½®åŸºæœ¬åŸŸåå’ŒNODE_ENVç’°å¢ƒè®Šæ•¸</a></p>
<hr>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>env</tag>
        <tag>envç’°å¢ƒè®Šé‡</tag>
        <tag>ç’°å¢ƒè®Šæ•¸</tag>
        <tag>ç’°å¢ƒè®Šé‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue çš„ $event äº‹ä»¶å›å‚³</title>
    <url>/2021/03/14/vue-event-return/</url>
    <content><![CDATA[<h1 id="event-äº‹ä»¶å›å‚³"><a href="#event-äº‹ä»¶å›å‚³" class="headerlink" title="$event äº‹ä»¶å›å‚³"></a>$event äº‹ä»¶å›å‚³</h1><p>å–å¾—äº‹ä»¶çš„ target</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e.target);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      clickFn,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickFn($event)&quot;</span>&gt;</span>CLICK<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœ‰å¤šå€‹åƒæ•¸ï¼Œ$event äº‹ä»¶éœ€æ”¾åœ¨æœ€å¾Œé¢</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">(<span class="params">num, e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num, e.target);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      clickFn,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickFn(100, $event)&quot;</span>&gt;</span>CLICK<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>event</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue è¡¨å–®å…ƒä»¶è™•ç†</title>
    <url>/2021/03/21/vue-form/</url>
    <content><![CDATA[<h1 id="è¡¨å–®ç¶å®š"><a href="#è¡¨å–®ç¶å®š" class="headerlink" title="è¡¨å–®ç¶å®š"></a>è¡¨å–®ç¶å®š</h1><p>è¡¨å–®é–‹ç™¼æ˜¯ Web é–‹ç™¼ä¸­æœ€å¸¸è¦‹çš„éœ€æ±‚ä¹‹ä¸€ï¼Œå¹¾å€‹åŸºæœ¬çš„ Vue è¡¨å–®è™•ç†å¦‚ä¸‹</p>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>E-MAIL<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¼¸å…¥email&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;email&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>PASSWORD<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¼¸å…¥å¯†ç¢¼&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkbox&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span>æˆ‘å·²é–±è®€ä½¿ç”¨è€…æ¢æ¬¾<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handSubmit&quot;</span>&gt;</span>é€å‡º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> email = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> password = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> checkbox = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> handSubmit = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(email, password, checkbox);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; email, password, checkbox, handSubmit &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="è¤‡é¸çš„-checkbox"><a href="#è¤‡é¸çš„-checkbox" class="headerlink" title="è¤‡é¸çš„ checkbox"></a>è¤‡é¸çš„ checkbox</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in courseslist.tags&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.tag&quot;</span>&gt;</span></span><br><span class="line">      &lt;input</span><br><span class="line">        :id=&quot;item.tag&quot;</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        :value=&quot;item.tag&quot;</span><br><span class="line">        v-model=&quot;courseslist.listArray&quot;</span><br><span class="line">      /&gt;</span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">&quot;item.tag&quot;</span>&gt;</span>&#123;&#123; item.tag &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handSubmit&quot;</span>&gt;</span>é€å‡º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> courseslist = reactive(&#123;</span><br><span class="line">      listArray: [],</span><br><span class="line">      tags: [</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;JavaScript&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Html&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Css&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Html5&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Vuejs&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;React&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Sass&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Css3&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">tag</span>: <span class="string">&quot;Canvas&quot;</span> &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> handSubmit = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(courseslist.listArray);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; courseslist, handSubmit &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‹æ‹‰é¸å–®-select"><a href="#ä¸‹æ‹‰é¸å–®-select" class="headerlink" title="ä¸‹æ‹‰é¸å–® select"></a>ä¸‹æ‹‰é¸å–® select</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;select-box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;cityActive&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">disabled</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è«‹é¸æ“‡ç¸£å¸‚<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in twZip.city&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.name&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; item.name &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;areaActive&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">disabled</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è«‹é¸æ“‡å€åŸŸ<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in twZip.area&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.name&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; item.name &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handSubmit&quot;</span>&gt;</span>é€å‡º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onMounted, reactive, ref, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> twZip = reactive(&#123; <span class="attr">city</span>: [], <span class="attr">area</span>: [] &#125;);</span><br><span class="line">    <span class="keyword">const</span> cityActive = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> areaActive = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    watch(cityActive, <span class="function">(<span class="params">newCity</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// é€éfilteræŠŠç‰¹å®šç¸£å¸‚è³‡æ–™æ‹‰å‡ºä¾†</span></span><br><span class="line">      <span class="keyword">const</span> newArr = twZip.city.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> item.name === newCity);</span><br><span class="line">      areaActive.value = <span class="string">&quot;&quot;</span>; <span class="comment">// æ¯æ¬¡è®Šæ›æ™‚æ¸…ç©ºï¼Œæ‰æœƒé¡¯ç¤ºè«‹é¸æ“‡å€åŸŸ</span></span><br><span class="line">      twZip.area = newArr[<span class="number">0</span>].area;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> handSubmit = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(cityActive.value);</span><br><span class="line">      <span class="built_in">console</span>.log(areaActive.value);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      axios</span><br><span class="line">        .get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/city/list&quot;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          twZip.city = res.data.twzip.city;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(error);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123; twZip, cityActive, areaActive, handSubmit &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="register-è¨»å†Š"><a href="#register-è¨»å†Š" class="headerlink" title="register è¨»å†Š"></a>register è¨»å†Š</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;!isRegister&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;text&quot;</span><br><span class="line">      placeholder=&quot;è¼¸å…¥ä½¿ç”¨è€…åç¨±&quot;</span><br><span class="line">      v-model=&quot;registered.username&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;error&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;error_message.username&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; error_message.username &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>PASSWORD<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;password&quot;</span><br><span class="line">      placeholder=&quot;è¼¸å…¥å¯†ç¢¼&quot;</span><br><span class="line">      v-model=&quot;registered.password&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;error&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;error_message.password&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; error_message.password &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>E-MAIL<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¼¸å…¥email&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;registered.email&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;error&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;error_message.email&quot;</span>&gt;</span>&#123;&#123; error_message.email &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¹´é½¡<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¼¸å…¥å¹´é½¡&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;registered.age&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;boy&quot;</span> <span class="attr">value</span>=<span class="string">&quot;boy&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;registered.sex&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;boy&quot;</span>&gt;</span>boy<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;girl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;girl&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;registered.sex&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;girl&quot;</span>&gt;</span>girl<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;registered.terms&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span>æˆ‘å·²é–±è®€ä½¿ç”¨è€…æ¢æ¬¾<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handClick&quot;</span>&gt;</span>é€å‡º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isRegister&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è¨»å†ŠæˆåŠŸ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; reactive, ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isRegister = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">const</span> registered = reactive(&#123;</span><br><span class="line">      username: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      sex: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      email: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      age: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      terms: <span class="literal">false</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> error_message = reactive(&#123;&#125;);</span><br><span class="line">    <span class="keyword">const</span> handError = <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æŠŠ error çš„å€¼å‚³é€² error_message</span></span><br><span class="line">      <span class="built_in">Object</span>.keys(error).forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> (error_message[item] = error[item]));</span><br><span class="line">      <span class="built_in">console</span>.log(error_message);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> handClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      axios</span><br><span class="line">        .post(</span><br><span class="line">          <span class="string">&quot;https://vue-lessons-api.herokuapp.com/auth/registered&quot;</span>,</span><br><span class="line">          registered</span><br><span class="line">        )</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          isRegister.value = <span class="literal">true</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">          handError(error.response.data.error_message);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; registered, isRegister, handClick, error_message &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Vue.createApp(app).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>axios</tag>
        <tag>Vue.js</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueçš„å„ç¨®å¸¸ç”¨ä¿®é£¾ç¬¦/èªæ³•ç³–</title>
    <url>/2021/03/21/vue-modifiers/</url>
    <content><![CDATA[<h1 id="äº‹ä»¶ä¿®é£¾ç¬¦"><a href="#äº‹ä»¶ä¿®é£¾ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é£¾ç¬¦"></a>äº‹ä»¶ä¿®é£¾ç¬¦</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">.prevent <span class="comment">// é˜²æ­¢åšåŸæœ¬é è¨­çš„å‹•ä½œ</span></span><br><span class="line">.stop <span class="comment">// é˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°çˆ¶å…ƒç´ ï¼Œé˜»æ­¢ä»»ä½•çˆ¶äº‹ä»¶è™•ç†ç¨‹åºè¢«åŸ·è¡Œ</span></span><br><span class="line">.self <span class="comment">// åªåœ¨è‡ªå·±çš„å±¤ç´šè™•ç†è‡ªå·±çš„ç¨‹åº</span></span><br><span class="line">.once <span class="comment">// åªè™•ç†ä¸€æ¬¡</span></span><br><span class="line">.native <span class="comment">// åœ¨å…ƒä»¶çš„æ ¹å…ƒç´ ä¸Šç›£è½ä¸€å€‹åŸç”Ÿäº‹ä»¶</span></span><br><span class="line">.sync</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h1 id="æŒ‰éµä¿®é£¾ç¬¦"><a href="#æŒ‰éµä¿®é£¾ç¬¦" class="headerlink" title="æŒ‰éµä¿®é£¾ç¬¦"></a>æŒ‰éµä¿®é£¾ç¬¦</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">@keydown.enterÂ  <span class="comment">// æŒ‰ä¸‹enteråšæŸäº‹</span></span><br><span class="line">@keydown.a.prevent <span class="comment">// é˜²æ­¢AåšåŸæœ¬é è¨­å‹•ä½œ</span></span><br><span class="line">@keydown<span class="number">.13</span>Â  <span class="comment">// æŒ‰ä¸‹enteråšæŸäº‹ï¼Œä¹Ÿå¯ç›´æ¥å¯«æˆkeyCodeç¢¼</span></span><br></pre></td></tr></table></figure>
<h1 id="v-model-ä¿®é£¾ç¬¦"><a href="#v-model-ä¿®é£¾ç¬¦" class="headerlink" title="v-model ä¿®é£¾ç¬¦"></a>v-model ä¿®é£¾ç¬¦</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">.lazy <span class="comment">// æ‰“å®Œæ–‡å­—å¾Œï¼Œç„¦é»ç§»å‡ºå¾Œæ‰æœƒåæ‡‰</span></span><br><span class="line">.number <span class="comment">// æŠŠè¼¸å…¥å€¼ç•¶æˆæ•¸å­—</span></span><br><span class="line">.trim <span class="comment">// è£æ‰æ–‡å­—å‰å¾Œçš„ç©ºæ ¼</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>axios</tag>
        <tag>Vue.js</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue åµŒå¥—è·¯ç”±ï¼Œå¹«ç¶²ç«™è¨­å®š layout</title>
    <url>/2021/03/16/vue-nested-routes/</url>
    <content><![CDATA[<h1 id="åµŒå¥—è·¯ç”±-Nested-Routes"><a href="#åµŒå¥—è·¯ç”±-Nested-Routes" class="headerlink" title="åµŒå¥—è·¯ç”±(Nested Routes)"></a>åµŒå¥—è·¯ç”±(Nested Routes)</h1><p>çˆ¶å±¤æœ‰ router-view å¯ä»¥åˆ‡æ›ï¼Œå…§å±¤ä¹Ÿæœ‰è‡ªå·±çš„ router-view å¯ä»¥åˆ‡æ›</p>
<a id="more"></a>

<p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">&quot;../views/About.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Changelog <span class="keyword">from</span> <span class="string">&quot;../views/About/Changelog.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> GitHub <span class="keyword">from</span> <span class="string">&quot;../views/About/GitHub.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Guide <span class="keyword">from</span> <span class="string">&quot;../views/About/Guide.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> aboutIndex <span class="keyword">from</span> <span class="string">&quot;../views/About/index.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Reference <span class="keyword">from</span> <span class="string">&quot;../views/About/Reference.vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    component: About,</span><br><span class="line">    children: [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;&quot;</span>, <span class="comment">// childrenè£¡çš„è·¯å¾‘ä¸éœ€è¦æ–œç·š/</span></span><br><span class="line">        component: aboutIndex</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;changelog&quot;</span>,</span><br><span class="line">        component: Changelog</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;gitHub&quot;</span>,</span><br><span class="line">        component: GitHub</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;guide&quot;</span>,</span><br><span class="line">        component: Guide</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;reference&quot;</span>,</span><br><span class="line">        component: Reference</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(process.env.BASE_URL),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<br>

<h2 id="å…§å±¤åŠ ä¸Š-router-view"><a href="#å…§å±¤åŠ ä¸Š-router-view" class="headerlink" title="å…§å±¤åŠ ä¸Š router-view"></a>å…§å±¤åŠ ä¸Š router-view</h2><p>about.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;about&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/changelog&quot;</span>&gt;</span>changelog<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/gitHub&quot;</span>&gt;</span>gitHub<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/guide&quot;</span>&gt;</span>guide<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/reference&quot;</span>&gt;</span>reference<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.about</span> &#123;</span><br><span class="line">  &gt; nav &#123;</span><br><span class="line">    &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span><br><span class="line">      <span class="attribute">font-weight</span>: bold;</span><br><span class="line">      &amp;.router-link-exact-active &#123;</span><br><span class="line">        <span class="selector-tag">color</span>: <span class="selector-tag">rebeccapurple</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€æ³¨æ„çš„æ˜¯ï¼ŒåµŒå¥—è·¯ç”±çš„router-linkï¼Œclassæœƒè‡ªå‹•ç”¢ç”Ÿrouter-link-activeï¼Œrouter-link-activeçš„ä¸‹ä¸€å±¤ä¹Ÿæœƒç”¢ç”Ÿrouter-link-exact-activeï¼Œå¯ä»¥åˆ©ç”¨æ­¤é¡åˆ¥ä¾†è¨­å®šactive</p>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>router</tag>
      </tags>
  </entry>
  <entry>
    <title>Nuxt éŒ¯èª¤é é¢è™•ç†</title>
    <url>/2021/09/13/vue-nuxt-error/</url>
    <content><![CDATA[<p><img src="https://imgur.com/dq0PWCR.jpg" alt="Imgur"></p>
<p>ä½¿ç”¨è€…ç¶²å€è¼¸å…¥éŒ¯èª¤ï¼Œæˆ–é é¢ç™¼ç”ŸéŒ¯èª¤çš„æ™‚å€™ï¼Œæœƒåœ¨ç•«é¢ä¸Šçµ¦ä¸€å€‹ 404 çš„é é¢ï¼Œåœ¨ Nuxt æˆ‘å€‘ä¹Ÿéœ€è¦è¨­ç½® 404 çš„é é¢</p>
<a id="more"></a>

<p>åœ¨ layouts æ–°å¢ä¸€å€‹ error.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;error.statusCode === 404&quot;</span>&gt;</span>Page not found<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>An error occurred<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home page<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: [<span class="string">&#x27;error&#x27;</span>], <span class="comment">// å¦‚é é¢ç™¼ç”ŸéŒ¯èª¤ï¼Œæœƒå‚³éå« error çš„ props</span></span><br><span class="line">  layout: <span class="string">&#x27;blog&#x27;</span>, <span class="comment">// you can set a custom layout for the error page</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
      </tags>
  </entry>
  <entry>
    <title>Nuxt å¿«é€Ÿå®‰è£åŠè¨­å®š</title>
    <url>/2021/08/30/vue-nuxt-install/</url>
    <content><![CDATA[<p><img src="https://imgur.com/mRrJH3R.jpg" alt="Imgur"></p>
<h1 id="å®‰è£-Nuxt"><a href="#å®‰è£-Nuxt" class="headerlink" title="å®‰è£ Nuxt"></a>å®‰è£ Nuxt</h1><p>å®‰è£ Nuxt å‰ï¼Œå…ˆæª¢æŸ¥ Nodejs æœ€å°‘éœ€è¦ v10.13 çš„ç‰ˆæœ¬ï¼Œå¦‚å°æ–¼æ­¤ç‰ˆæœ¬ï¼Œè«‹å‡ç´š Nodejs</p>
<a id="more"></a>

<p>ä»¥ä¸‹æ­¥é©Ÿè«‹ä¾å°ˆæ¡ˆè€Œå®š</p>
<p>å®‰è£ nuxt</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx create-nuxt-app &lt;project-name&gt;</span><br></pre></td></tr></table></figure>
<br>

<p>Project name: ç›´æ¥ Enter</p>
<br>

<p>Programming language:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">JavaScript</span><br></pre></td></tr></table></figure>
<br>

<p>Package manager:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm</span><br></pre></td></tr></table></figure>
<br>

<p>UI framework:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">None</span><br></pre></td></tr></table></figure>
<br>

<p>Nuxt.js modules: (å¯å…ˆå®‰è£çš„åŠŸèƒ½)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Axios - Promise based HTTP client</span><br></pre></td></tr></table></figure>
<br>

<p>Linting tools: ç›´æ¥ Enter</p>
<br>

<p>Testing framework: ç›´æ¥ Enter</p>
<br>

<p>Rendering mode:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Universal (SSR / SSG)</span><br></pre></td></tr></table></figure>
<br>

<p>Deployment target:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Server (Node.js hosting)</span><br></pre></td></tr></table></figure>
<br>

<p>Development tools:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jsconfig.json (Recommended <span class="keyword">for</span> VS Code <span class="keyword">if</span> you<span class="string">&#x27;re not using typescript)</span></span><br></pre></td></tr></table></figure>
<br>

<p>What is your GitHub username?</p>
<br>

<p>Version control system:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">None</span><br></pre></td></tr></table></figure>
<br>

<h2 id="Nuxt-2-14-6-å®‰è£å‡ºç¾éŒ¯èª¤"><a href="#Nuxt-2-14-6-å®‰è£å‡ºç¾éŒ¯èª¤" class="headerlink" title="Nuxt 2.14.6 å®‰è£å‡ºç¾éŒ¯èª¤"></a>Nuxt 2.14.6 å®‰è£å‡ºç¾éŒ¯èª¤</h2><p><img src="https://imgur.com/aJWOh3A.jpg" alt="Imgur"><br>é€™æ˜¯ç›®å‰åªæœ‰åœ¨ Nuxt 2.14.6 æœƒå‡ºç¾éŒ¯èª¤ï¼Œå¯ä»¥åœ¨ nuxt.config.js è£¡é¢çš„ build æ–°å¢ä»¥ä¸‹è¨­å®šè§£æ±ºé€™å€‹éŒ¯èª¤</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">build: &#123;</span><br><span class="line">  babel: &#123;</span><br><span class="line">    plugins: [[<span class="string">&#x27;@babel/plugin-proposal-private-methods&#x27;</span>, &#123; <span class="attr">loose</span>: <span class="literal">true</span> &#125;]];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£-SASS"><a href="#å®‰è£-SASS" class="headerlink" title="å®‰è£ SASS"></a>å®‰è£ SASS</h1><p>Nuxt é è¨­æ˜¯æ²’æœ‰è¾¦æ³•ä½¿ç”¨ SASS çš„ï¼Œå¦‚éœ€è¦å¯ä»¥ npm å®‰è£ SASS</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save-dev sass sass-loader fibers</span><br></pre></td></tr></table></figure>
<h1 id="components-false"><a href="#components-false" class="headerlink" title="components: false"></a>components: false</h1><p>é€™å€‹åŠŸèƒ½æ˜¯ nuxt v2.13 æ™‚å€™æ‰€å°å…¥çš„åŠŸèƒ½ï¼Œå¯ä»¥è®“ä½ ä¸éœ€è¦ import å°±å¯ä»¥è¼‰å…¥çµ„ä»¶ï¼Œä½†æ˜¯é€™æœƒé€ æˆä¸çŸ¥é“çµ„ä»¶çš„æ­£ç¢ºè·¯å¾‘ä»¥åŠå¯èƒ½æœƒæœ‰å‘½åçš„ç›¸é—œå•é¡Œï¼Œæ‰€ä»¥ä¸æ¨è–¦ä½¿ç”¨<br>åœ¨ nuxt.config.js è£¡é¢æŠŠ components é€™å€‹æ¬„ä½è¨­å®šæˆ falseï¼Œæˆ–æ˜¯ç æ‰é€™å€‹è¨­å®š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">components: <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>nuxt æ•™å­¸</tag>
      </tags>
  </entry>
  <entry>
    <title>äº†è§£ Nuxt æ¶æ§‹è§£æ</title>
    <url>/2021/09/09/vue-nuxt-layout/</url>
    <content><![CDATA[<p><img src="https://imgur.com/wcFw6fe.jpg" alt="Imgur"></p>
<h1 id="nuxt-æŒ‡ä»¤"><a href="#nuxt-æŒ‡ä»¤" class="headerlink" title="nuxt æŒ‡ä»¤"></a>nuxt æŒ‡ä»¤</h1><p>åœ¨ package.json æœ‰ä¸€äº›æŒ‡ä»¤å¯ä»¥æ“ä½œ nuxt</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;dev&quot;: &quot;nuxt&quot;,</span><br><span class="line">  &quot;build&quot;: &quot;nuxt build&quot;,</span><br><span class="line">  &quot;start&quot;: &quot;nuxt start&quot;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p><code>npm run dev</code> é–‹ç™¼ç’°å¢ƒæ™‚ä½¿ç”¨<br><code>npm run build</code> æ‰“åŒ…å°ˆæ¡ˆï¼Œåˆ†åˆ¥æœ‰ Client ç«¯èˆ‡ Server ç«¯<br><code>npm run start</code> ç”¨ Node.js èµ·ä¸€å€‹ Server</p>
<h1 id="è³‡æ–™å¤¾åŠŸèƒ½"><a href="#è³‡æ–™å¤¾åŠŸèƒ½" class="headerlink" title="è³‡æ–™å¤¾åŠŸèƒ½"></a>è³‡æ–™å¤¾åŠŸèƒ½</h1><p>pages - æ”¾é é¢çš„åœ°æ–¹ï¼Œæ–°å¢é é¢å¾Œï¼Œæœƒè‡ªå‹•ç”¢ç”Ÿæ–°é é¢åç¨±çš„ router<br>layouts - é é¢å…±ç”¨çš„ç‰ˆå‹ï¼Œåƒ headerã€footer æœƒé‡è¤‡çš„éƒ¨åˆ†ï¼Œå¯ä»¥å¯«åœ¨ default.vueï¼Œä¾›æ¯é å…±ç”¨</p>
<p>layouts/default.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span>header<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Nuxt</span> /&gt;</span>  // Nuxt ç‚º pages è£¡é¢çš„é é¢ï¼Œåƒæ˜¯ Vue Cli çš„ router-view</span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>components - é é¢çš„æœ€å°å–®ä½çµ„ä»¶<br>assets - éœ€è¦ç¶“é Nuxt ç·¨è­¯æ‰“åŒ…ã€å£“ç¸®çš„æª”æ¡ˆï¼Œå¦‚ CSSã€åœ–ç‰‡ç­‰<br>static - ä¸éœ€ç¶“é Nuxt ç·¨è­¯çš„æª”æ¡ˆï¼Œå¦‚ faviconã€éŸ³æ¨‚ã€Zipã€è‡ªå·±å¯«çš„ json ç­‰<br>store - æ“ä½œ Vuex çš„åœ°æ–¹<br>middleware - é€²å…¥é é¢å‰éœ€è¦åšçš„ä¸­é–“å±¤ï¼Œå¦‚é©—è­‰æª¢æŸ¥ç­‰<br>plugins - è‡ªå®šç¾©çš„ Global nuxt å¥—ä»¶ï¼Œæœƒå¾ nuxt.config.js è‡ªå‹•æ³¨å…¥</p>
<p>ğŸ”¸create-nuxt-app v3.7.1 å®‰è£å®Œå¾Œæ²’æœ‰ layout ä»¥åŠ assets ç›®éŒ„å¯ä»¥è‡ªå·±æ–°å¢</p>
]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
      </tags>
  </entry>
  <entry>
    <title>Nuxt ç”Ÿå‘½é€±æœŸåŠåŸ·è¡Œé †åº</title>
    <url>/2021/09/10/vue-nuxt-lifecycle-hooks/</url>
    <content><![CDATA[<p><img src="https://imgur.com/btmMqMY.jpg" alt="Imgur"></p>
<p>å› ç‚º Nuxt åˆæœ‰ç‰½æ‰¯åˆ° Server çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥ Nuxt çš„ç”Ÿå‘½é€±æœŸæœƒè·Ÿ Vue çš„ Nuxt æœ‰ä¸€é»ä¸å¤ªä¸€æ¨£</p>
<a id="more"></a>

<p><img src="https://imgur.com/Myy3gry.jpg" alt="nuxt"></p>
<h1 id="asyncData"><a href="#asyncData" class="headerlink" title="asyncData"></a>asyncData</h1><p>åœ¨ Server åŸ·è¡Œéšæ®µï¼Œç€è¦½å™¨æ¸²æŸ“ä¹‹å‰çš„ç”Ÿå‘½é€±æœŸï¼ŒServer ç«¯è™•ç†éåŒæ­¥æ™‚ï¼Œå¦‚ API éœ€è¦åšåˆ° SEOï¼Œéœ€åœ¨ asyncData è™•ç†ï¼ŒasyncData åªæœƒåŸ·è¡Œä¸€æ¬¡ã€‚<br>ğŸ”¸ asyncData åªæœ‰åœ¨é é¢é¸æŸ“å‰æ‰æœƒåŸ·è¡Œï¼Œæ‰€ä»¥åªæœ‰åœ¨ <code>pages</code> è£¡çš„ component æ‰èƒ½ä½¿ç”¨ asyncDataï¼Œå¦‚å…¶ä»–è³‡æ–™å¤¾çš„ component ä¹Ÿéœ€è¦ SEOï¼Œéœ€æŠŠè³‡æ–™å¾€ä¸‹å‚³éæˆ–æ˜¯å­˜é€² Vuex æ¸²æŸ“<br>ğŸ”¸ ä¸èƒ½ä½¿ç”¨ thisï¼Œåœ¨ Server éšæ®µåŸ·è¡Œé‚„æ²’ç”¢ç”Ÿ Vue å¯¦é«”<br>ğŸ”¸ ä¸èƒ½ä½¿ç”¨ç€è¦½å™¨æœ‰é—œçš„ APIï¼Œå¦‚ windiw.alertã€document ç­‰ï¼Œå› åœ¨ Server éšæ®µåŸ·è¡Œé‚„æ²’å»ºæ§‹å‡ºç¶²ç«™å…§å®¹</p>
<p>asyncData çš„å…§å®¹å¦‚è·Ÿ data åŒå ï¼ŒasyncData æœƒè¦†è“‹æ‰ data</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;&#123;name&#125;&#125;  // Bobee</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">asyncData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">&#x27;Bobee&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name: <span class="string">&#x27;Lala&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚æƒ³ä¿®æ”¹ asyncData è£¡é¢çš„å€¼ï¼Œç”±æ–¼ asyncData åªæœƒåŸ·è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸èƒ½è¢«å…¶ä»– methods çµ¦æŠ“å–ï¼Œç›´æ¥åœ¨ data æ–°å¢ä¸€æ¨£çš„å…§å®¹ï¼Œå†å»åšæ§åˆ¶å°±å¯ä»¥æ”¹è®Šäº†ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;name = &#x27;Lala&#x27;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;name&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">asyncData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">&#x27;Bobee&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å®˜æ–¹æœ‰æåˆ°ï¼Œæƒ³ç¢ºä¿ API çš„è³‡æ–™å·²ç¶“å›ä¾†ï¼Œå¯ä½¿ç”¨ <code>async await</code> çš„æ–¹å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-for</span>=<span class="string">&quot;item in res&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.url&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.url&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">asyncData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> axios.get(</span><br><span class="line">    <span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    res: res.data,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰“é–‹æª¢æŸ¥åŸå§‹ç¢¼å°‡æœƒç™¼ç¾ï¼Œé€™äº›åœ–ç‰‡éƒ½è¢« Server render åˆ°ç•«é¢ä¸Šä¾†äº†</p>
<h1 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h1><p>nuxt 2.12+çš„æ–°åŠŸèƒ½ï¼Œfetch è·Ÿ asyncData ä¸€æ¨£éƒ½æ˜¯ç”± Server ç«¯åŸ·è¡Œï¼Œä¸¦ render åˆ°ç•«é¢ä¸Šä¾†ï¼Œä¸éæœ‰ä»¥ä¸‹å¹¾é»è·Ÿ asyncData ä¸å¤ªä¸€æ¨£<br>ğŸ”¸ å¯åœ¨ä»»ä½•ä¸€å€‹ component åŸ·è¡Œ<br>ğŸ”¸ å¯å–å¾— thisï¼Œå› åœ¨ created ä¹‹å¾Œ<br>ğŸ”¸ ä¸è¡Œ return è³‡æ–™åˆ° templateï¼Œåªèƒ½é€éè¦†å¯«çš„æ–¹å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123;name&#125;&#125; // é€™é‚Šæœƒè¢«è¦†å¯«ç‚ºBobee</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name: <span class="string">&quot;Lala&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">fetch</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&quot;Bobee&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<p><strong>fetchOnServer</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">fetchOnServer: <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæŠŠ fetchOnServer è¨­å®šæˆ falseï¼Œé‚£é€™æ¨£ fetch å°±åªæœƒåœ¨ client ç«¯è¢«åŸ·è¡Œï¼Œåœ¨æª¢è¦–åŸå§‹ç¢¼è£¡é¢å°±ä¸æœƒæ‰¾åˆ° fetch çš„è³‡æ–™</p>
<br/>

<p><strong>keep-alive</strong><br>å¯ä»¥æŠŠå…§å®¹ç·©å­˜èµ·ä¾†ï¼Œä¸ç”¨é‡è¤‡ render é€ æˆæ•ˆèƒ½å•é¡Œï¼Œåªæœ‰ç”¨ keep-alive æ™‚æ‰å¯ä»¥èª¿ç”¨ activated ç”Ÿå‘½é€±æœŸï¼Œæ¯ç•¶é‡æ–°é€²å…¥é é¢éƒ½æœƒè§¸ç™¼ activated</p>
<br/>

<p><strong>Fetch æä¾›çš„åƒæ•¸</strong><br>$fetchState.pending ( true  |  false ) :  è®“ä½ åœ¨ client ç«¯å»åˆ¤æ–· API è¼‰å…¥å®Œæˆæ²’æœ‰<br>$fetchState.error ( null | { } ) : ç•¶ç™¼ç”Ÿç•«é¢ä¸Šçš„å…§å®¹ç™¼ç”ŸéŒ¯èª¤çš„æ™‚å€™ï¼Œå»åˆ¤æ–·éŒ¯èª¤çš„éƒ¨åˆ†<br>$fetchState.timestamp ( Integer ) : é¡¯ç¤ºæœ€å¾Œä¸€æ¬¡éåŒæ­¥è™•ç†çš„æ™‚é–“</p>
<p>ç¯„ä¾‹:<br>layouts/default.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>HOME<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Nuxt</span> <span class="attr">keep-alive</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>pages/index.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;$fetchState.pending&quot;</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;$fetchState.error&quot;</span>&gt;</span>ERROR &#123;&#123;$fetchState.error&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-for</span>=<span class="string">&quot;item in res&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.url&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.url&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      res: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  fetchOnServer: <span class="literal">false</span>,</span><br><span class="line">  <span class="function"><span class="title">activated</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–·ä¸Šæ¬¡åŸ·è¡Œçš„ timestamp è·Ÿç¾åœ¨çš„æ™‚é–“å¦‚ç›¸å·®è¶…é 10 ç§’ï¼Œå°‡æœƒé‡æ–°åŸ·è¡Œ fetch</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.$fetchState.timestamp &lt;= <span class="built_in">Date</span>.now() - <span class="number">10000</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.$fetch();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="title">fetch</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.res = <span class="keyword">await</span> axios.get(<span class="string">&#x27;https://vue-lessons-api.herokuapp.com/photo/list&#x27;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> res.data);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br/>

<h1 id="ç”Ÿå‘½é€±æœŸåŸ·è¡Œé †åº"><a href="#ç”Ÿå‘½é€±æœŸåŸ·è¡Œé †åº" class="headerlink" title="ç”Ÿå‘½é€±æœŸåŸ·è¡Œé †åº"></a>ç”Ÿå‘½é€±æœŸåŸ·è¡Œé †åº</h1><p>å°‡ç”Ÿå‘½é€±æœŸ console.log å‡ºä¾†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">asyncData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;asyncData&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;beforeCreate&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;created&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;mounted&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">fetch</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;fetch&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é †åºç‚º<br>asyncData â†’ <code>beforeCreate</code> â†’ <code>created</code> â†’ fetch â†’ <code>beforeCreate</code> â†’ <code>created</code> â†’ mounted<br>å°‡æœƒç™¼ç¾ beforeCreateã€created æœƒè¢«åŸ·è¡Œå…©æ¬¡ï¼ŒåŸå› æ˜¯ Server ç«¯å’Œ Client ç«¯éƒ½æœƒæœ‰ beforeCreateã€createdï¼Œæ‰€ä»¥éœ€è¦å†åšä¸€äº›åˆ¤æ–·æˆ–è™•ç†ï¼Œä¸ç„¶æœ‰å¯èƒ½é‡è¤‡çš„æ±è¥¿æœƒè¢«åŸ·è¡Œå…©æ¬¡ã€‚</p>
]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>asyncData</tag>
        <tag>fetch</tag>
        <tag>keep-alive</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨ Nuxt è¨­å®š loading æ•ˆæœ</title>
    <url>/2021/09/13/vue-nuxt-loading/</url>
    <content><![CDATA[<p><img src="https://imgur.com/MUS8ao2.jpg" alt="Imgur"></p>
<h1 id="loading-é–‹é—œ"><a href="#loading-é–‹é—œ" class="headerlink" title="loading é–‹é—œ"></a>loading é–‹é—œ</h1><p>é è¨­ loading é–‹é—œç‚º trueï¼Œå¦‚æƒ³é—œé–‰ loading å¯åœ¨ nuxt.config.js è¨­å®š</p>
<a id="more"></a>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  loading: <span class="literal">false</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="ä¿®æ”¹-loading-æ¨£å¼"><a href="#ä¿®æ”¹-loading-æ¨£å¼" class="headerlink" title="ä¿®æ”¹ loading æ¨£å¼"></a>ä¿®æ”¹ loading æ¨£å¼</h1><p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  loading: &#123;</span><br><span class="line">    color: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">    height: <span class="string">&#x27;5px&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="å®¢è£½-loading"><a href="#å®¢è£½-loading" class="headerlink" title="å®¢è£½ loading"></a>å®¢è£½ loading</h1><p>åœ¨ components ç›®éŒ„æ–°å¢ä¸€å€‹ loading.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">&quot;html&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading-page&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;loading&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    loading: <span class="literal">false</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="function"><span class="title">start</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.loading = <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">finish</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.loading = <span class="literal">false</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading-page</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.8</span>);</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ nuxt.config.js è¨­å®š loading çš„çµ„ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  loading: <span class="string">&#x27;~/components/loading.vue&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="é»æ“Šé–‹é—œ-loading"><a href="#é»æ“Šé–‹é—œ-loading" class="headerlink" title="é»æ“Šé–‹é—œ loading"></a>é»æ“Šé–‹é—œ loading</h1><p>å¯ä»¥å¾ this.$nuxt çš„ç‰©ä»¶ï¼Œå»æŠ“ $loadingï¼Œ$loading å°±æ˜¯ components/loading.vue çš„çµ„ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;openLoading&quot;</span>&gt;</span>loading<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  <span class="function"><span class="title">openLoading</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$nuxt.$loading.start(); <span class="comment">// å•Ÿå‹• loading</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.$nuxt.$loading.finish(); <span class="comment">// é—œé–‰ loading</span></span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>loading</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ Nuxt é‡æ–°åŒ…è£ cookie èˆ‡ localStorage ç­‰æ–¹æ³•</title>
    <url>/2021/10/12/vue-nuxt-localStorage/</url>
    <content><![CDATA[<p><img src="https://imgur.com/mRrJH3R.jpg" alt="Imgur"></p>
<p>åœ¨é–‹ç™¼ç¶²é æ™‚ï¼Œæˆ–å¤šæˆ–å°‘æœƒç”¨åˆ° localStorage çš„æ–¹æ³•å»å­˜å–è³‡æ–™ï¼Œåœ¨å–å¾—ç‰©ä»¶æ™‚ï¼Œéœ€åšä¸€äº› JSON çš„è½‰æ›ï¼Œä¾¿èƒ½å°‡è³‡æ–™å–å‡º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;data&#x27;</span>, <span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: <span class="string">&#x27;bobee&#x27;</span> &#125;));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;data&#x27;</span>)));</span><br></pre></td></tr></table></figure>
<p>ä½†æ¯æ¬¡éƒ½è¦é€™æ¨£è½‰æ›å…¶å¯¦æœ‰é»éº»ç…©ï¼Œå¦‚æœæœ‰å¾ˆå¤šåœ°æ–¹éƒ½è¦ä½¿ç”¨é€™å€‹æ–¹æ³•ï¼Œå°±å¿…é ˆå¯«ä¸€å † JSON.stringifyã€JSON.parseï¼Œç‚ºäº†æ›´æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥å°‡æ–¹æ³•åŒ…è£ï¼Œä¾›å…¨ç«™ä½¿ç”¨ã€‚</p>
<a id="more"></a>

<h1 id="åŒ…è£-localStorage"><a href="#åŒ…è£-localStorage" class="headerlink" title="åŒ…è£ localStorage"></a>åŒ…è£ localStorage</h1><h2 id="æ–°å¢-localStorage-jsï¼Œè‡ªè¡Œæ³¨å…¥-localStorage-æ–¹æ³•"><a href="#æ–°å¢-localStorage-jsï¼Œè‡ªè¡Œæ³¨å…¥-localStorage-æ–¹æ³•" class="headerlink" title="æ–°å¢ localStorage.jsï¼Œè‡ªè¡Œæ³¨å…¥ localStorage æ–¹æ³•"></a>æ–°å¢ localStorage.jsï¼Œè‡ªè¡Œæ³¨å…¥ localStorage æ–¹æ³•</h2><p>plugins/localStorage.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; app &#125;, inject) =&gt; &#123;</span><br><span class="line">  inject(<span class="string">&#x27;localStorage&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// è¨­å®š key</span></span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">key = <span class="string">&#x27;&#x27;</span>, val = &#123;&#125;</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">localStorage</span>.setItem(key, <span class="built_in">JSON</span>.stringify(val));</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å–å¾— key</span></span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params">key = <span class="string">&#x27;&#x27;</span></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> obj = <span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(key));</span><br><span class="line">      <span class="comment">// å¦‚æœ obj æ²’æœ‰æ±è¥¿ï¼Œå›å‚³ç©ºç‰©ä»¶ï¼Œæ­¤å¯«æ³•åœ¨ç¨‹å¼ä¸Šæœƒæ¯”è¼ƒå¥½åˆ¤æ–·ï¼Œä¹Ÿå¯æ¸›å°‘éŒ¯èª¤ç™¼ç”Ÿ</span></span><br><span class="line">      <span class="keyword">if</span> (!obj) <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">      <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç§»é™¤ key</span></span><br><span class="line">    <span class="function"><span class="title">remove</span>(<span class="params">key = <span class="string">&#x27;&#x27;</span></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">localStorage</span>.removeItem(key);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç§»é™¤æ‰€æœ‰ key</span></span><br><span class="line">    <span class="function"><span class="title">removeAll</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">localStorage</span>.clear();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åˆ¥å¿˜äº† nuxt.config.js ä¹Ÿè¦åŠ ä¸Š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">plugins: [<span class="string">&quot;~/plugins/localStorage.js&quot;</span>],</span><br></pre></td></tr></table></figure>
<br>

<h2 id="èª¿ç”¨-localStorage"><a href="#èª¿ç”¨-localStorage" class="headerlink" title="èª¿ç”¨ $localStorage"></a>èª¿ç”¨ $localStorage</h2><p>inject localStorage çš„æ–¹æ³•å¾Œï¼Œå°±å¯ä»¥åœ¨å…¨ç«™éš¨å¿ƒæ‰€æ¬²çš„ä½¿ç”¨ this.$localStorage äº†!</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$localStorage.set(<span class="string">&quot;data&quot;</span>, &#123; <span class="attr">name</span>: <span class="string">&quot;bobee&quot;</span> &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.$localStorage.get(<span class="string">&quot;data&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="åŒ…è£-cookies"><a href="#åŒ…è£-cookies" class="headerlink" title="åŒ…è£ cookies"></a>åŒ…è£ cookies</h1><p>cookie ä¹Ÿæ˜¯åŒåŒ…è£ localStorage çš„ä½œæ³•ï¼Œè€Œ cookie å¯ä»¥ä½¿ç”¨ <a href="https://github.com/js-cookie/js-cookie">Js-cookie</a> å¥—ä»¶æ›´æ–¹ä¾¿æ“ä½œ</p>
<h2 id="å®‰è£-Js-cookie"><a href="#å®‰è£-Js-cookie" class="headerlink" title="å®‰è£ Js-cookie"></a>å®‰è£ Js-cookie</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i js-cookie -S</span><br></pre></td></tr></table></figure>
<br>

<h2 id="æ–°å¢-cookie-jsï¼Œè‡ªè¡Œæ³¨å…¥-cookies-æ–¹æ³•"><a href="#æ–°å¢-cookie-jsï¼Œè‡ªè¡Œæ³¨å…¥-cookies-æ–¹æ³•" class="headerlink" title="æ–°å¢ cookie.jsï¼Œè‡ªè¡Œæ³¨å…¥ cookies æ–¹æ³•"></a>æ–°å¢ cookie.jsï¼Œè‡ªè¡Œæ³¨å…¥ cookies æ–¹æ³•</h2><p>plugins/cookie.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Cookies <span class="keyword">from</span> <span class="string">&#x27;js-cookie&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; app &#125;, inject) =&gt; &#123;</span><br><span class="line">  inject(<span class="string">&#x27;cookies&#x27;</span>, &#123;</span><br><span class="line">    set: <span class="function">(<span class="params">name, value = &#123;&#125;, expires = &#123; expires: <span class="number">365</span> &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      Cookies.set(name, value, expires);</span><br><span class="line">    &#125;,</span><br><span class="line">    get: <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> val = Cookies.get(name);</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(val);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    remove: <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">      Cookies.remove(name);</span><br><span class="line">    &#125;,</span><br><span class="line">    removeAll: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> NodeList = <span class="built_in">Object</span>.keys(Cookies.get());</span><br><span class="line">      NodeList.forEach(<span class="function">(<span class="params">el</span>) =&gt;</span> Cookies.remove(el));</span><br><span class="line">      <span class="built_in">window</span>.location.replace(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">plugins: [<span class="string">&quot;~/plugins/cookie.js&quot;</span>],</span><br></pre></td></tr></table></figure>
<br>

<h2 id="èª¿ç”¨-cookies"><a href="#èª¿ç”¨-cookies" class="headerlink" title="èª¿ç”¨ $cookies"></a>èª¿ç”¨ $cookies</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$cookies.set(<span class="string">&quot;bobee&quot;</span>, &#123; <span class="attr">age</span>: <span class="number">11</span> &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.$cookies.get(<span class="string">&quot;bobee&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ç­†è¨˜ä¾†æº-2021-Vue3-å°ˆæ¥­è·äºº-é€²éšç¯‡"><a href="#ç­†è¨˜ä¾†æº-2021-Vue3-å°ˆæ¥­è·äºº-é€²éšç¯‡" class="headerlink" title="ç­†è¨˜ä¾†æº: 2021 Vue3 å°ˆæ¥­è·äºº | é€²éšç¯‡"></a>ç­†è¨˜ä¾†æº: 2021 Vue3 å°ˆæ¥­è·äºº | é€²éšç¯‡</h3>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>cookie</tag>
        <tag>localStorage</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åœ¨ Nuxt ä½¿ç”¨ Plugins</title>
    <url>/2021/10/11/vue-nuxt-plugins/</url>
    <content><![CDATA[<p><img src="https://imgur.com/ig2CVFl.jpg" alt="Plugins"><br>æˆ‘å€‘å¸¸å¸¸æœƒä½¿ç”¨åˆ°å¥—ä»¶ï¼Œå¹«åŠ©ç¶²ç«™å¿«é€Ÿé”åˆ°æƒ³è¦çš„æ•ˆæœï¼Œåœ¨ NUXT è¦æ€éº¼è‡ªè¡Œæ’°å¯«å¥—ä»¶ã€å¦‚ä½•æ•´åˆç¾æœ‰çš„å¥—ä»¶ã€æˆ–æ˜¯æ•´åˆç¬¬ä¸‰æ–¹å¥—ä»¶å‘¢?</p>
<a id="more"></a>

<h1 id="è‡ªå·±æ’°å¯«çš„-Plugins"><a href="#è‡ªå·±æ’°å¯«çš„-Plugins" class="headerlink" title="è‡ªå·±æ’°å¯«çš„ Plugins"></a>è‡ªå·±æ’°å¯«çš„ Plugins</h1><p>è‡ªå·±æ’°å¯« Plugins èµ·æ‰‹å¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; app &#125;, inject) =&gt; &#123;</span><br><span class="line">  inject(<span class="string">&#x27;EventName&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// æƒ³åšçš„äº‹æƒ…</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>inject æœƒæŠŠä½ æ‰€å¯«çš„æ±è¥¿ï¼Œæ³¨å…¥åˆ°æ•´å€‹ç’°å¢ƒï¼Œ<br>EventName æ˜¯è‡ªå®šç¾©çš„æ–¹æ³•åç¨±ï¼Œå¯ä»¥åœ¨é é¢å‘¼å«<code>this.$EventName</code>ä½¿ç”¨ã€‚</p>
<h2 id="1-åœ¨-plugins-è³‡æ–™å¤¾æ–°å¢è‡ªå®šç¾©çš„-js"><a href="#1-åœ¨-plugins-è³‡æ–™å¤¾æ–°å¢è‡ªå®šç¾©çš„-js" class="headerlink" title="1.åœ¨ plugins è³‡æ–™å¤¾æ–°å¢è‡ªå®šç¾©çš„ js"></a>1.åœ¨ plugins è³‡æ–™å¤¾æ–°å¢è‡ªå®šç¾©çš„ js</h2><p>/plugins/demo.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; app &#125;, inject) =&gt; &#123;</span><br><span class="line">  inject(<span class="string">&#x27;EventName&#x27;</span>, &#123;</span><br><span class="line">    <span class="function"><span class="title">log</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;EventName=&gt;&#x27;</span>, val);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br>

<h2 id="2-è¼‰å…¥-demo-js"><a href="#2-è¼‰å…¥-demo-js" class="headerlink" title="2.è¼‰å…¥ demo.js"></a>2.è¼‰å…¥ demo.js</h2><p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">plugins: [<span class="string">&#x27;~/plugins/demo.js&#x27;</span>];</span><br></pre></td></tr></table></figure>
<br>

<h2 id="3-èª¿ç”¨è‡ªå®šç¾©çš„æ–¹æ³•"><a href="#3-èª¿ç”¨è‡ªå®šç¾©çš„æ–¹æ³•" class="headerlink" title="3.èª¿ç”¨è‡ªå®šç¾©çš„æ–¹æ³•"></a>3.èª¿ç”¨è‡ªå®šç¾©çš„æ–¹æ³•</h2><p>index.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// SSR æ²’æœ‰ thisï¼Œç›´æ¥èª¿ç”¨ $EventName</span></span><br><span class="line"><span class="function"><span class="title">asyncData</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">  context.$EventName.log(<span class="string">&quot;asyncData&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// CSR æ²’æœ‰ thisï¼Œç›´æ¥èª¿ç”¨ $EventName</span></span><br><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.$EventName.log(<span class="string">&quot;mounted&quot;</span>));</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<br>

<h1 id="æ•´åˆç¾æœ‰çš„-Nuxt-Plugins"><a href="#æ•´åˆç¾æœ‰çš„-Nuxt-Plugins" class="headerlink" title="æ•´åˆç¾æœ‰çš„ Nuxt Plugins"></a>æ•´åˆç¾æœ‰çš„ Nuxt Plugins</h1><p>ä»¥ <a href="https://axios.nuxtjs.org/">axios</a> åšç‚ºç¯„ä¾‹</p>
<h2 id="1-å®‰è£-nuxt-axios"><a href="#1-å®‰è£-nuxt-axios" class="headerlink" title="1.å®‰è£ nuxt axios"></a>1.å®‰è£ nuxt axios</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install @nuxtjs/axios</span><br></pre></td></tr></table></figure>
<br>

<h2 id="2-è¨­å®š-modules"><a href="#2-è¨­å®š-modules" class="headerlink" title="2.è¨­å®š modules"></a>2.è¨­å®š modules</h2><p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">modules: [<span class="string">&quot;@nuxtjs/axios&quot;</span>],</span><br></pre></td></tr></table></figure>
<p>è¨­å®š modules å¾Œï¼Œå°±å¯ä»¥ç”¨ context.$axios å»åšæ“ä½œäº†ï¼Œ<br>ä¹Ÿå¯ä½¿ç”¨è§£æ§‹çš„æ–¹å¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">asyncData</span>(<span class="params">&#123; $axios &#125;</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> $axios.get(</span><br><span class="line">    <span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="built_in">console</span>.log(res.data);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<br>

<h2 id="3-å°è£-axios-çš„éŒ¯èª¤è™•ç†"><a href="#3-å°è£-axios-çš„éŒ¯èª¤è™•ç†" class="headerlink" title="3.å°è£ axios çš„éŒ¯èª¤è™•ç†"></a>3.å°è£ axios çš„éŒ¯èª¤è™•ç†</h2><p>åœ¨ plugins æ–°å¢ axios.jsï¼Œç”¨ä¾†è™•ç† onError</p>
<p>plugins/axios.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">&#123; $axios, redirect &#125;</span>) </span>&#123;</span><br><span class="line">  $axios.onError(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//axios å¦‚ç™¼ç”ŸéŒ¯èª¤ï¼ŒonError å¯ä¾å…§å®¹å»åšå¾ŒçºŒè™•ç†</span></span><br><span class="line">    <span class="keyword">if</span> (error.response.status === <span class="number">500</span>) &#123;</span><br><span class="line">      redirect(<span class="string">&#x27;/sorry&#x27;</span>); <span class="comment">// è·³è½‰é é¢</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (error.response.status === <span class="number">404</span>) &#123;</span><br><span class="line">      redirect(<span class="string">&#x27;/404&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¦åœ¨ nuxt.config.js æ–°å¢ plugins</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">plugins: [<span class="string">&quot;~/plugins/axios.js&quot;</span>],</span><br></pre></td></tr></table></figure>
<p>é€™éº¼ä¸€ä¾†æ•´å€‹ global éƒ½å¯ä»¥ä½¿ç”¨åˆ°é€™å€‹ axios çš„éŒ¯èª¤è™•ç†</p>
<br>

<h1 id="ç¬¬ä¸‰æ–¹å¥—ä»¶æ•´åˆ-Nuxt"><a href="#ç¬¬ä¸‰æ–¹å¥—ä»¶æ•´åˆ-Nuxt" class="headerlink" title="ç¬¬ä¸‰æ–¹å¥—ä»¶æ•´åˆ Nuxt"></a>ç¬¬ä¸‰æ–¹å¥—ä»¶æ•´åˆ Nuxt</h1><p>é€šå¸¸ä½¿ç”¨ Nuxt è£½ä½œæ™‚ï¼Œæœƒæ‰¾å¯ä»¥ç›´æ¥åœ¨ Nuxt ä½¿ç”¨çš„å¥—ä»¶ï¼Œå¦‚æœæƒ³ä½¿ç”¨çš„å¥—ä»¶ä¸æ˜¯ Nuxt å°ˆç”¨ï¼Œæˆ‘å€‘éœ€è¦å°‡ä¸€èˆ¬çš„ VUE å¥—ä»¶ï¼ŒåŒ…è£æˆ NUXT å†åšä½¿ç”¨ï¼Œéœ€æ³¨æ„å¥—ä»¶æœ‰æ²’æœ‰æ”¯æ´ SSR</p>
<p>ä»¥ Vue.js <a href="https://github.com/euvl/vue-notification#readme">notifications</a> å¥—ä»¶åšç‚ºç¯„ä¾‹ï¼Œæ˜¯ä¸€å€‹å½ˆå‡ºé€šçŸ¥è¨Šæ¯çš„å¥—ä»¶</p>
<h2 id="1-å®‰è£-notifications"><a href="#1-å®‰è£-notifications" class="headerlink" title="1.å®‰è£ notifications"></a>1.å®‰è£ notifications</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">npm install --save vue-notification</span><br></pre></td></tr></table></figure>
<p>å…ˆå°‡ notifications å®‰è£èµ·ä¾†</p>
<br>

<h2 id="2-æ–°å¢-notifications-js-ä¸¦å¼•ç”¨"><a href="#2-æ–°å¢-notifications-js-ä¸¦å¼•ç”¨" class="headerlink" title="2.æ–°å¢ notifications.js ä¸¦å¼•ç”¨"></a>2.æ–°å¢ notifications.js ä¸¦å¼•ç”¨</h2><p>åœ¨ plugins æ–°å¢ notification.js<br>notification.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="comment">// import Notifications from &#x27;vue-notification&#x27; æ­¤ç‚º CSR ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">import</span> Notifications <span class="keyword">from</span> <span class="string">&#x27;vue-notification/dist/ssr.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Notifications);</span><br></pre></td></tr></table></figure>
<p>æœ¬ä¾†åœ¨ CSR æ™‚æ˜¯æ”¾åœ¨ main.js çš„å¼•å…¥ï¼ŒNUXT æ˜¯æ”¾åœ¨ notification.jsï¼Œä½¿ç”¨ SSR çš„æ–¹å¼å¼•å…¥</p>
<p>åœ¨ nuxt.config.js æ–°å¢ plugins</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">  <span class="string">&quot;~/plugins/notification.js&quot;</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<br>

<h2 id="3-ä½¿ç”¨å¥—ä»¶æ–¹æ³•"><a href="#3-ä½¿ç”¨å¥—ä»¶æ–¹æ³•" class="headerlink" title="3.ä½¿ç”¨å¥—ä»¶æ–¹æ³•"></a>3.ä½¿ç”¨å¥—ä»¶æ–¹æ³•</h2><p>ç”±æ–¼æ­¤å¥—ä»¶å±¬æ–¼å…¨ç«™çš†å¯ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æ”¾åœ¨ layoutsï¼Œè¨Šæ¯ position å¯ä»¥ä¾éœ€æ±‚èª¿æ•´</p>
<p>layouts/default.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">notifications</span> <span class="attr">position</span>=<span class="string">&quot;bottom right&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>pages/index.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showNotice&quot;</span>&gt;</span>CLICK<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  <span class="function"><span class="title">showNotice</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// using options</span></span><br><span class="line">    <span class="built_in">this</span>.$notify(&#123;</span><br><span class="line">      title: <span class="string">&quot;Important message&quot;</span>,</span><br><span class="line">      text: <span class="string">&quot;Hello user!&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<br>

<h2 id="4-åŒ¯å…¥-CSS"><a href="#4-åŒ¯å…¥-CSS" class="headerlink" title="4.åŒ¯å…¥ CSS"></a>4.åŒ¯å…¥ CSS</h2><p>NUXT å¥—ä»¶æ•´åˆï¼Œå¯èƒ½æœƒé‡åˆ°åƒä¸åˆ° CSS çš„æƒ…æ³ï¼Œéœ€è‡ªè¡ŒåŒ¯å…¥ CSS<br>åœ¨ assets æ–°å¢ notifications.cssï¼Œä¸¦å…¨åŸŸåŒ¯å…¥</p>
<p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">css: [<span class="string">&#x27;~/assets/notifications.css&#x27;</span>];</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ç­†è¨˜ä¾†æº-2021-Vue3-å°ˆæ¥­è·äºº-é€²éšç¯‡"><a href="#ç­†è¨˜ä¾†æº-2021-Vue3-å°ˆæ¥­è·äºº-é€²éšç¯‡" class="headerlink" title="ç­†è¨˜ä¾†æº: 2021 Vue3 å°ˆæ¥­è·äºº | é€²éšç¯‡"></a>ç­†è¨˜ä¾†æº: 2021 Vue3 å°ˆæ¥­è·äºº | é€²éšç¯‡</h3>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>plugins</tag>
      </tags>
  </entry>
  <entry>
    <title>Nuxt è‡ªå‹•åŒ– Router é…ç½®</title>
    <url>/2021/09/12/vue-nuxt-router/</url>
    <content><![CDATA[<p><img src="https://imgur.com/kyou2GQ.jpg" alt="Imgur"></p>
<p>Nuxt è¨­ç½®è·¯ç”±éå¸¸æ–¹ä¾¿ï¼Œåªè¦æ–°å¢å¥½ component å°±æœƒè‡ªå‹•è¨­å®šå¥½é é¢</p>
<h1 id="Router-æ›´æ›é é¢çš„é€²å…¥é»"><a href="#Router-æ›´æ›é é¢çš„é€²å…¥é»" class="headerlink" title="Router æ›´æ›é é¢çš„é€²å…¥é»"></a>Router æ›´æ›é é¢çš„é€²å…¥é»</h1><p>åœ¨ layouts å¯ä»¥æ”¾é€²æ¯é å…±ç”¨çš„éƒ¨åˆ†ï¼Œèˆ‡ä¸€å€‹éš¨è‘— pages è®ŠåŒ–å…§å®¹çš„é€²å…¥é»ï¼Œç›¸ç•¶æ–¼åœ¨ Vue Cli çš„ router-view ï¼Œåœ¨ Nuxt çš„é€²å…¥é»ç”¨ Nuxt</p>
<a id="more"></a>

<p>layouts/default.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Nuxt</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="åµŒå¥—-router-æ‰€æ›´æ›é é¢çš„é€²å…¥é»"><a href="#åµŒå¥—-router-æ‰€æ›´æ›é é¢çš„é€²å…¥é»" class="headerlink" title="åµŒå¥— router æ‰€æ›´æ›é é¢çš„é€²å…¥é»"></a>åµŒå¥— router æ‰€æ›´æ›é é¢çš„é€²å…¥é»</h1><p>About ä¸‹é¢é‚„æœ‰å­è·¯ç”±ï¼Œåªè¦åœ¨ pages æ–°å¢ About è³‡æ–™å¤¾ï¼Œå†æ”¾é€² componentï¼Œå°±æœƒè‡ªå‹•ç”Ÿæˆåº•ä¸‹çš„è·¯ç”±å•¦ï¼</p>
<p><img src="https://imgur.com/w5m1vIX.jpg" alt="Imgur"></p>
<p>åµŒå¥—è·¯ç”±çš„é€²å…¥é»ç‚º NuxtChildï¼Œè€Œä¸æ˜¯ç”¨åŸæœ¬çš„ router-viewï¼Œé€™æ¨£åœ¨è­˜åˆ¥çš„æ™‚å€™ä¹Ÿæœƒæ¯”è¼ƒå¥½è­˜åˆ¥é€™å€‹çµ„ä»¶æ˜¯ä¸æ˜¯ç”¨åµŒå¥—ç¶²å€<br>pages/About.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;about&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/about/guide&quot;</span>&gt;</span>Guide<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/about/reference&quot;</span>&gt;</span>API Reference<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/about/changelog&quot;</span>&gt;</span>Changelog <span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/about/gitHub&quot;</span>&gt;</span>GitHub<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NuxtChild</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="Nuxt-åˆ‡æ›é é¢çš„è¶…é€£çµå…ƒä»¶"><a href="#Nuxt-åˆ‡æ›é é¢çš„è¶…é€£çµå…ƒä»¶" class="headerlink" title="Nuxt åˆ‡æ›é é¢çš„è¶…é€£çµå…ƒä»¶"></a>Nuxt åˆ‡æ›é é¢çš„è¶…é€£çµå…ƒä»¶</h1><p>åœ¨ Vue Cli ç‚º router-linkï¼Œåœ¨ Nuxt è¦å¯« NuxtLinkï¼Œç”¨æ³•è·Ÿ router-link ä¸€æ¨¡ä¸€æ¨£ï¼Œé›–ç„¶åœ¨ Nuxt è£¡ router-link ä¹Ÿå¯ä»¥åŸ·è¡Œï¼Œä½†ä»¥é˜²è¬ä¸€éé æœŸçš„éŒ¯èª¤ï¼Œåœ¨ Nuxt é‚„æ˜¯ç”¨ NuxtLink å§ï¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">NuxtLink</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>aboutÂ page<span class="tag">&lt;/<span class="name">NuxtLink</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="å‹•æ…‹-Router-é…ç½®"><a href="#å‹•æ…‹-Router-é…ç½®" class="headerlink" title="å‹•æ…‹ Router é…ç½®"></a>å‹•æ…‹ Router é…ç½®</h1><p>åœ¨è¦è¨­ç½®å‹•æ…‹è·¯ç”±çš„è³‡æ–™å¤¾ï¼Œæ–°å¢ä¸€å€‹åç‚º<code>_id.vue</code> çš„ componentï¼Œid ç‚ºè‡ªå®šç¾©çš„åå­—ï¼Œä¸»è¦å‰é¢è¦åŠ åº•ç·š</p>
<p><img src="https://imgur.com/HItJoSV.jpg" alt="Imgur"></p>
<p>asyncData æœƒå›å‚³ä¸€å€‹ context ç‰©ä»¶ï¼Œcontext.params.id å¯å–å¾—å‹•æ…‹è·¯ç”±</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">asyncData</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(context.params.id);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      id: context.params.id,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>Router</tag>
      </tags>
  </entry>
  <entry>
    <title>Nuxt çš„ SEO è¨­å®š</title>
    <url>/2021/09/12/vue-nuxt-seo/</url>
    <content><![CDATA[<p><img src="https://imgur.com/s07cfNA.jpg" alt="Imgur"></p>
<p>åšå¥½ SEOï¼Œå¯ä»¥å¢å¼·ç¶²ç«™çš„è‡ªç„¶æœå°‹æ’åï¼Œä¸åŒçš„é é¢é€šå¸¸æœƒæœ‰ä¸åŒçš„ titleã€é—œéµå­—ï¼ŒNuxt å¯ä»¥å¹«æˆ‘å€‘åšåˆ°é€™ä»¶äº‹ã€‚</p>
<h1 id="Global-Settings"><a href="#Global-Settings" class="headerlink" title="Global Settings"></a>Global Settings</h1><p>è¨­å®šæ•´å€‹ç¶²ç«™çš„ SEOï¼Œåœ¨é€™è£¡ä½ å¯ä»¥å®šç¾©æ‰€æœ‰çš„ meta</p>
<a id="more"></a>

<p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">head: &#123;</span><br><span class="line">  title: <span class="string">&quot;ä¸€æ–‡å‰ç«¯å¤§å°äº‹&quot;</span>,</span><br><span class="line">  htmlAttrs: &#123;</span><br><span class="line">    lang: <span class="string">&quot;en&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  meta: [</span><br><span class="line">    &#123; <span class="attr">charset</span>: <span class="string">&quot;utf-8&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;viewport&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;width=device-width, initial-scale=1&quot;</span> &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      hid: <span class="string">&quot;description&quot;</span>,</span><br><span class="line">      name: <span class="string">&quot;description&quot;</span>,</span><br><span class="line">      content: <span class="string">&quot;ä¸€èµ·é‘½ç ”å‰ç«¯æŠ€è¡“å§^^&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;format-detection&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;telephone=no&quot;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  link: [&#123; <span class="attr">rel</span>: <span class="string">&quot;icon&quot;</span>, <span class="attr">type</span>: <span class="string">&quot;image/x-icon&quot;</span>, <span class="attr">href</span>: <span class="string">&quot;/favicon.ico&quot;</span> &#125;]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h1 id="Local-Settings"><a href="#Local-Settings" class="headerlink" title="Local Settings"></a>Local Settings</h1><p>è¦è¨­å®šæ¯é çš„ SEO ä¹Ÿå¾ˆç°¡å–®ï¼Œåªè¦æŠŠ head æ¬å»è¦è¨­å®šçš„é é¢å°±å¯ä»¥äº†<br>pages/about.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  head: &#123;</span><br><span class="line">    title: <span class="string">&#x27;é—œæ–¼æˆ‘å€‘&#x27;</span>,</span><br><span class="line">    htmlAttrs: &#123;</span><br><span class="line">      lang: <span class="string">&#x27;en&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    meta: [</span><br><span class="line">      &#123; <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&#x27;viewport&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;width=device-width, initial-scale=1&#x27;</span> &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        hid: <span class="string">&#x27;description&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;description&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;é—œæ–¼æˆ‘å€‘çš„é é¢&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&#x27;format-detection&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;telephone=no&#x27;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">    link: [&#123; <span class="attr">rel</span>: <span class="string">&#x27;icon&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;image/x-icon&#x27;</span>, <span class="attr">href</span>: <span class="string">&#x27;/favicon.ico&#x27;</span> &#125;],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br>
å¦‚æœè¦åˆ©ç”¨ data çš„è³‡æ–™ï¼Œæ”¹è®Š head çš„å…§å®¹ï¼Œå¯ä»¥æŠŠ head è®Šæˆå‡½å¼çš„æ–¹å¼ return

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    title: <span class="string">&quot;dataçš„é—œæ–¼æˆ‘å€‘&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">head</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    title: <span class="built_in">this</span>.title,</span><br><span class="line">    htmlAttrs: &#123;</span><br><span class="line">      lang: <span class="string">&quot;en&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    meta: [</span><br><span class="line">      &#123; <span class="attr">charset</span>: <span class="string">&quot;utf-8&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;viewport&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;width=device-width, initial-scale=1&quot;</span> &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        hid: <span class="string">&quot;description&quot;</span>,</span><br><span class="line">        name: <span class="string">&quot;description&quot;</span>,</span><br><span class="line">        content: <span class="string">&quot;é—œæ–¼æˆ‘å€‘çš„é é¢&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;format-detection&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;telephone=no&quot;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">    link: [&#123; <span class="attr">rel</span>: <span class="string">&quot;icon&quot;</span>, <span class="attr">type</span>: <span class="string">&quot;image/x-icon&quot;</span>, <span class="attr">href</span>: <span class="string">&quot;/favicon.ico&quot;</span> &#125;],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h1 id="SSR-è¨­å®š"><a href="#SSR-è¨­å®š" class="headerlink" title="SSR è¨­å®š"></a>SSR è¨­å®š</h1><p>Nuxt çš„ SSR é è¨­æ˜¯é–‹å•Ÿï¼Œå¯¦éš›ä¸Š Nuxt ä¹Ÿå¯ä»¥é–‹ç™¼ SPA æ¨¡å¼ï¼Œæ‰“åŒ…æ™‚å°±åªæœƒè¼¸å‡º Client ç«¯çš„éƒ¨åˆ†</p>
<p>nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  ssr: <span class="literal">false</span>, <span class="comment">// é—œé–‰ SSRï¼Œä½¿ç”¨ SPA é–‹ç™¼æ¨¡å¼</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>SEO</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ Nuxt ç®¡ç† vuex ç‹€æ…‹</title>
    <url>/2021/10/16/vue-nuxt-vuex/</url>
    <content><![CDATA[<p><img src="https://imgur.com/mRrJH3R.jpg" alt="Imgur"></p>
<p>è¦åœ¨ Nuxt ä½¿ç”¨ vuex ï¼Œç›´æ¥åœ¨ store æ–°å¢ index.jsï¼Œä¸¦ç”¨å‡½å¼çš„æ–¹å¼å›å‚³ stateï¼ŒåŠ å…¥ actionsã€mutationsã€gettersï¼Œå³å¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<a id="more"></a>

<h1 id="Nuxt-æ“ä½œ-vuex"><a href="#Nuxt-æ“ä½œ-vuex" class="headerlink" title="Nuxt æ“ä½œ vuex"></a>Nuxt æ“ä½œ vuex</h1><p>store/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Â state</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> state = <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">  idx: <span class="number">0</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Â actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="function"><span class="title">handAddCount</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">    commit(<span class="string">&#x27;addCount&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Â mutations</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;</span><br><span class="line">  <span class="function"><span class="title">addCount</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">    state.idx++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Â getters</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getters = &#123;</span><br><span class="line">  <span class="function"><span class="title">getIdx</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`count: <span class="subst">$&#123;state.idx&#125;</span>`</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br>

<p>index.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickBtn&quot;</span>&gt;</span>ADD<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="function"><span class="title">clickBtn</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;handAddCount&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="function"><span class="title">count</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.$store.getters.getIdx;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="asyncData-å–å¾—-store-è³‡æ–™"><a href="#asyncData-å–å¾—-store-è³‡æ–™" class="headerlink" title="asyncData å–å¾— store è³‡æ–™"></a>asyncData å–å¾— store è³‡æ–™</h1><p>æƒ³åœ¨ asyncData å–å¾— storeï¼Œå¯å¾ context å»æŠ“å–</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; asyncCount &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">asyncData</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">asyncCount</span>: context.app.store.state.idx &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="æ‹†åˆ†-module"><a href="#æ‹†åˆ†-module" class="headerlink" title="æ‹†åˆ† module"></a>æ‹†åˆ† module</h1><h2 id="å¯«åœ¨åŒä¸€æ”¯çš„-module"><a href="#å¯«åœ¨åŒä¸€æ”¯çš„-module" class="headerlink" title="å¯«åœ¨åŒä¸€æ”¯çš„ module"></a>å¯«åœ¨åŒä¸€æ”¯çš„ module</h2><p>åœ¨ store æ–°å¢ User è³‡æ–™å¤¾ï¼Œç­‰æ–¼ç›´æ¥å‰µå»ºäº†ä¸€å€‹ User çš„ module</p>
<p>store/User/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Â state</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> state = <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">  name: <span class="string">&#x27;bobee&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Â actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="function"><span class="title">log</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Â mutations</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Â getters</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getters = &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥ this.$store.state.User å°±å¯ä»¥å–å¾—åˆ° User è£¡çš„è³‡æ–™</p>
<p>index.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.$store.state.User.name);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;User/log&quot;</span>));</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<br>

<h2 id="æ‹†åˆ†å››æ”¯æª”æ¡ˆçš„-module"><a href="#æ‹†åˆ†å››æ”¯æª”æ¡ˆçš„-module" class="headerlink" title="æ‹†åˆ†å››æ”¯æª”æ¡ˆçš„ module"></a>æ‹†åˆ†å››æ”¯æª”æ¡ˆçš„ module</h2><p>ä¹Ÿå¯ä»¥æŠŠ stateã€actionsã€mutationsã€getters æ‹†åˆ†æˆå››æ”¯æª”æ¡ˆï¼Œå–å¾—è³‡æ–™çš„æ–¹æ³•ä¹Ÿæ˜¯åŒæ¨£çš„</p>
<p>store/User/state.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; (&#123;</span><br><span class="line">  title: <span class="string">&#x27;nuxt&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>store/User/actions.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>store/User/mutations.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>store/User/getters.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;&#125;;</span><br></pre></td></tr></table></figure>
<br/>

<h1 id="Plugins-æ³¨å…¥-Vuex"><a href="#Plugins-æ³¨å…¥-Vuex" class="headerlink" title="Plugins æ³¨å…¥ Vuex"></a>Plugins æ³¨å…¥ Vuex</h1><p>å·²è¼‰å…¥å…¨åŸŸçš„ pluginsï¼Œåªæœ‰åœ¨ nuxt ä¸Šå¯ä»¥ä½¿ç”¨ï¼Œvuex ä¸Šæ²’è¾¦æ³•èª¿ç”¨ï¼Œ<br>æ‰€ä»¥éœ€è¦å°‡å¥—ä»¶çš„æ–¹æ³•æ³¨å…¥åˆ° Vuex è£¡é¢ï¼Œå‡å¦‚æˆ‘å€‘å·²ç¶“åœ¨å°ˆæ¡ˆä¸Šå®‰è£å¥½äº† vue-notification å¥—ä»¶ï¼Œåœ¨layoutçš„åœ°æ–¹æ³¨å…¥æ–¹æ³•</p>
<p>layout/defalut.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.$store.$notify = <span class="built_in">this</span>.$notify</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™éº¼ä¸€ä¾†ï¼Œå°±å¯ä»¥åœ¨ store ä½¿ç”¨ this.$notify äº†!</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="function"><span class="title">handAddCount</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">    commit(<span class="string">&quot;AddCount&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="title">handApiData</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> res = <span class="keyword">await</span> apiGetPhotoData();</span><br><span class="line">      commit(<span class="string">&quot;AddCount&quot;</span>, &#123; <span class="attr">data</span>: res.data &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="comment">// éŒ¯èª¤è™•ç†</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;éŒ¯èª¤è™•ç†:&quot;</span>, error);</span><br><span class="line">      <span class="built_in">this</span>.$notify(&#123;</span><br><span class="line">        group: <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">        title: <span class="string">&quot;APIè³‡æ–™éŒ¯èª¤&quot;</span>,</span><br><span class="line">        type: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">        text: error</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ç­†è¨˜ä¾†æº-2021-Vue3-å°ˆæ¥­è·äºº-é€²éšç¯‡"><a href="#ç­†è¨˜ä¾†æº-2021-Vue3-å°ˆæ¥­è·äºº-é€²éšç¯‡" class="headerlink" title="ç­†è¨˜ä¾†æº: 2021 Vue3 å°ˆæ¥­è·äºº | é€²éšç¯‡"></a>ç­†è¨˜ä¾†æº: 2021 Vue3 å°ˆæ¥­è·äºº | é€²éšç¯‡</h3>]]></content>
      <categories>
        <category>Vue-Nuxt</category>
      </categories>
      <tags>
        <tag>Nuxt</tag>
        <tag>vuex</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue Router ç¶²å€è·¯ç”±è¨­å®šã€History modes</title>
    <url>/2021/03/14/vue-router/</url>
    <content><![CDATA[<h1 id="å–®é å¼æ‡‰ç”¨"><a href="#å–®é å¼æ‡‰ç”¨" class="headerlink" title="å–®é å¼æ‡‰ç”¨"></a>å–®é å¼æ‡‰ç”¨</h1><p>single-page applicationï¼Œç¸®å¯« SPA<br>é€é JS å‹•æ…‹æ¸²æŸ“ç•¶å‰é é¢ä¾†èˆ‡ä½¿ç”¨è€…äº’å‹•ï¼Œè€Œéå‚³çµ±çš„å¾ä¼ºæœå™¨é‡æ–°è¼‰å…¥æ•´å€‹æ–°é é¢ã€‚é€™ç¨®æ–¹æ³•é¿å…äº†é é¢ä¹‹é–“åˆ‡æ›æ‰“æ–·ç”¨æˆ¶é«”é©—ï¼Œä½¿æ‡‰ç”¨ç¨‹å¼æ›´åƒä¸€å€‹æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ã€‚</p>
<h1 id="router-view"><a href="#router-view" class="headerlink" title="router-view"></a>router-view</h1><p>å°‡æœƒæ”¹è®Šçš„å€å¡Šä½¿ç”¨ router-view é¡¯ç¤º</p>
<a id="more"></a>

<p>App.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="è¨­å®šè·¯ç”±"><a href="#è¨­å®šè·¯ç”±" class="headerlink" title="è¨­å®šè·¯ç”±"></a>è¨­å®šè·¯ç”±</h1><p>å°‡ Homeã€404 é é¢ç›´æ¥ä¸€é€²å…¥å°± importï¼Œå…¶ä»–é é¢ä½¿ç”¨å‹•æ…‹ import çµ„ä»¶ï¼Œé»æ“Šè©²é é¢æ™‚ï¼Œæ‰æœƒè¼‰å…¥çµ„ä»¶ã€‚<br>å‹•æ…‹ import çµ„ä»¶ build æ™‚æ¯å€‹é é¢æœƒæ˜¯ä¸€æ”¯ç¨ç«‹çš„ JSã€‚<br>å¦‚å…¨éƒ¨é é¢ç›´æ¥ä¸€é€²å…¥å°± importï¼Œé é¢ä¸€å¤šæ™‚æœƒå½±éŸ¿æ•ˆèƒ½; ä½†å¦‚æœæ˜¯å°å°ˆæ¡ˆï¼Œé é¢å¾ˆå°‘æ™‚ï¼Œå¯ä»¥ç›´æ¥å…¨éƒ¨ importï¼Œæ¸›å°‘ request çš„æ•¸é‡ã€‚<br>å¤§ç¶²ç«™ =&gt; å‹•æ…‹è¼‰å…¥ï¼Œä¸åƒæ•ˆèƒ½<br>å°ç¶²ç«™ =&gt; ç›´æ¥è¼‰å…¥ï¼Œæ¸›å°‘ request æ•¸é‡</p>
<p>router index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>; <span class="comment">// ç›´æ¥ import</span></span><br><span class="line"><span class="keyword">import</span> NotFoundComponent <span class="keyword">from</span> <span class="string">&quot;../views/NotFoundComponent.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/rwd&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;rwd&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Rwd.vue&quot;</span>), <span class="comment">// å‹•æ…‹ import</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/vuejs&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;vuejs&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Vuejs.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/reactjs&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;reactjs&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Reactjs.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/html5&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;html5&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Html5.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/nodejs&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;nodejs&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Nodejs.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&quot;/:pathMatch(.*)&quot;</span>, <span class="attr">component</span>: NotFoundComponent &#125;, <span class="comment">// éœ€æ”¾æœ€ä¸‹é¢ï¼Œä¸Šé¢çš„pathéƒ½æ²’æœ‰æ™‚å³é¡¯ç¤ºæ­¤é é¢</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(process.env.BASE_URL),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>
<h2 id="router-ä¾‹å¤–è™•ç†-404"><a href="#router-ä¾‹å¤–è™•ç†-404" class="headerlink" title="router ä¾‹å¤–è™•ç†(404)"></a>router ä¾‹å¤–è™•ç†(404)</h2><p>{ path: â€œ/:pathMatch(.*)â€, component: NotFoundComponent }<br>404 é é¢çš„ path éœ€æ”¾æœ€ä¸‹é¢ï¼Œè¼‰å…¥æ™‚æœƒå¾ä¸Šåˆ°ä¸‹é–‹å§‹è·‘ï¼Œä¸Šé¢çš„ path éƒ½æ²’æœ‰ Match æ™‚å³æœƒé¡¯ç¤ºæ­¤é é¢<br></p>
<h2 id="History-modes"><a href="#History-modes" class="headerlink" title="History modes"></a>History modes</h2><p><b>createWebHashHistory()</b><br>æœƒé€é # å­—è™Ÿä¾†ç•¶ä½œç¶²å€åˆ‡æ›çš„æ“ä½œï¼Œä½†æ˜¯æœƒè·ŸéŒ¨é»ç›¸æ’ï¼Œå° SEO æœ‰ä¸åˆ©çš„å½±éŸ¿<br><br><b>createWebHistory()</b><br>éœ€è¦è·Ÿå¾Œç«¯æ­é…é‡æ–°é…ç½®æ ¹ç›®éŒ„ä¸‹çš„ routerï¼Œé‚„è¦è‡ªå·±é…ç½®ä¾‹å¤–è™•ç†çš„é é¢ä¾‹å¦‚ 404 ç­‰</p>
<br>

<h1 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h1><p>è¨­å®š router-link æŒ‡å‘é€£çµé é¢</p>
<p>header.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/rwd&quot;</span>&gt;</span>RWD<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/vuejs&quot;</span>&gt;</span>VUEJS<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/reactjs&quot;</span>&gt;</span>REACTJS<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/html5&quot;</span>&gt;</span>HTML5<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/nodejs&quot;</span>&gt;</span>NODEJS<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>router</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3 setupã€CSSæ–°å¯«æ³•</title>
    <url>/2021/03/21/vue-other-issues/</url>
    <content><![CDATA[<p>Vue3 é‚„æœ‰å¾ˆå¤šæ–°åŠŸèƒ½å®˜æ–¹æ­£åœ¨é€²è¡Œä¸­ï¼Œç›®å‰æœ‰å¹¾å€‹å·®ä¸å¤šå®šæ¡ˆçš„æ–°åŠŸèƒ½</p>
<a id="more"></a>

<h1 id="Script-Setup"><a href="#Script-Setup" class="headerlink" title="Script Setup"></a>Script Setup</h1><p><b>åŸæœ¬å¯«æ³•</b></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> name = ref(<span class="string">&quot;Bobee&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<p><b>æ–°å¯«æ³•</b><br>ç›´æ¥å°‡ Setup å¯«åœ¨ script ä¸Šï¼Œä¸ç”¨ exportã€return<br>å¦‚æœæ²’æœ‰åœ¨ template å¯«è®Šæ•¸ï¼Œå°±è‡ªå‹•ä¸æœƒ return å‡ºä¾†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;ref&#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line">const name = ref(<span class="string">&quot;Bobee&quot;</span>);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>

<h1 id="è®Šæ•¸ç¶å®š-CSS"><a href="#è®Šæ•¸ç¶å®š-CSS" class="headerlink" title="è®Šæ•¸ç¶å®š CSS"></a>è®Šæ•¸ç¶å®š CSS</h1><p>ç”¨ v-bind ç¶å®š JS è®Šæ•¸ï¼Œå¯ä»¥ç›´æ¥è®Šæ›å±¬æ€§çš„å€¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line">const name = ref(<span class="string">&quot;Bobee&quot;</span>);</span><br><span class="line">const colorBlue = ref(<span class="string">&quot;#000FFF&quot;</span>);</span><br><span class="line">const changeColor = () =&gt; &#123;</span><br><span class="line">  colorBlue.value = <span class="string">&quot;#FF0000&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeColor&quot;</span>&gt;</span>changeColor<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">v-bind</span>(colorBlue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>Composition API</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue çš„ Slot æ’æ§½</title>
    <url>/2021/03/14/vue-slot/</url>
    <content><![CDATA[<h1 id="Slot-æ’æ§½"><a href="#Slot-æ’æ§½" class="headerlink" title="Slot æ’æ§½"></a>Slot æ’æ§½</h1><p>åœ¨å­å…ƒä»¶ä¸Šé¢é–‹å€‹æ´ï¼Œ ç”±å¤–å±¤å…ƒä»¶å°‡å…§å®¹ç½®æ”¾åœ¨è‡³å­å±¤å…ƒä»¶æŒ‡å®šçš„ä½ç½®ä¸­<br>å¯è§£æ±ºæ¨£å¼ä¸€æ¨£ï¼Œä½†å…§å®¹ä¸ä¸€æ¨£çš„çµ„ä»¶</p>
<a id="more"></a>

<p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SlotsTitle <span class="keyword">from</span> <span class="string">&quot;@/components/SlotsTitle.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    SlotsTitle,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å°‡çµ„ä»¶ç”¨ html å¯«æ³•æœ‰é ­æœ‰å°¾åŒ…èµ·ä¾†ï¼Œä¸¦ç”¨ kebab-case(å…¨å°å¯«&amp;dashed)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">slots-title</span>&gt;</span>Sunday<span class="tag">&lt;/<span class="name">slots-title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slots-title</span>&gt;</span>Monday<span class="tag">&lt;/<span class="name">slots-title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slots-title</span>&gt;</span>Tuesday<span class="tag">&lt;/<span class="name">slots-title</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>SlotsTitle.vue<br>çˆ¶å±¤çš„å…§å®¹å°‡æœƒæ’å…¥<slot></slot>ä¹‹ä¸­</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../assets/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>Slot</tag>
      </tags>
  </entry>
  <entry>
    <title>é€érefç¶å®šï¼Œå–å¾—DOMå…ƒç´ </title>
    <url>/2021/03/14/vue-template-refs/</url>
    <content><![CDATA[<h1 id="é€é-ref-ç¶å®šï¼Œå–å¾—-DOM-å…ƒç´ "><a href="#é€é-ref-ç¶å®šï¼Œå–å¾—-DOM-å…ƒç´ " class="headerlink" title="é€é ref ç¶å®šï¼Œå–å¾— DOM å…ƒç´ "></a>é€é ref ç¶å®šï¼Œå–å¾— DOM å…ƒç´ </h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> inputText = ref(<span class="literal">null</span>); <span class="comment">// è®Šæ•¸éœ€è·Ÿç¶å®šçš„refä¸€æ¨£åç¨±</span></span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      inputText.value.focus(); <span class="comment">// å›å‚³å¾Œå³å¯ä½¿ç”¨inputText</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      inputText, <span class="comment">// å›å‚³inputText</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&quot;inputText&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span> // ç¶å®šref</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>ref</tag>
      </tags>
  </entry>
  <entry>
    <title>vee-validate 4.0 æ•™å­¸ï¼Œè¡¨å–®é©—è­‰å¥—ä»¶æ‡‰ç”¨</title>
    <url>/2022/03/29/vue-vee-validate/</url>
    <content><![CDATA[<p><img src="https://imgur.com/0WQXAft.png" alt="vee-validate"></p>
<p>å¡«å¯«è¡¨å–®æ™‚ï¼Œéœ€è¦é©—è­‰æ˜¯å¦å¿…å¡«(require)ã€æˆ–æ˜¯æ ¼å¼æ˜¯å¦æ­£ç¢ºï¼Œè‡ªå·±æ‰‹åˆ»å¾ˆè¤‡é›œï¼Œå¯èƒ½ä¹Ÿæœƒä¸å¤ å…¨é¢ï¼Œç”¨å¥—ä»¶ä¾†åšé©—è­‰æ˜¯æœ€çœäº‹åˆå¿«é€Ÿçš„ã€‚åœ¨ Vue2 æ¡†æ¶æ™‚ï¼Œæˆ‘åå¥½ä½¿ç”¨ vee-validate ä¾†åšé©—è­‰ï¼Œå› ç‚ºå®ƒç°¡å–®åˆå¥½ç”¨ï¼Œä½†åˆ°äº† Vue3ï¼ŒveeValidate4 æ€éº¼å¥½åƒæ˜¯å¦ä¸€å€‹ä¸–ç•Œæƒ¹ğŸ˜±ï¼Œvee-validate4 è©²æ€éº¼ä½¿ç”¨å‘¢</p>
<a id="more"></a>

<h1 id="å®‰è£-vee-validate"><a href="#å®‰è£-vee-validate" class="headerlink" title="å®‰è£ vee-validate"></a>å®‰è£ vee-validate</h1><p>é¦–å…ˆå…ˆå®‰è£ vee-validate</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add vee-validate</span><br><span class="line"># or</span><br><span class="line">npm i vee-validate --save</span><br></pre></td></tr></table></figure>
<br/>

<p>å¦å¤– yup ä¹Ÿæ˜¯å€‹ç°¡å–®å»å¼·å¤§çš„é©—è­‰ libraryï¼Œvee-validate å¯ä»¥çµåˆ yup ä¸€èµ·ä½¿ç”¨</p>
<p>å®‰è£ yup</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add yup</span><br><span class="line"># or</span><br><span class="line">npm i yup --save</span><br></pre></td></tr></table></figure>
<br/>

<h1 id="ä½¿ç”¨-vee-validate"><a href="#ä½¿ç”¨-vee-validate" class="headerlink" title="ä½¿ç”¨ vee-validate"></a>ä½¿ç”¨ vee-validate</h1><p>vee-validate æä¾›äº†å…©ç¨®æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ components æˆ–æ˜¯ composition API<br>components: é©åˆç°¡å–®çš„ UI çµ„ä»¶å’Œå…·æœ‰è‡ªå®šç¾©æ¨£å¼çš„åŸç”Ÿ HTML å…ƒç´ ï¼Œä½¿ç”¨ Fieldã€Form å’Œ ErrorMessage<br>composition API: é©åˆæ§‹å»ºè¤‡é›œçš„ UI è¡¨å–®çµ„ä»¶å’Œé€šç”¨æ•¸æ“šé©—è­‰ï¼Œä½¿ç”¨ useFieldã€useForm<br>é€™å…©ç¨®æ–¹å¼éƒ½å¯ä»¥æ··åˆä½¿ç”¨</p>
<p>æˆ‘é€™é‚Šä½¿ç”¨çš„æ˜¯ composition API + yup ä¾†åšé©—è­‰</p>
<br/>

<hr>
<p>è£½ä½œéœ€æ±‚:<br>1.å–å¾— API è³‡æ–™å¾Œï¼Œæœƒè‡ªå‹•æŠŠè³‡æ–™å¸¶å…¥åˆ°è¡¨å–®<br>2.è¡¨å–®é©—è­‰<br>3.å–å¾—è¡¨å–®å€¼</p>
<hr>
<h2 id="å¼•å…¥é©—è­‰-jsã€input-å…ƒä»¶"><a href="#å¼•å…¥é©—è­‰-jsã€input-å…ƒä»¶" class="headerlink" title="å¼•å…¥é©—è­‰ jsã€input å…ƒä»¶"></a>å¼•å…¥é©—è­‰ jsã€input å…ƒä»¶</h2><p>åœ¨ main.js å¼•å…¥å…¨å±€ (global) é©—è­‰ã€è¡¨å–® component inputï¼Œå¦‚æœè¡¨å–®åªæœ‰ä¸€é ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨åœ¨è¡¨å–®é é¢<br>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥å…¨å±€é©—è­‰ã€è¡¨å–® component input</span></span><br><span class="line"><span class="keyword">import</span> &#123; schema &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/validate.js&#x27;</span>;</span><br><span class="line">app.provide(<span class="string">&#x27;schema&#x27;</span>, schema);</span><br><span class="line"><span class="keyword">import</span> FormInput <span class="keyword">from</span> <span class="string">&#x27;@/components/FormInput.vue&#x27;</span>;</span><br><span class="line">app.component(<span class="string">&#x27;FormInput&#x27;</span>, FormInput);</span><br><span class="line"></span><br><span class="line">app.use(router).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<br />

<h2 id="ç”¨-yup-è™•ç†é©—è­‰æ ¼å¼çš„-js"><a href="#ç”¨-yup-è™•ç†é©—è­‰æ ¼å¼çš„-js" class="headerlink" title="ç”¨ yup è™•ç†é©—è­‰æ ¼å¼çš„ js"></a>ç”¨ yup è™•ç†é©—è­‰æ ¼å¼çš„ js</h2><p>.required å¿…å¡«<br>.matches å®¢è£½é©—è­‰æ ¼å¼<br>.oneOf ç¢ºèª key æ˜¯å¦ç›¸åŒ<br>.min æœ€å°‘å¹¾ä½æ•¸<br>.max æœ€å¤šå¹¾ä½æ•¸<br>.nullable æ¥å— key ç‚º null</p>
<p>utils/validate.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; object, string, ref, array &#125; <span class="keyword">from</span> <span class="string">&#x27;yup&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> required = <span class="string">&#x27;å¿…å¡«&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> phoneRegExp = <span class="regexp">/^((\\+[1-9]&#123;1,4&#125;[ \\-]*)|(\\([0-9]&#123;2,3&#125;\\)[ \\-]*)|([0-9]&#123;2,4&#125;)[ \\-]*)*?[0-9]&#123;3,4&#125;?[ \\-]*[0-9]&#123;3,4&#125;?$/</span>;</span><br><span class="line"><span class="keyword">const</span> passwordRegExp = <span class="regexp">/[a-zA-Z0-9]/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> schema = object().shape(&#123;</span><br><span class="line">  email: string().required(required).email(<span class="string">&#x27;E-mailè¼¸å…¥éŒ¯èª¤&#x27;</span>),</span><br><span class="line"></span><br><span class="line">  password: string()</span><br><span class="line">    .required(required)</span><br><span class="line">    .min(<span class="number">8</span>, <span class="string">&#x27;å¯†ç¢¼æœ€å°‘8ä½&#x27;</span>)</span><br><span class="line">    .max(<span class="number">20</span>, <span class="string">&#x27;å¯†ç¢¼æœ€å¤š20ä½&#x27;</span>)</span><br><span class="line">    .matches(passwordRegExp, <span class="string">&#x27;è«‹è¼¸å…¥ä¸å«ç¬¦è™Ÿçš„åŠå½¢è‹±æ–‡ã€æ•¸å­—&#x27;</span>),</span><br><span class="line"></span><br><span class="line">  confirmPassword: string()</span><br><span class="line">    .oneOf([ref(<span class="string">&#x27;password&#x27;</span>)], <span class="string">&#x27;è¼¸å…¥å¯†ç¢¼ä¸ç›¸åŒ&#x27;</span>)</span><br><span class="line">    .required(required),</span><br><span class="line"></span><br><span class="line">  phone: string().matches(phoneRegExp, <span class="string">&#x27;æ‰‹æ©Ÿè¼¸å…¥éŒ¯èª¤&#x27;</span>),</span><br><span class="line"></span><br><span class="line">  userName: string().nullable().required(required),</span><br><span class="line"></span><br><span class="line">  link: array().of(string().required(<span class="string">&#x27;è«‹è¼¸å…¥æ¨™é¡Œ&#x27;</span>)),</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="å»ºç«‹-input-å…ƒä»¶"><a href="#å»ºç«‹-input-å…ƒä»¶" class="headerlink" title="å»ºç«‹ input å…ƒä»¶"></a>å»ºç«‹ input å…ƒä»¶</h2><p>è¨­å®šå¾çˆ¶å±¤ä¾†çš„ props</p>
<p>components/FormInput.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  &lt;input</span><br><span class="line">    :id=&quot;id&quot;</span><br><span class="line">    v-model=&quot;inputValue&quot;</span><br><span class="line">    :name=&quot;name&quot;</span><br><span class="line">    :type=&quot;type&quot;</span><br><span class="line">    :placeholder=&quot;placeholder&quot;</span><br><span class="line">    :maxlength=&quot;maxlength&quot;</span><br><span class="line">    class=&quot;form-control&quot;</span><br><span class="line">    :class=&quot;&#123; &#x27;is-invalid&#x27;: errorMessage &#125;&quot;</span><br><span class="line">  /&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;invalid-feedback&quot;</span>&gt;</span>&#123;&#123; errorMessage &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸¦è¨­å®š useField çš„å€¼ (value) è·ŸéŒ¯èª¤è¨Šæ¯ (errorMessage)ï¼Œæœƒç”± name ä¾†åˆ¤å®šé©—è­‰æ ¼å¼æ˜¯å¦æ­£ç¢ºï¼Œwatch æ˜¯ç‚ºäº†å–å¾— API è³‡æ–™å¾Œï¼Œæœƒè‡ªå‹•æŠŠè³‡æ–™å¸¶å…¥åˆ°è¡¨å–®ï¼Œå¦‚æ²’æœ‰é€™å€‹éœ€æ±‚å¯ä»¥æ‹¿æ‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useField &#125; <span class="keyword">from</span> <span class="string">&#x27;vee-validate&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; watch &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    id: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    type: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    modelValue: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    placeholder: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    maxlength: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="literal">Infinity</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; <span class="attr">value</span>: inputValue, errorMessage &#125; = useField(</span><br><span class="line">      props.name,</span><br><span class="line">      <span class="literal">undefined</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// è¨­å®šé è¨­å€¼ï¼Œå¦‚æœªè¨­å®šå€¼ç‚º undefined</span></span><br><span class="line">        initialValue: props.modelValue,</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–å¾— API è³‡æ–™å¾Œï¼Œæœƒè‡ªå‹•æŠŠè³‡æ–™å¸¶å…¥åˆ°è¡¨å–®</span></span><br><span class="line">    watch(</span><br><span class="line">      () =&gt; props.modelValue,</span><br><span class="line">      val =&gt; &#123;</span><br><span class="line">        inputValue.value = val;</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      inputValue,</span><br><span class="line">      errorMessage,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<br/>

<h2 id="è¡¨å–®é é¢"><a href="#è¡¨å–®é é¢" class="headerlink" title="è¡¨å–®é é¢"></a>è¡¨å–®é é¢</h2><p>æ’å…¥ input componentï¼Œè¨­å®šå¥½è¦å‚³å…¥çš„ props</p>
<p>Form.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;userName&quot;</span>&gt;</span>å§“åï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        &lt;FormInput</span><br><span class="line">        :id=&quot;&#x27;userName&#x27;&quot;</span><br><span class="line">        v-model=&quot;memberInfo.data.name&quot;</span><br><span class="line">        :name=&quot;&#x27;userName&#x27;&quot;</span><br><span class="line">        :type=&quot;&#x27;text&#x27;&quot;</span><br><span class="line">        :placeholder=&quot;&#x27;è¼¸å…¥&#x27;&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>å¯†ç¢¼ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        &lt;FormInput</span><br><span class="line">        :id=&quot;&#x27;password&#x27;&quot;</span><br><span class="line">        v-model=&quot;password.password&quot;</span><br><span class="line">        :name=&quot;&#x27;password&#x27;&quot;</span><br><span class="line">        :type=&quot;&#x27;password&#x27;&quot;</span><br><span class="line">        :placeholder=&quot;&#x27;è¼¸å…¥&#x27;&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;confirmPassword&quot;</span>&gt;</span>ç¢ºèªå¯†ç¢¼ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        &lt;FormInput</span><br><span class="line">        :id=&quot;&#x27;confirmPassword&#x27;&quot;</span><br><span class="line">        v-model=&quot;password.confirmPassword&quot;</span><br><span class="line">        :name=&quot;&#x27;confirmPassword&#x27;&quot;</span><br><span class="line">        :type=&quot;&#x27;password&#x27;&quot;</span><br><span class="line">        :placeholder=&quot;&#x27;è¼¸å…¥&#x27;&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>e-mailï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        &lt;FormInput</span><br><span class="line">        :id=&quot;&#x27;email&#x27;&quot;</span><br><span class="line">        v-model=&quot;memberInfo.data.email&quot;</span><br><span class="line">        :name=&quot;&#x27;email&#x27;&quot;</span><br><span class="line">        :type=&quot;&#x27;text&#x27;&quot;</span><br><span class="line">        :placeholder=&quot;&#x27;è¼¸å…¥&#x27;&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, idx) in fields&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.url&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">&quot;`link$&#123;idx&#125;`&quot;</span>&gt;</span>link&#123;&#123;idx+1&#125;&#125;ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          &lt;FormInput</span><br><span class="line">          :id=&quot;`link[$&#123;idx&#125;]`&quot;</span><br><span class="line">          :name=&quot;`link[$&#123;idx&#125;].url`&quot;</span><br><span class="line">          :type=&quot;&#x27;text&#x27;&quot;</span><br><span class="line">          :placeholder=&quot;&#x27;è¼¸å…¥&#x27;&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;remove(idx)&quot;</span>&gt;</span>remove<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;push(&#123;url: &#x27;&#x27;&#125;)&quot;</span>&gt;</span>add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    Form è¡¨å–®å–å€¼ï¼š</span><br><span class="line">    &#123;&#123; values &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br/>

<p>è¨­å®š useFormã€useFieldArray<br>useForm æ˜¯æ•´å€‹ Form è¡¨å–®ï¼Œè¨­å®šé©—è­‰ä¸¦å–å€¼ï¼Œå–åˆ°çš„å€¼ submit åˆ°å¾Œç«¯ï¼Œå°±è³‡æ–™å®Œæˆé€å‡ºå•¦ï¼<br>useFieldArray ç”¨ä¾†è¨­å®šé™£åˆ—çš„ inputï¼Œå¯ä½¿ç”¨å…§å»ºæ–¹æ³•ï¼šç§»é™¤ (remove)ã€å–ä»£ (replace)ã€æ–°å¢è³‡æ–™ (push)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, inject &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useForm, useFieldArray &#125; <span class="keyword">from</span> <span class="string">&#x27;vee-validate&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> schema = inject(<span class="string">&#x27;schema&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ•´å€‹ Form è¡¨å–®</span></span><br><span class="line">    <span class="keyword">const</span> &#123; values &#125; = useForm(&#123;</span><br><span class="line">      validationSchema: schema,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¨­å®šå¤šç­†è³‡æ–™çš„é™£åˆ—ã€é™£åˆ—æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> &#123; replace, remove, push, fields &#125; = useFieldArray(<span class="string">&#x27;link&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> password = reactive(&#123;</span><br><span class="line">      password: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      confirmPassword: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–å¾— API çš„è³‡æ–™</span></span><br><span class="line">    <span class="keyword">const</span> publicPath = process.env.BASE_URL;</span><br><span class="line">    <span class="keyword">const</span> getMemberInfo = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> axios.get(<span class="string">`<span class="subst">$&#123;publicPath&#125;</span>data/info.json`</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> memberInfo = reactive(&#123;</span><br><span class="line">      data: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    getMemberInfo().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      memberInfo.data = res.data;</span><br><span class="line">      <span class="comment">// å–å¾—è³‡æ–™å¾Œï¼Œå°‡ç©ºé™£åˆ—è³‡æ–™å–ä»£ç‚ºå–å¾—å¾Œçš„è³‡æ–™</span></span><br><span class="line">      replace(memberInfo.data.link);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      password,</span><br><span class="line">      memberInfo,</span><br><span class="line">      values,</span><br><span class="line">      remove, push, fields</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.form-box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form-group</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<p>è³‡æ–™æ ¼å¼<br>data/info.json</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;bobee&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;email&quot;</span>: <span class="string">&quot;lala9990929@gmail.com&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;link&quot;</span>: [</span><br><span class="line">    &#123; <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://happy9990929.github.io&quot;</span>&#125;,</span><br><span class="line">    &#123; <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://happy9990929.github.io/gtplay&quot;</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<!-- æ–‡ç« å…§å»£å‘Š -->
<p><ins class="adsbygoogle"
     style="display:block; text-align:center; margin: 100px auto"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3584202217117217"
     data-ad-slot="5051618728"></ins></p>
<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>vee-validate4.0 è·Ÿä¹‹å‰çš„ç‰ˆæœ¬å·®ç•°çœŸçš„å¾ˆå¤§ï¼Œæˆ‘ä¹Ÿæ˜¯ç ”ç©¶äº†ä¸€é™£å­ï¼Œå¦‚æœæœ‰å“ªé‚Šæœ‰å•é¡Œæˆ–æ˜¯æœ‰æ›´å¥½çš„å¯«æ³•ï¼Œæ­¡è¿è·¯éçš„å¤§å¤§æŒ‡æ­£å™¢ğŸ§<br>ğŸ‘‰ é™„ä¸Šæˆ‘çš„ <a href="https://github.com/happy9990929/vee-validate4">vee-validate4 ç¯„ä¾‹</a><br>æœ€å¾Œç”¨å¯æ„›çš„ bobee åšçµå°¾å§ï¼<br><br/><br><img src="https://imgur.com/wXW0AKf.jpg" alt="bobee"></p>
<hr>
<h1 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»"></a>åƒè€ƒæ–‡ç»</h1><p><a href="https://vee-validate.logaretm.com/v4/guide/overview">vee-validate å®˜æ–¹</a></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>vee-validate4</tag>
        <tag>veeValidate4 æ•™å­¸</tag>
      </tags>
  </entry>
  <entry>
    <title>Vuex &amp; API è³‡æ–™æµæ•´åˆ</title>
    <url>/2021/03/21/vue-vuex-api-example/</url>
    <content><![CDATA[<h1 id="åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹"><a href="#åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹" class="headerlink" title="åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹"></a>åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹</h1><h2 id="API-æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™"><a href="#API-æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™" class="headerlink" title="API æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™"></a>API æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™</h2><p>axios create çš„ç‰©ä»¶æœƒè®Šæˆ axios çš„å¯¦é«”<br>axios interceptors æ””æˆªå™¨ï¼Œå¯ä»¥åšé©—è­‰æª¢æŸ¥</p>
<a id="more"></a>

<p>@/api/photoRequest.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// createçš„ç‰©ä»¶æœƒè®Šæˆaxiosçš„å¯¦é«”</span></span><br><span class="line"><span class="keyword">const</span> photoRequest = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">&quot;https://vue-lessons-api.herokuapp.com/&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// axios æ””æˆªå™¨ï¼Œå¯ä»¥åšé©—è­‰æª¢æŸ¥</span></span><br><span class="line"><span class="comment">// ç™¼å‡º requestä»¥å‰åŸ·è¡Œ</span></span><br><span class="line">photoRequest.interceptors.request.use(</span><br><span class="line">  (config) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) <span class="keyword">throw</span> &#123; <span class="attr">response</span>: &#123; <span class="attr">data</span>: <span class="string">&quot;è³‡æ–™ä¸å¾—ç‚ºç©º&quot;</span> &#125; &#125;;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥åˆ° response ä¹‹å‰åŸ·è¡Œ</span></span><br><span class="line">photoRequest.interceptors.response.use(</span><br><span class="line">  (response) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getPhotoRequest = <span class="function">() =&gt;</span> photoRequest.get(<span class="string">&quot;/photo/list&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="api-æ¨¡çµ„å…¥å£"><a href="#api-æ¨¡çµ„å…¥å£" class="headerlink" title="api æ¨¡çµ„å…¥å£"></a>api æ¨¡çµ„å…¥å£</h2><p>index.js åšå„æ¨¡çµ„çš„åˆ†é¡ï¼Œç•¶æˆæ¨¡çµ„çš„å…¥å£ï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œcomponents åªéœ€å¼•å…¥ index.js</p>
<p>@/api/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getPhotoRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./photoRequest.js&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> apiGetPhotoRequest = getPhotoRequest;</span><br></pre></td></tr></table></figure>
<h2 id="è³‡æ–™ç®¡ç†"><a href="#è³‡æ–™ç®¡ç†" class="headerlink" title="è³‡æ–™ç®¡ç†"></a>è³‡æ–™ç®¡ç†</h2><p>store/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; apiGetPhotoRequest &#125; <span class="keyword">from</span> <span class="string">&quot;../api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    photoArr: [],</span><br><span class="line">    idx: <span class="number">0</span>,</span><br><span class="line">    isLoad: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="comment">// ç‚ºç¢ºä¿APIè³‡æ–™æ‹¿å›å†é€²è¡ŒhandImgLoad()ï¼Œéœ€å›å‚³Promiseï¼Œaxiosæœ¬èº«å°±æ˜¯ä¸€å€‹Promiseçš„å›å‚³</span></span><br><span class="line">    <span class="comment">// async / await æ¥è¿‘åŒæ­¥å‘¼å«</span></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="title">handInit</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> apiGetPhotoRequest();</span><br><span class="line">        commit(<span class="string">&quot;init&quot;</span>, res.data);</span><br><span class="line">        <span class="keyword">return</span> res.data;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error.response.data);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä¸Šé¢asyncç­‰æ–¼</span></span><br><span class="line">    <span class="comment">// handInit(&#123; commit &#125;) &#123;</span></span><br><span class="line">    <span class="comment">//   const res = apiGetPhotoRequest();</span></span><br><span class="line">    <span class="comment">//   return res.then((response) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//     commit(&quot;init&quot;, response.data);</span></span><br><span class="line">    <span class="comment">//     return response.data;</span></span><br><span class="line">    <span class="comment">//   &#125;)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="function"><span class="title">handLoadState</span>(<span class="params">&#123; commit &#125;, bool</span>)</span> &#123;</span><br><span class="line">      commit(<span class="string">&quot;loadState&quot;</span>, bool);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">handAdd</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      commit(<span class="string">&quot;Add&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">handRemove</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      commit(<span class="string">&quot;Remove&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">init</span>(<span class="params">state, payload</span>)</span> &#123;</span><br><span class="line">      state.photoArr = payload;</span><br><span class="line">      <span class="built_in">console</span>.log(state.photoArr);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">loadState</span>(<span class="params">state, bool</span>)</span> &#123;</span><br><span class="line">      state.isLoad = bool;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">Add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.idx++;</span><br><span class="line">      <span class="keyword">if</span> (state.idx &gt; state.photoArr.length - <span class="number">1</span>) &#123;</span><br><span class="line">        state.idx = <span class="number">0</span>; <span class="comment">// å¤§æ–¼ç¸½æ•¸é‡æ™‚è¿”å›ç¬¬ä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">Remove</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.idx--;</span><br><span class="line">      <span class="keyword">if</span> (state.idx &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        state.idx = state.photoArr.length - <span class="number">1</span>; <span class="comment">//å°æ–¼0æ™‚è¿”å›æœ€å¾Œä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">isLoad</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.isLoad;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">photoArr</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.photoArr;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">idx</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.idx;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="çµ„ä»¶"><a href="#çµ„ä»¶" class="headerlink" title="çµ„ä»¶"></a>çµ„ä»¶</h2><p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ImageBox <span class="keyword">from</span> <span class="string">&quot;./components/ImageBox/index.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> LoadingBar <span class="keyword">from</span> <span class="string">&quot;./components/LoadingBar.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    LoadingBar,</span><br><span class="line">    ImageBox,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> handImgLoad = <span class="function">(<span class="params">imgArr</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">      imgArr.forEach(<span class="function">(<span class="params">image</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> newImage = <span class="keyword">new</span> Image();</span><br><span class="line">        newImage.src = image.url;</span><br><span class="line">        newImage.onload = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          i++;</span><br><span class="line">          store.dispatch(<span class="string">&quot;handLoadState&quot;</span>, i === imgArr.length);</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> init = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&quot;handInit&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        handImgLoad(res); <span class="comment">// resç‚ºhandInitå›å‚³çš„è³‡æ–™</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      init();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">LoadingBar</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ImageBox</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>loading çµ„ä»¶<br>components/LoadingBar.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isLoad = computed(<span class="function">() =&gt;</span> store.getters.isLoad);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; isLoad &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-show</span>=<span class="string">&quot;!isLoad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;load&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../assets/load.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ–ç‰‡çµ„ä»¶<br>components/ImageBox/index.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ImgShow <span class="keyword">from</span> <span class="string">&quot;./ImgShow.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ChangeBtn <span class="keyword">from</span> <span class="string">&quot;./ChangeBtn.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ImgShow,</span><br><span class="line">    ChangeBtn,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isLoad = computed(<span class="function">() =&gt;</span> store.getters.isLoad);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; isLoad &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isLoad&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ImgShow</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ChangeBtn</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ–ç‰‡åˆ‡æ›æŒ‰éˆ•<br>components/ImageBox/ChangeBtn.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> addImg = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&quot;handAdd&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> removeImg = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&quot;handRemove&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; addImg, removeImg &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnbox&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;removeImg&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>ä¸Šä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;addImg&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>ä¸‹ä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ–ç‰‡é¡¯ç¤ºçµ„ä»¶<br>components/ImageBox/ImgShow.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> photoArr = computed(<span class="function">() =&gt;</span> store.getters.photoArr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> idx = computed(<span class="function">() =&gt;</span> store.getters.idx);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; photoArr, idx &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &lt;img</span><br><span class="line">    class=&quot;img&quot;</span><br><span class="line">    v-for=&quot;(item, s) in photoArr&quot;</span><br><span class="line">    v-show=&quot;idx === s&quot;</span><br><span class="line">    :key=&quot;item.url&quot;</span><br><span class="line">    :src=&quot;item.url&quot;</span><br><span class="line">    alt=&quot;&quot;</span><br><span class="line">  /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>vuex</tag>
      </tags>
  </entry>
  <entry>
    <title>Vuex è³‡æ–™æµï¼Œè¨­å®šVuexèˆ‡modulesç®¡ç†</title>
    <url>/2021/03/16/vue-vuex/</url>
    <content><![CDATA[<h1 id="ä»€éº¼æ˜¯-Vuex"><a href="#ä»€éº¼æ˜¯-Vuex" class="headerlink" title="ä»€éº¼æ˜¯ Vuex?"></a>ä»€éº¼æ˜¯ Vuex?</h1><p>Vuex æ˜¯ Vue æ‡‰ç”¨ç¨‹å¼çš„ç‹€æ…‹ç®¡ç†ï¼Œçµ„ä»¶å¸¸æœƒè·¨çµæ§‹çš„å‚³éç‹€æ…‹ã€éœ€è¦å…¨åŸŸç‹€æ…‹çš„ç®¡ç†ï¼Œç”¨ Vuex å¯ä»¥æ›´å®¹æ˜“çš„æ§ç®¡ä½ çš„è³‡æ–™æµã€‚</p>
<a id="more"></a>

<p>æ²’æœ‰ç”¨Vuex<br><img src="https://i.imgur.com/yAFf3sQ.png" alt="Imgur"></p>
<p>ä½¿ç”¨Vuex<br><img src="https://i.imgur.com/Bogdlvu.png" alt="Imgur"></p>
<h1 id="Vuex-çš„å‰ç½®ä½œæ¥­"><a href="#Vuex-çš„å‰ç½®ä½œæ¥­" class="headerlink" title="Vuex çš„å‰ç½®ä½œæ¥­"></a>Vuex çš„å‰ç½®ä½œæ¥­</h1><p>store/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;&#125;,</span><br><span class="line">  actions: &#123;&#125;,</span><br><span class="line">  mutations: &#123;&#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>main.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"></span><br><span class="line">createApp(App)</span><br><span class="line">  .use(store) <span class="comment">// ä½¿ç”¨store</span></span><br><span class="line">  .mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<h1 id="State-Getters-Mutations-Actions"><a href="#State-Getters-Mutations-Actions" class="headerlink" title="State Getters Mutations Actions"></a>State Getters Mutations Actions</h1><p>State:<br>ğŸ”¸ å­˜æ”¾è³‡æ–™ç‹€æ…‹</p>
<p>Getters:<br>ğŸ”¸ å–å¾—ç‹€æ…‹ï¼Œé¡ä¼¼ computed é‡çµ„è³‡æ–™<br>ğŸ”¸ components ä¸è¦ç›´æ¥å–å¾— stateï¼Œå…ˆç”¨ getters å»è™•ç†è³‡æ–™é‚è¼¯ï¼Œå†å›å‚³è³‡æ–™ã€‚</p>
<p>Mutations:<br>ğŸ”¸ å”¯ä¸€æ”¹è®Š state çš„æ–¹æ³•<br>ğŸ”¸ åªèƒ½åšåŒæ­¥æ“ä½œï¼Œmutations ä¸èƒ½åšéåŒæ­¥æ“ä½œ<br>ğŸ”¸ mutations éœ€ç”¨ commit å‘¼å«</p>
<p>Actions:<br>ğŸ”¸ actions è§¸ç™¼ mutationsï¼Œcommit æœƒç™¼é€äº‹ä»¶çµ¦ mutations<br>ğŸ”¸ actions æ‰åšéåŒæ­¥æ“ä½œ<br>ğŸ”¸ éœ€ç”¨ dispatch å‘¼å«<br>ğŸ”¸ ä¸èƒ½æ›´æ”¹ state</p>
<p>æµç¨‹: components âœ dispatch âœ <code>actions</code> âœ commit âœ <code>mutations</code> âœ <code>state</code> âœ <code>getters</code> âœ components</p>
<h2 id="Vuex-ç¯„ä¾‹"><a href="#Vuex-ç¯„ä¾‹" class="headerlink" title="Vuex ç¯„ä¾‹"></a>Vuex ç¯„ä¾‹</h2><p>å´é‚Šé¸å–®æ”¶åˆ</p>
<p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> MenuBtn <span class="keyword">from</span> <span class="string">&quot;../src/components/MenuBtn.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> MenuSlid <span class="keyword">from</span> <span class="string">&quot;../src/components/MenuSlid.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    MenuBtn,</span><br><span class="line">    MenuSlid,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">MenuBtn</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">MenuSlid</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Microsoft JhengHei&quot;</span>, <span class="string">&quot;Heiti TC&quot;</span>, <span class="string">&quot;sans-serif&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  &gt; .content &#123;</span><br><span class="line">    <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    <span class="selector-tag">height</span>: 100%;</span><br><span class="line">    <span class="selector-tag">background-image</span>: <span class="selector-tag">url</span>(&quot;<span class="selector-tag">https</span>://<span class="selector-tag">source</span><span class="selector-class">.unsplash</span><span class="selector-class">.com</span>/<span class="selector-tag">WLUHO9A_xik</span>/1600<span class="selector-tag">x900</span>&quot;);</span><br><span class="line">    <span class="selector-tag">background-size</span>: <span class="selector-tag">cover</span>;</span><br><span class="line">    <span class="selector-tag">background-position</span>: <span class="selector-tag">center</span>;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line">    <span class="selector-tag">justify-content</span>: <span class="selector-tag">center</span>;</span><br><span class="line">    <span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p>store/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    isOpen: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// actionsè§¸ç™¼mutationsï¼Œcommitæœƒç™¼é€äº‹ä»¶çµ¦mutations</span></span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">handMenuOpen</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">      <span class="comment">// context.stateç­‰æ–¼storeçš„state</span></span><br><span class="line">      <span class="keyword">const</span> openBool = !context.state.isOpen;</span><br><span class="line">      <span class="comment">// å‚³å…¥openBoolåƒæ•¸çµ¦mutations</span></span><br><span class="line">      context.commit(<span class="string">&#x27;handOpenState&#x27;</span>, openBool);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// åªæœ‰mutationså¯ä»¥ä¿®æ”¹state</span></span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">// æ¥æ”¶actionsçµ¦çš„åƒæ•¸openBoolï¼Œå†å»æ”¹è®Šstateçš„å€¼</span></span><br><span class="line">    <span class="function"><span class="title">handOpenState</span>(<span class="params">state, openBool</span>)</span> &#123;</span><br><span class="line">      state.isOpen = openBool;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// é¡ä¼¼computedé‡çµ„è³‡æ–™ï¼Œä¸è¦ç›´æ¥å–å¾—stateï¼Œå…ˆç”¨getterså»è™•ç†è³‡æ–™é‚è¼¯ï¼Œå†å›å‚³è³‡æ–™</span></span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">isOpen</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.isOpen;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<br>

<p>MenuSlid.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>; <span class="comment">// æ‰€æœ‰è·Ÿvuexæœ‰é—œçš„å…§å®¹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line">    <span class="comment">// ç”¨computedå–å¾—isOpenè³‡æ–™ï¼Œä¸è¦æŠŠæ•´å€‹store returnå‡ºä¾†</span></span><br><span class="line">    <span class="keyword">const</span> isOpen = computed(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> store.getters.isOpen</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> handClickMenu = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&#x27;handMenuOpen&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; handClickMenu, isOpen &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;menu&#x27;, &#123;open: isOpen&#125; ]&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;closeBtn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handClickMenu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-times fa-3x&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>abous<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>content<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>user<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>address<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br>
MenuBtn.vue

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> store = useStore();</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line">    <span class="comment">// ç”¨dispatchè§¸ç™¼ä¸€å€‹äº‹ä»¶åˆ°actions</span></span><br><span class="line">    <span class="keyword">const</span> handClickMenu = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&#x27;handMenuOpen&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; handClickMenu &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;menuBtn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handClickMenu&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-bars fa-3x&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-class">.menuBtn</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<h1 id="Vuex-çµæ§‹æ‹†åˆ†"><a href="#Vuex-çµæ§‹æ‹†åˆ†" class="headerlink" title="Vuex çµæ§‹æ‹†åˆ†"></a>Vuex çµæ§‹æ‹†åˆ†</h1><p>ç•¶ Vuex å…§å®¹è¶Šä¾†è¶Šå¤šæ™‚ï¼Œå¯ä»¥æ‹†åˆ†æª”æ¡ˆï¼Œæ¯”è¼ƒå¥½ç®¡ç†</p>
<p>store/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> state <span class="keyword">from</span> <span class="string">&#x27;./state.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">&#x27;./actions.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">&#x27;./mutations.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> getters <span class="keyword">from</span> <span class="string">&#x27;./getters.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state, actions, mutations, getters</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>store/state.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  isOpen: <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>store/getters.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">isOpen</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state.isOpen;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>store/mutations.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">handOpenState</span>(<span class="params">state, openBool</span>)</span> &#123;</span><br><span class="line">    state.isOpen = openBool;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>store/actions.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">handMenuOpen</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> openBool = !context.state.isOpen;</span><br><span class="line">    context.commit(<span class="string">&#x27;handOpenState&#x27;</span>, openBool);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Vuex-modules"><a href="#Vuex-modules" class="headerlink" title="Vuex modules"></a>Vuex modules</h1><p>moduleå¯ä»¥ä¾ç…§åŠŸèƒ½ä¾†å€åˆ†è³‡æ–™<br>è¨­å®šnamespacedåœ¨ä¸åŒçš„moduleså¯ä»¥æœ‰ä¸€æ¨£çš„åç¨±ï¼Œä¾ç…§modulesåç¨±åšåˆ¤æ–·</p>
<p>store/Auth/index.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  namespaced: <span class="literal">true</span>,</span><br><span class="line">  state: &#123;</span><br><span class="line">    token: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">handSetToken</span>(<span class="params">context, token</span>)</span> &#123;</span><br><span class="line">      context.commit(<span class="string">&#x27;setToken&#x27;</span>, token);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">setToken</span>(<span class="params">state, token</span>)</span> &#123;</span><br><span class="line">      state.token = token;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">getToken</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.token;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å› ç‚ºè¨­å®šnamespacedï¼Œå‰é¢è¦åŠ modulesåç¨±Auth/</span></span><br><span class="line">      store.dispatch(<span class="string">&#x27;Auth/handSetToken&#x27;</span>, <span class="string">&#x27;aaa&#x27;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(store.getters[<span class="string">&#x27;Auth/getToken&#x27;</span>]);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>vuex</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3åŸºæœ¬æ“ä½œ-1</title>
    <url>/2021/03/02/vue3-base1/</url>
    <content><![CDATA[<h1 id="vue-js-çš„èµ·æ‰‹å¼"><a href="#vue-js-çš„èµ·æ‰‹å¼" class="headerlink" title="vue.js çš„èµ·æ‰‹å¼"></a>vue.js çš„èµ·æ‰‹å¼</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handAddInt&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> handAddInt = <span class="function">() =&gt;</span> msg.value++;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// è®Šæ•¸å›å‚³åˆ°æ¨¡ç‰ˆ</span></span><br><span class="line">      msg,</span><br><span class="line">      handAddInt,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">Vue.createApp(App).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>ä»¥å¾€ VUE2 ä½¿ç”¨ new Vue å‰µå»ºå¯¦é«”ï¼ŒVUE3 ä½¿ç”¨ createApp ä¾†å‰µå»ºæ‡‰ç”¨ç¨‹å¼(App)çš„å¯¦é«”ï¼Œä¸¦æ›è¼‰åˆ° DOM ä¸Š<br>setup() æ”¾å…¥æ‰€æœ‰è·Ÿ vue.js ç›¸é—œçš„æ“ä½œå…§å®¹<br>return æ”¾å…¥è¦å›å‚³åˆ° HTML çš„è³‡æ–™<br>é€é ref è®“è³‡æ–™åšç¶å®šï¼Œref éœ€è¦é€é.value å­˜å–è³‡æ–™</p>
<h1 id="ref-amp-reactive"><a href="#ref-amp-reactive" class="headerlink" title="ref &amp; reactive"></a>ref &amp; reactive</h1><h2 id="é¸æ“‡-ref-é‚„æ˜¯-reactive"><a href="#é¸æ“‡-ref-é‚„æ˜¯-reactive" class="headerlink" title="é¸æ“‡ ref é‚„æ˜¯ reactive"></a>é¸æ“‡ ref é‚„æ˜¯ reactive</h2><p>åœ¨å¤§å¤šæ•¸æƒ…æ³ä¸‹å…©è€…å¯ä»¥äº’ç›¸æ›¿æ›ä½¿ç”¨ï¼Œä¸»è¦å–æ±ºæ–¼å€‹äººå–œå¥½æˆ–è€…åœ˜éšŠç¿’æ…£ï¼Œæ ¹æ“šå…·é«”æƒ…æ³å»æ±ºå®šè¦ä½¿ç”¨å“ªå€‹å°±å¥½</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message.text&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> message = reactive(&#123; <span class="attr">text</span>: <span class="string">&quot;hello&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg,</span><br><span class="line">      message,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ref"><a href="#ref" class="headerlink" title="ref()"></a>ref()</h2><p>å¯ä»¥æ¥å—ä»»ä½•å‹æ…‹çš„è³‡æ–™ï¼Œä½†æ˜¯ä¸æœƒå°ç‰©ä»¶æˆ–é™£åˆ—å…§éƒ¨çš„å±¬æ€§è®Šå‹•åšç›£è½ï¼Œéœ€è¦é€é<code>.value</code>å­˜å–è³‡æ–™ã€‚</p>
<h2 id="reactive"><a href="#reactive" class="headerlink" title="reactive()"></a>reactive()</h2><p>åªèƒ½æ¥å—ç‰©ä»¶æˆ–é™£åˆ—ï¼Œå¯ä»¥åšæ·±å±¤çš„ç›£è½ï¼Œä»¥åŠè¨ªå•è³‡æ–™ä¸éœ€è¦<code>.value</code></p>
<hr>
<h1 id="v-model-è³‡æ–™é›™å‘ç¶å®š"><a href="#v-model-è³‡æ–™é›™å‘ç¶å®š" class="headerlink" title="v-model è³‡æ–™é›™å‘ç¶å®š"></a>v-model è³‡æ–™é›™å‘ç¶å®š</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message.text&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message.text&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> message = reactive(&#123; <span class="attr">text</span>: <span class="string">&quot;hello&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg,</span><br><span class="line">      message,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="v-on-Event-äº‹ä»¶ç¶å®š"><a href="#v-on-Event-äº‹ä»¶ç¶å®š" class="headerlink" title="v-on:Event äº‹ä»¶ç¶å®š"></a>v-on:Event äº‹ä»¶ç¶å®š</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addCount&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;reduceCount&quot;</span>&gt;</span>Reduce<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      count.value++;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> reduceCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      count.value--;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count,</span><br><span class="line">      addCount,</span><br><span class="line">      reduceCount,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h1><p>readonlyÂ  å°±æ˜¯è®“ä½ çš„ Â refÂ  æˆ–æ˜¯ Â reactiveÂ  çš„è³‡æ–™åªå¯ä»¥è®€å–ä¸å¯ä»¥è¢«ä¿®æ”¹<br>éå¸¸é©åˆç”¨åœ¨åƒæ•¸å‚³éçš„æ™‚å€™é¿å…ä¸å°å¿ƒè¢«ä¿®æ”¹è³‡æ–™</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, readonly &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> copyCount = readonly(count);</span><br><span class="line">    <span class="keyword">const</span> addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      copyCount.value++;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> reduceCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      copyCount.value--;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count,</span><br><span class="line">      addCount,</span><br><span class="line">      reduceCount,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é»æ“ŠæŒ‰éˆ•æ™‚ copyCount ç„¡æ³•è¢«ä¿®æ”¹</p>
<hr>
<h1 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, idx) in dogs&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span>&#123;&#123;idx+1&#125;&#125;-&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> dogs = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è´è¶çŠ¬&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æŸ´çŠ¬&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;åšç¾çŠ¬&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å“ˆå£«å¥‡&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹é¬¥ç‰›çŠ¬&quot;</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      dogs,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="KEY"><a href="#KEY" class="headerlink" title="KEY"></a>KEY</h2><p>ç‚ºäº†ä¸è¦é‡è¤‡æ¸²æŸ“ï¼Œv-for å¿…é ˆåŠ ä¸Š keyï¼Œä¿®æ”¹è³‡æ–™æ™‚å°±ä¸æœƒå…¨éƒ¨çš„ DOM ä¸€èµ·ä¿®æ”¹<br>ä½¿ç”¨ v-for æ™‚ä¸€å®šè¦çµ¦ key<br>ä½¿ç”¨ v-for æ™‚ä¸è¦æ‹¿ç´¢å¼•ç•¶ key<br>ä½¿ç”¨å”¯ä¸€çš„å€¼ç•¶ key çš„å€¼</p>
<hr>
<h1 id="v-if-èˆ‡-v-show"><a href="#v-if-èˆ‡-v-show" class="headerlink" title="v-if èˆ‡ v-show"></a>v-if èˆ‡ v-show</h1><p>é¡¯ç¤ºã€éš±è— DOM å…ƒç´ </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;text&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;text&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handDomShow&quot;</span>&gt;</span>show text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isShow = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">const</span> text = ref(<span class="string">&quot;hello VUE!&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> handDomShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isShow.value = !isShow.value;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShow,</span><br><span class="line">      text,</span><br><span class="line">      handDomShow,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h2><p>ç›´æ¥å°‡ DOM å¾é é¢ä¸Šç§»é™¤è·ŸåŠ å…¥<br>v-if å¯ä»¥æ¸›å°‘æ¸²æŸ“é€Ÿåº¦çš„æ•ˆèƒ½<br>å¯ç”¨æ–¼æ¬Šé™æˆ–ä¸€é–‹å§‹å°±ä¸è©²å‡ºç¾çš„å€å¡Š<br>å¦‚æœæ˜¯ DOM å…ƒç´ åˆ‡æ›çš„åŠŸèƒ½ï¼Œæ¶ˆè€—çš„è³‡æºæ¯”è¼ƒé«˜ï¼Œå»ºè­°ç”¨ v-show</p>
<h2 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h2><p>é€é CSS çš„ display : none; è·Ÿ display : block; ä¾†é¡¯ç¤ºé—œé–‰<br>v-show å¯ä»¥æå‡åˆ‡æ›é€Ÿåº¦æ•ˆèƒ½<br>é©åˆåš tab åˆ‡æ›çš„åŠŸèƒ½</p>
<hr>
<h1 id="v-bind-attribute-å±¬æ€§ç¶å®š"><a href="#v-bind-attribute-å±¬æ€§ç¶å®š" class="headerlink" title="v-bind:attribute å±¬æ€§ç¶å®š"></a>v-bind:attribute å±¬æ€§ç¶å®š</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.blue</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  &lt;li</span><br><span class="line">    v-for=&quot;(list, idx) in listArr&quot;</span><br><span class="line">    v-bind:class=&quot;list.status&quot;</span><br><span class="line">    v-bind:key=&quot;list.name&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &#123;&#123;idx + 1&#125;&#125;. &#123;&#123;list.name&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è´è¶çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;red&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æŸ´çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;blue&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;åšç¾çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;red&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å“ˆå£«å¥‡&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;red&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹é¬¥ç‰›çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;blue&quot;</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      listArr,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚è¦ç¶å®šå…©å€‹ä»¥ä¸Šçš„ class å¯å¯«æˆ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">:<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;box&#x27;, &#123;open: isOpen&#125;]&quot;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>ref</tag>
        <tag>reactive</tag>
        <tag>v-model</tag>
        <tag>v-on</tag>
        <tag>readonly</tag>
        <tag>v-for</tag>
        <tag>v-show</tag>
        <tag>v-if</tag>
        <tag>v-bind</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3åŸºæœ¬æ“ä½œ-2</title>
    <url>/2021/03/04/vue3-base2/</url>
    <content><![CDATA[<h1 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h1><h2 id="ç¯„ä¾‹-1-è‡ªå‹•é•·å‡º-menu-é«˜åº¦"><a href="#ç¯„ä¾‹-1-è‡ªå‹•é•·å‡º-menu-é«˜åº¦" class="headerlink" title="ç¯„ä¾‹ 1: è‡ªå‹•é•·å‡º menu é«˜åº¦"></a>ç¯„ä¾‹ 1: è‡ªå‹•é•·å‡º menu é«˜åº¦</h2><p>è¨ˆç®—å±¬æ€§</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;HandListShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>èœå–®<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;height: toggleH&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(list, idx) in listArr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list&quot;</span>&gt;</span>&#123;&#123;list.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, computed &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isOpen = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è›‹ç³•&quot;</span>, <span class="attr">money</span>: <span class="number">3200</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç´…èŒ¶æ‹¿éµ&quot;</span>, <span class="attr">money</span>: <span class="number">100</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç¾©å¤§åˆ©éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">500</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰ç±³æ¿ƒæ¹¯&quot;</span>, <span class="attr">money</span>: <span class="number">300</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æµ·é®®ç‡‰é£¯&quot;</span>, <span class="attr">money</span>: <span class="number">1600</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å¤å¨å¤·æŠ«è–©&quot;</span>, <span class="attr">money</span>: <span class="number">900</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰›è‚‰éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹éºµåŒ…&quot;</span>, <span class="attr">money</span>: <span class="number">1800</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> HandListShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isOpen.value = !isOpen.value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> toggleH = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> isOpen.value ? <span class="string">`<span class="subst">$&#123;listArr.length * <span class="number">40</span>&#125;</span>px`</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isOpen,</span><br><span class="line">      listArr,</span><br><span class="line">      HandListShow,</span><br><span class="line">      toggleH,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Computed-è·Ÿ-Methods"><a href="#Computed-è·Ÿ-Methods" class="headerlink" title="Computed è·Ÿ Methods"></a>Computed è·Ÿ Methods</h3><p><strong>computed</strong></p>
<p>æœƒä¾æ“šè¨ˆç®—çš„è³‡æ–™<strong>é€²è¡Œç·©å­˜</strong>ï¼Œåªè¦ä½ çš„è³‡æ–™æ²’æœ‰é‡æ–°è¢«æ›´æ”¹ï¼Œä½ çš„ computed ä¸æœƒè¢«é‡æ–°è¨ˆç®—åŸ·è¡Œï¼Œå¦‚ä¸é ˆå‚³å…¥åƒæ•¸ï¼Œå»ºè­°éƒ½ä½¿ç”¨ computed è¨ˆç®—</p>
<p><strong>methods</strong></p>
<p>é›–å¯ä»¥é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼Œä½† methods<strong>ä¸æœƒé€²è¡Œç·©å­˜</strong>ï¼Œæ¯æ¬¡éƒ½æœƒé‡æ–°åŸ·è¡Œ ï¼Œå¯ä»¥<strong>å‚³å…¥åƒæ•¸</strong>é€²è¡Œè™•ç†</p>
<h2 id="ç¯„ä¾‹-2-è¨ˆç®—è³‡æ–™"><a href="#ç¯„ä¾‹-2-è¨ˆç®—è³‡æ–™" class="headerlink" title="ç¯„ä¾‹ 2: è¨ˆç®—è³‡æ–™"></a>ç¯„ä¾‹ 2: è¨ˆç®—è³‡æ–™</h2><p>åˆ©ç”¨ computed å–å¾—è³‡æ–™</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;HandListShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>èœå–®<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;height: toggleH&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(list, idx) in newMenu&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list.menu&quot;</span>&gt;</span>&#123;&#123;list.menu&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, computed &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isOpen = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è›‹ç³•&quot;</span>, <span class="attr">money</span>: <span class="number">3200</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç´…èŒ¶æ‹¿éµ&quot;</span>, <span class="attr">money</span>: <span class="number">100</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç¾©å¤§åˆ©éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">500</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰ç±³æ¿ƒæ¹¯&quot;</span>, <span class="attr">money</span>: <span class="number">300</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æµ·é®®ç‡‰é£¯&quot;</span>, <span class="attr">money</span>: <span class="number">1600</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å¤å¨å¤·æŠ«è–©&quot;</span>, <span class="attr">money</span>: <span class="number">900</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰›è‚‰éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹éºµåŒ…&quot;</span>, <span class="attr">money</span>: <span class="number">1800</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> HandListShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isOpen.value = !isOpen.value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> toggleH = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> isOpen.value ? <span class="string">`<span class="subst">$&#123;listArr.length * <span class="number">40</span>&#125;</span>px`</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> newMenu = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> map = listArr.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">menu</span>: <span class="string">`<span class="subst">$&#123;item.name&#125;</span>, $: <span class="subst">$&#123;item.money&#125;</span>`</span> &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> map;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isOpen,</span><br><span class="line">      newMenu,</span><br><span class="line">      HandListShow,</span><br><span class="line">      toggleH,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ç¯„ä¾‹ä¸‰-è³‡æ–™ç¯©é¸-Data-Filter"><a href="#ç¯„ä¾‹ä¸‰-è³‡æ–™ç¯©é¸-Data-Filter" class="headerlink" title="ç¯„ä¾‹ä¸‰: è³‡æ–™ç¯©é¸ Data Filter"></a>ç¯„ä¾‹ä¸‰: è³‡æ–™ç¯©é¸ Data Filter</h2><p>v-for è·Ÿ v-if å®˜æ–¹ä¸æ¨è–¦ä¸€èµ·ä½¿ç”¨ï¼Œæœƒæœ‰å„ªå…ˆé †åºçš„å•é¡Œï¼Œv-if æœƒå…ˆåŸ·è¡Œï¼Œv-for çš„å€¼æœƒè®Š undefined<br>æ­£ç¢ºçš„åšæ³•æ‡‰è©²è¦å…ˆé€é computed æŠŠè³‡æ–™ç¯©é¸å‡ºä¾†å¾Œå†é€²è¡Œ v-for<br>åªè¦è¢« computed é‡æ–°åŒ…è£éå¾Œï¼Œé ˆä½¿ç”¨<code>.value</code>å–å¾—è³‡æ–™</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;HandListShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>èª²ç¨‹åˆ—è¡¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;height: BoxHeight&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(list, idx) in filterData&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list.money&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;idx + 1&#125;&#125;. &#123;&#123;list.name&#125;&#125; =&gt; $&#123;&#123;list.money&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, computed &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isOpen = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è›‹ç³•&quot;</span>, <span class="attr">money</span>: <span class="number">3200</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç´…èŒ¶æ‹¿éµ&quot;</span>, <span class="attr">money</span>: <span class="number">100</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç¾©å¤§åˆ©éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">500</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰ç±³æ¿ƒæ¹¯&quot;</span>, <span class="attr">money</span>: <span class="number">300</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æµ·é®®ç‡‰é£¯&quot;</span>, <span class="attr">money</span>: <span class="number">1600</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å¤å¨å¤·æŠ«è–©&quot;</span>, <span class="attr">money</span>: <span class="number">900</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰›è‚‰éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹éºµåŒ…&quot;</span>, <span class="attr">money</span>: <span class="number">1800</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> filterData = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> filter = listArr.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> item.money &gt; <span class="number">500</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(filter);</span><br><span class="line">      <span class="keyword">return</span> filter;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> BoxHeight = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// è¢« computed é‡æ–°åŒ…è£éå¾Œï¼Œé ˆä½¿ç”¨`.value`å–å¾—è³‡æ–™</span></span><br><span class="line">      <span class="keyword">return</span> isOpen.value ? <span class="string">`<span class="subst">$&#123;filterData.value.length * <span class="number">40</span>&#125;</span>px`</span> : <span class="string">&quot;0px&quot;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> HandListShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isOpen.value = !isOpen.value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isOpen,</span><br><span class="line">      filterData,</span><br><span class="line">      HandListShow,</span><br><span class="line">      BoxHeight,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h1><p>è³‡æ–™ç›£æ§<br>å¯å¸¶å…¥å…©å€‹åƒæ•¸ï¼Œå¦‚è³‡æ–™è¢«æ”¹è®Šæœƒè‡ªå‹•åŸ·è¡Œ callback</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">watch(è¦ç›£æ§çš„è³‡æ–™, <span class="function">(<span class="params">æ–°è³‡æ–™, èˆŠè³‡æ–™</span>) =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="ç›£æ§-ref"><a href="#ç›£æ§-ref" class="headerlink" title="ç›£æ§ ref"></a>ç›£æ§ ref</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> idx = ref(<span class="number">0</span>);</span><br><span class="line">    watch(idx, <span class="function">(<span class="params">newIdx, oldIdx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;newIdx:&quot;</span>, newIdx, <span class="string">&quot;oldIdx:&quot;</span>, oldIdx);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      idx.value++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ç›£æ§-reactive"><a href="#ç›£æ§-reactive" class="headerlink" title="ç›£æ§ reactive"></a>ç›£æ§ reactive</h2><p>watch ç›£æ§çš„å€¼ç‚º getterï¼Œåªèƒ½è¢«è®€å–çš„å€¼ï¼Œéœ€é€éå‡½å¼å›å‚³ reactive çš„å€¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    watch(</span><br><span class="line">      () =&gt; data.idx, <span class="comment">// watchç›£æ§çš„å€¼ç‚ºgetterï¼Œåªèƒ½è¢«è®€å–çš„å€¼</span></span><br><span class="line">      (newIdx, oldIdx) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;newIdx:&quot;</span>, newIdx, <span class="string">&quot;oldIdx:&quot;</span>, oldIdx);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      data.idx++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ç›£æ§æ•´å€‹-Array-æˆ–-object"><a href="#ç›£æ§æ•´å€‹-Array-æˆ–-object" class="headerlink" title="ç›£æ§æ•´å€‹ Array æˆ– object"></a>ç›£æ§æ•´å€‹ Array æˆ– object</h2><p>ref ä¸èƒ½ç›£æ§æ•´å€‹ç‰©ä»¶çš„è®Šå‹•ï¼Œåªèƒ½ç›£æ§å–®ä¸€å€¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> refObj = ref(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    <span class="keyword">const</span> reactiveObj = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    watch(refObj, <span class="function">(<span class="params">newIdx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;ref&quot;</span>, refObj);</span><br><span class="line">    &#125;);</span><br><span class="line">    watch(reactiveObj, <span class="function">(<span class="params">newIdx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;reactiveObj&quot;</span>, reactiveObj);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      refObj.value.idx++;</span><br><span class="line">      reactiveObj.idx++;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123; refObj, reactiveObj &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚éœ€ä½¿ç”¨ ref åšæ·±å±¤ç›£æ§ï¼Œå¯ä»¥ä½¿ç”¨ <strong>deep</strong>ï¼Œä½†éå¸¸è€—æ•ˆèƒ½ï¼Œä¸å»ºè­°ä½¿ç”¨ï¼Œå»ºè­°ç›£æ§å–®ä¸€å€¼å°±å¥½</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = ref(&#123; <span class="attr">user</span>: &#123;&#125; &#125;);</span><br><span class="line"></span><br><span class="line">    watch(</span><br><span class="line">      data,</span><br><span class="line">      (newVal) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(newVal);</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123; <span class="attr">deep</span>: <span class="literal">true</span> &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      data.value.user[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;æ³¢æ¯”&quot;</span>;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="watchEffect"><a href="#watchEffect" class="headerlink" title="watchEffect"></a>watchEffect</h1><p>ä¸é ˆå‚³å…¥è¦ç›£æ§çš„å€¼ï¼Œå€¼åœ¨é‚„æ²’è®Šå‹•æ™‚å°±æœƒé–‹å§‹ç›£æ§<br>æœ‰å¯«é€² watchEffect çš„è³‡æ–™éƒ½æœƒè¢«è®€å–ï¼Œå³ä½¿æ˜¯æ²’æœ‰æ”¹è®Šçš„å€¼ä¹Ÿæœƒå†è¢« show å‡ºä¾†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watchEffect &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> numData = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line"></span><br><span class="line">    watchEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num.value);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      num.value++;</span><br><span class="line">      numData.idx++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="åœæ­¢-watchEffect-çš„ç›£æ§"><a href="#åœæ­¢-watchEffect-çš„ç›£æ§" class="headerlink" title="åœæ­¢ watchEffect çš„ç›£æ§"></a>åœæ­¢ watchEffect çš„ç›£æ§</h2><p>çµ¦ watchEffect è‡ªå®šç¾©ä¸€å€‹è®Šæ•¸ï¼Œä¸¦åŸ·è¡Œï¼Œå°‡æœƒåœæ­¢ watchEffect</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watchEffect &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> numData = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">const</span> stop = watchEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num.value);</span><br><span class="line">      <span class="keyword">if</span> (num.value &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">        stop(); <span class="comment">// åœæ­¢watchEffect</span></span><br><span class="line">        <span class="built_in">clearInterval</span>(timer); <span class="comment">// watchEffecté—œé–‰å¾Œä¸æœƒåœæ­¢setTimeoutï¼Œéœ€è¦å†clearInterval</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      num.value++;</span><br><span class="line">      numData.idx++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<p>å¦‚æœé€™ç¯‡ç­†è¨˜æœ‰å¹«åŠ©ï¼Œéº»ç…©è«‹å¹«æˆ‘æŒ‰äº”ä¸‹ Likerï¼Œçµ¦æˆ‘ä¸€é»é¼“å‹µå”·ï¼æŒ‰è®šæ˜¯å…éŒ¢æ»´ ğŸ˜€</p>
]]></content>
      <categories>
        <category>Vue3</category>
      </categories>
      <tags>
        <tag>Vue.js</tag>
        <tag>javascript</tag>
        <tag>VueJs</tag>
        <tag>computed</tag>
        <tag>watch</tag>
        <tag>watchEffect</tag>
      </tags>
  </entry>
  <entry>
    <title>èªè­˜ HTTP Header</title>
    <url>/2022/01/02/web-http-header/</url>
    <content><![CDATA[<p><img src="https://imgur.com/w3Kil1b.png" alt="HTTP HEADER"></p>
<p>ä¸Šæ¬¡è¢«å¾Œç«¯å•äº†é—œæ–¼ Header çš„å•é¡Œï¼Œç™¼ç¾æˆ‘å°é€™ HTTP çš„çŸ¥è­˜è–„å¼±ï¼Œå¯¦åœ¨æ…šæ„§ğŸ¥ºï¼Œé¦¬ä¸Šä¸Šç¶²ç§‘æ™®ä¸€ä¸‹ï¼Œ<br>å¥½åœ¨æ‰¾åˆ°äº†<a href="https://www.youtube.com/watch?v=qTpw9EKEeqk">å·ç±³é¨å·´å“¥</a>å¤§å¤§åˆ†äº«çš„ç›´æ’­å½±ç‰‡ï¼Œä»¥ä¸‹æ˜¯å¾å½±ç‰‡å…§å®¹è£¡æ•´ç†çš„è³‡æ–™ï¼Œç­†è¨˜è¨˜éŒ„ä¸€ä¸‹</p>
<a id="more"></a>

<p>HTTP æ˜¯é€šè¨Šå”å®šï¼Œé›»è…¦èˆ‡é›»è…¦æºé€šçš„èªè¨€</p>
<h1 id="å‰ç«¯ç‚ºä½•è¦äº†è§£-HTTP"><a href="#å‰ç«¯ç‚ºä½•è¦äº†è§£-HTTP" class="headerlink" title="å‰ç«¯ç‚ºä½•è¦äº†è§£ HTTP"></a>å‰ç«¯ç‚ºä½•è¦äº†è§£ HTTP</h1><p>ğŸ”¸ å‰ç«¯ç¶“å¸¸éœ€è¦èˆ‡å¾Œç«¯åˆä½œ<br>ğŸ”¸ é‡æ¸…è²¬ä»»æ­¸å±¬<br>ğŸ”¸ äº†è§£ç€è¦½å™¨é‹ä½œåŸç†</p>
<br />

<h1 id="ä»€éº¼æ˜¯-HTTP-Header"><a href="#ä»€éº¼æ˜¯-HTTP-Header" class="headerlink" title="ä»€éº¼æ˜¯ HTTP Header"></a>ä»€éº¼æ˜¯ HTTP Header</h1><p>ğŸ”¸ å‚³é€å…§å®¹ä»¥å¤–çš„è³‡è¨Š<br>å…§å®¹æ˜¯ä»€éº¼æ ¼å¼? å…§å®¹æœ‰å¤šå¤§? å…§å®¹å¤šä¹…å¾ŒéæœŸ?â€¦ç­‰ç­‰<br>å…§å®¹ç‚º HTMLã€åœ–ç‰‡ã€å­—å‹ã€CSSã€JavaScriptã€JSONâ€¦ç­‰ç­‰</p>
<p>ğŸ”¸ Header ä¸€å®šåœ¨å…§å®¹å‰é¢</p>
<p>ğŸ”¸ ç´°åˆ† Genaral Headerã€Request/Response Headerã€Entity Header</p>
<br />

<h1 id="å¦‚ä½•å°‡è³‡æ–™å‚³é€åˆ°å°æ–¹é›»è…¦"><a href="#å¦‚ä½•å°‡è³‡æ–™å‚³é€åˆ°å°æ–¹é›»è…¦" class="headerlink" title="å¦‚ä½•å°‡è³‡æ–™å‚³é€åˆ°å°æ–¹é›»è…¦"></a>å¦‚ä½•å°‡è³‡æ–™å‚³é€åˆ°å°æ–¹é›»è…¦</h1><p>TCP/IP å”å®š(Transmission Control Protocol / Internet Protocol)<br>ç¶²éš›ç¶²è·¯å”è­°å¥—çµ„ï¼Œæ˜¯ä¸€å€‹ç¶²è·¯é€šè¨Šæ¨¡å‹ï¼Œä»¥åŠä¸€æ•´å€‹ç¶²è·¯å‚³è¼¸å”å®šå®¶æ—ï¼Œç‚ºç¶²éš›ç¶²è·¯çš„åŸºç¤é€šè¨Šæ¶æ§‹ã€‚</p>
<p>TCP/IP åŒ…å«äº†å››ç¨®è¡¨ç¾å±¤ï¼Œå¸¸è¢«è¦–ç‚ºæ˜¯ç°¡åŒ–çš„ä¸ƒå±¤OSIæ¨¡å‹</p>
<p><img src="https://media.slid.es/uploads/275963/images/4907985/osi_tcpip.jpg" alt="TCP/IP"></p>
<br />
è³‡æ–™å‚³éçš„éç¨‹ä¸­ï¼Œæ¯ä¸€å±¤éƒ½æœƒæœ‰ä¸€å€‹ headerï¼Œå‚³é€å¾Œï¼Œæœƒå†ä¸€å±¤ä¸€å±¤æ…¢æ…¢æ‹†è§£ header
<br /><br />

<p><img src="https://media.slid.es/uploads/275963/images/4907983/0913wtdosipromo.gif" alt="å‚³éè³‡æ–™"></p>
<p>TCPï¼šæœƒåˆ‡å‰²å°åŒ…ï¼Œæ¥æ”¶æ™‚ç¢ºèªæ˜¯ä¸æ˜¯è³‡æ–™éƒ½æœ‰æ”¶åˆ°<br>IPï¼šç¢ºèªè³‡æ–™å°åŒ…è¦é€å»å“ªå€‹ IP ä½å€ï¼Œé›»è…¦å’Œç¶²è·¯è¨­å‚™ä¸èªå¾—ç¶²å€åªèªå¾— IP<br>DNS Serverï¼šæŠŠç¶²å€è½‰æ›æˆ IP ä½å€</p>
<p>ç€è¦½å™¨æœƒå‚³ç¶²å€çµ¦ DNS ä¼ºæœå™¨ï¼Œé€é DNS è½‰æˆ IP å›ä¾†ï¼Œå†ç”¨ TCP/IP å‚³é€ IPï¼Œæ‰¾åˆ°ä¼ºæœå™¨ï¼Œå†å‚³é Response å›ä¾†<br><img src="https://imgur.com/OAteH8R.png" alt="å‚³éè³‡æ–™"></p>
<br />

<h1 id="HTTP-Header-ç¨®é¡"><a href="#HTTP-Header-ç¨®é¡" class="headerlink" title="HTTP Header ç¨®é¡"></a>HTTP Header ç¨®é¡</h1><p>ğŸ”¸ Request Header å®¢æˆ¶ç«¯è¦æ±‚ä¼ºæœå™¨æ™‚å‚³é€<br>ğŸ”¸ Response Header ä¼ºæœå™¨å›æ‡‰å®¢æˆ¶ç«¯æ™‚å‚³é€<br>æœ‰ç™¼é€è«‹æ±‚ï¼Œå°±å¿…æœƒæœ‰å›æ‡‰ (åªè¦ä¼ºæœå™¨æ­£å¸¸é‹ä½œ)</p>
<br />

<h1 id="å¸¸è¦‹çš„-Request-Header"><a href="#å¸¸è¦‹çš„-Request-Header" class="headerlink" title="å¸¸è¦‹çš„ Request Header"></a>å¸¸è¦‹çš„ Request Header</h1><p>ğŸ”¸ Host<br>ç€è¦½å™¨å­˜å–çš„Hoståç¨±ï¼Œå› ç‚ºä¸€å€‹IPå¯ä»¥ç¶è¨‚å¤šå€‹ä¸åŒDomainï¼Œæ­¤æ™‚å°±éœ€è¦HostçŸ¥é“è¦å°æ‡‰åˆ°å“ªå€‹ä¼ºæœå™¨</p>
<p>ğŸ”¸ User-Agent<br>ç€è¦½å™¨åç¨±å’Œç‰ˆæœ¬&amp;ä½œæ¥­ç³»çµ±åç¨±å’Œç‰ˆæœ¬</p>
<p>ğŸ”¸ Accept<br>ç€è¦½å™¨æ¥å—çš„é¡å‹ï¼Œex: text/plainã€text/html</p>
<p>ğŸ”¸ Accept-Language<br>ç€è¦½å™¨æ¥å—çš„èªè¨€ï¼Œqå€¼è¡¨ç¤ºèªè¨€å„ªå…ˆçš„æ¬Šé‡</p>
<p>ğŸ”¸ Accept-Encoding<br>ç€è¦½å™¨æ”¯æ´çš„å£“ç¸®æ ¼å¼ï¼Œå¤§éƒ¨åˆ†æµè¦½å™¨éƒ½æ”¯æ´gzipå£“ç¸®ï¼Œä¼ºæœå™¨å‰‡æœƒå£“ç¸®å…§å®¹å¾Œå‚³çµ¦ç€è¦½å™¨ï¼Œç¯€çœä¸‹è¼‰æ™‚é–“å’Œé »å¯¬</p>
<p>ğŸ”¸ Date<br>å‚³é€ç€è¦½å™¨æ™‚é–“çµ¦ä¼ºæœå™¨ï¼Œè®“ä¼ºæœå™¨çŸ¥é“ç€è¦½å™¨ç›®å‰çš„æ™‚é–“</p>
<p>ğŸ”¸ Expect<br>è¦æ±‚ä¼ºæœå™¨å›æ‡‰ç‰¹å®šçµæœï¼ŒæœŸæœ›å¯ä»¥çµ¦æƒ³è¦çš„çµæœï¼Œä½†æœ€çµ‚é‚„æ˜¯ç”±ä¼ºæœå™¨æ±ºå®šï¼Œex: 100-continue</p>
<p>ğŸ”¸ If-Modified-Since<br>ç€è¦½å™¨cacheæª”æ¡ˆï¼Œä¸‹ä¸€æ¬¡requestå‰‡æœƒç™¼é€æ­¤headerï¼Œä¼ºæœå™¨ä½¿ç”¨é€™å€‹æ™‚é–“ä¾†åˆ¤æ–·æ˜¯å¦ä¿®æ”¹éæª”æ¡ˆï¼Œæ²’æœ‰å‰‡æœƒå›å‚³304<br>If-Modified-Since (æ™‚é–“)<br>If-None-Match (Hash Code)</p>
<p>ğŸ”¸ Cookie<br>æŠŠç€è¦½å™¨çš„cookieå‚³çµ¦ä¼ºæœå™¨ï¼Œæ¯ä¸€å€‹requestéƒ½æœƒåŒ…å«cookie</p>
<p>ğŸ”¸ Referer<br>ç€è¦½å™¨å‰ä¸€å€‹ç€è¦½é é¢çš„ç¶²å€ï¼Œå¯ç”¨æ­¤headeråˆ¤æ–·requestçš„ä¾†æºï¼Œä½†æ˜¯ä¸å¯é ï¼Œå› ç‚ºå¯èƒ½è¢«é­åˆ°ä¸²æ”¹<br>(åŸæ‡‰ç‚ºreferrerå› ç‚ºæ‹¼éŒ¯äº†åªå¥½å°‡éŒ¯å°±éŒ¯)</p>
<p>ğŸ”¸ Connection<br>å¯ä»¥è¨­å®šKeep-Aliveä¿æŒé€£ç·šæ™‚é–“ï¼Œæ¸›å°‘é‡æ–°é€£æ¥TCPé€£ç·šæ¬¡æ•¸ï¼Œæé«˜å‚³è¼¸æ•ˆç‡</p>
<p>ğŸ”¸ Content-Type<br>æŒ‡å‚³é€å…§å®¹çš„æ ¼å¼ï¼Œå¸¸è¦‹æ ¼å¼ç‚ºï¼š<br>è¡¨å–®: application/x-www-form-urlencoded<br>æª”æ¡ˆä¸Šå‚³: multipart/form-data; boundary=â€“xxx<br>ç´”æ–‡å­—å…§å®¹: text/plain</p>
<p>ğŸ”¸ Authorization<br>HTTP é€£ç·šçš„èº«åˆ†é©—è­‰(å¸³è™Ÿã€å¯†ç¢¼)</p>
<p>ğŸ”¸ Upgrade<br>å‡ç´šåˆ°å¦å¤–ä¸€å€‹å”å®šï¼Œex: websocket</p>
<br />

<h1 id="å¸¸è¦‹çš„-Response-Header"><a href="#å¸¸è¦‹çš„-Response-Header" class="headerlink" title="å¸¸è¦‹çš„ Response Header"></a>å¸¸è¦‹çš„ Response Header</h1><p>ğŸ”¸ Etag<br>ç”¢ç”Ÿæª”æ¡ˆçš„Hash Codeçµ¦ç€è¦½å™¨ï¼Œä¸‹ä¸€æ¬¡ç€è¦½å™¨å¯ä»¥å‚³é€If-None-Matchçµ¦ä¼ºæœå™¨åˆ¤æ–·æ˜¯å¦æœ‰ä¿®æ”¹éæª”æ¡ˆï¼Œæ²’æœ‰å‰‡å›å‚³304ä¸¦ä¸”ä¸æœƒåŒ…å«content</p>
<p>ğŸ”¸ Last-Modified<br>å›å‚³æª”æ¡ˆæœ€å¾Œä¿®æ”¹çš„æ™‚é–“ï¼Œä¸‹ä¸€æ¬¡ç€è¦½å™¨å¯ä»¥å‚³é€If-Modified-Sinceçµ¦ä¼ºæœå™¨åˆ¤æ–·æ˜¯å¦æœ‰ä¿®æ”¹éæª”æ¡ˆï¼Œæ²’æœ‰å‰‡å›å‚³304ä¸¦ä¸”ä¸æœƒåŒ…å«content</p>
<p>ğŸ”¸ Catch-Control<br>å¿«å–æª”æ¡ˆçš„ç­–ç•¥ï¼Œmax-age å‰‡è¡¨ç¤ºè©²æª”æ¡ˆæœ‰æ•ˆçš„cacheç§’æ•¸ï¼Œno-cache å‰‡è¡¨ç¤ºä¸ä½¿ç”¨å¿«å–</p>
<p>ğŸ”¸ Content-Type<br>å›å‚³contentçš„mimeé¡å‹ï¼Œç•¶content-typeè¨­ç‚ºtext/htmlå’Œtext/plainå¯åŒæ™‚è¨­å®šcharsetæ–‡å­—ç·¨ç¢¼æ ¼å¼ï¼Œè‹¥ç„¡content-typeç€è¦½å™¨è‡ªå‹•åˆ¤æ–·</p>
<p>ğŸ”¸ Content-Disposition<br>è®“ç€è¦½å™¨å¯ä»¥æ‰“é–‹ä¸‹è¼‰è¦–çª—ä¸¦ä¸”æŒ‡å®šæª”æ¡ˆåç¨±ï¼Œä¾‹å¦‚ï¼šContent-Disposition: attachment; filename=â€download.zipâ€</p>
<p>ğŸ”¸ Content-length<br>å–å¾—ä¸‹è¼‰å‚³é€å…§å®¹çš„å¤§å°ï¼Œè®“ç€è¦½å™¨å¯ä»¥åˆ¤æ–·ä¸‹è¼‰çš„é€²åº¦</p>
<p>ğŸ”¸ Date<br>å‚³é€ä¼ºæœå™¨æ™‚é–“çµ¦ç€è¦½å™¨ï¼Œè®“ç€è¦½å™¨çŸ¥é“ä¼ºæœå™¨ç›®å‰çš„æ™‚é–“</p>
<p>ğŸ”¸ Location<br>ç•¶ç‹€æ…‹ç¢¼ç‚º301æˆ–302æ™‚ï¼Œç€è¦½å™¨å‰‡æœƒé‡æ–°å°å‘åˆ°Locationé€™å€‹ä½ç½®</p>
<p>ğŸ”¸ Set-Cookie<br>è¨­å®šç€è¦½å™¨çš„cookieï¼Œç•¶ç€è¦½å™¨æ”¶åˆ°æ­¤headerå‰‡æœƒå»ºç«‹cookieåœ¨ç€è¦½å™¨ä¸­</p>
<p>ğŸ”¸ Content-Encoding<br>å›å‚³å…§å®¹çš„å£“ç¸®æ ¼å¼ï¼Œè®“ç€è¦½å™¨çŸ¥é“è©²å¦‚ä½•è§£å£“ç¸®å…§å®¹</p>
<p>ğŸ”¸ Access-Control-Allow-Origin<br>å‡†è¨±è·¨ç¶²åŸŸå­˜å–çš„Domainï¼Œå…¨éƒ¨ç¶²åŸŸä½¿ç”¨*å­—è™Ÿè¡¨ç¤º<br>scriptå’Œlinkæ¨™ç±¤ä¸å†æ­¤é™</p>
<p>ğŸ”¸ X-Frame-Options<br>å¦èƒ½å¤ åœ¨ frameã€iframe ä»¥åŠ object è¼‰å…¥ï¼Œç¶²ç«™å¯ä»¥åˆ©ç”¨ X-Frame-Options ä¾†ç¢ºä¿æœ¬èº«å…§å®¹ä¸æœƒé­æƒ¡æ„åµŒå…¥é“å…¶ä»–ç¶²ç«™ã€é¿å… clickjacking æ”»æ“Š<br>SAMEORIGIN åªé™ç›¸åŒåŸŸåï¼Œè·¨åŸŸç„¡æ³•è¼‰å…¥</p>
<p>ğŸ”¸ Upgrade<br>ç¢ºèªå‡ç´šåˆ°æ–°çš„å”å®šï¼Œæ­¤æ™‚connectionä¹ŸæœƒåŒæ™‚å›æ‡‰Upgrade<br>ex: Connection: Upgrade<br>Upgrade: websocket</p>
<br />

<h1 id="WebSocket-é›™å‘æºé€š"><a href="#WebSocket-é›™å‘æºé€š" class="headerlink" title="WebSocket (é›™å‘æºé€š)"></a>WebSocket (é›™å‘æºé€š)</h1><p>ğŸ”¸ Header å‚³é€ Upgrade: websocket<br>ğŸ”¸ ä¼ºæœå™¨å›æ‡‰ 101 åˆ‡æ›å”å®š<br>ğŸ”¸ å»ºç«‹ä¸€å€‹ä¿æŒé€£ç·šçš„ç‹€æ…‹ï¼Œé€£ç·šæœƒæ›´å³æ™‚ã€æ›´å¿«é€Ÿ<br>ğŸ”¸ å»ºç«‹é›™å‘çš„é€šé“ï¼Œå¯ä»»æ„çš„ä½œè³‡æ–™å‚³é<br>ğŸ”¸ å³ä¸éœ€è¦é€ä¸€å€‹ request å³å›ä¸€å€‹ responseï¼Œå¯ä¸€ç›´ä¸Ÿ<br>ğŸ”¸ ä¼ºæœå™¨èƒ½æ‰¿å—çš„é€£ç·šæ•¸é‡è¦å¾ˆé«˜ï¼Œé€šå¸¸æœƒä½œ load balance</p>
<hr>
<h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»:"></a>åƒè€ƒæ–‡ç»:</h3><p><a href="https://www.youtube.com/watch?v=qTpw9EKEeqk">å·ç±³é¨å·´å“¥HTTP header &amp; Status code</a><br><a href="https://ithelp.ithome.com.tw/articles/10212102">HTTP Header &amp; Status Code å¿ƒå¾—</a></p>
<hr>
]]></content>
      <categories>
        <category>ç¶²é ç¨‹å¼æŠ€è¡“æ¢è¨</category>
      </categories>
      <tags>
        <tag>HTTP Header</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTPS å’Œ HTTP çš„å·®åˆ¥ï¼Ÿ</title>
    <url>/2021/08/07/web-https/</url>
    <content><![CDATA[<p><img src="https://imgur.com/aJkfXyD.jpg" alt="Imgur"><br>æˆ‘å€‘åœ¨æ‹œè¨ªç¶²ç«™æ™‚ï¼Œä½ æœ‰æ²’æœ‰çœ‹éé€™å€‹ç•«é¢å‘¢?<br>é€™æ˜¯ç€è¦½å™¨é‡å° HTTP ç¶²å€ï¼Œå°ä½¿ç”¨è€…ç™¼å‡ºçš„ã€Œä¸å®‰å…¨ã€æç¤ºï¼Œè—‰æ­¤ä¾†è¦æ±‚ç¶²ç«™é–‹ç™¼è€…ç›¡å¿«å°‡ç¶²ç«™è½‰ç‚ºé€é HTTPS å‚³è¼¸è³‡æ–™</p>
<a id="more"></a>

<h1 id="HTTP-å’Œ-HTTPS-æœ‰ä»€éº¼å·®åˆ¥"><a href="#HTTP-å’Œ-HTTPS-æœ‰ä»€éº¼å·®åˆ¥" class="headerlink" title="HTTP å’Œ HTTPS æœ‰ä»€éº¼å·®åˆ¥?"></a>HTTP å’Œ HTTPS æœ‰ä»€éº¼å·®åˆ¥?</h1><p>å…©è€…å·®äº†ä¸€å€‹ Sï¼Œé€™å€‹ S ä»£è¡¨ç¶²ç«™ä½¿ç”¨ç·¨ç¢¼å”å®šçš„å®‰å…¨æ€§(Secure)ï¼ŒHTTPS è·Ÿ HTTP ä¹‹é–“çš„ä¸åŒåœ¨æ–¼ç¶²è·¯æ–‡å­—å‚³é€å”å®šä¸­æ¨™æº–çš„ä¸åŒ</p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>è¶…æ–‡æœ¬å‚³è¼¸å”å®š (Hyper Text Transfer Protocol)<br>HTTP æ˜¯ä»¥ TCP ä½œç‚ºç¶²è·¯è³‡æ–™å‚³è¼¸çš„æ–¹å¼ï¼Œå› ç‚ºå…§å®¹åªè¦ç¯„äº†å®¢æˆ¶ç«¯è«‹æ±‚èˆ‡ä¼ºæœå™¨å›æ‡‰çš„æ¨™æº–ï¼Œåœ¨å‚³è¼¸è³‡æ–™çš„éç¨‹ä¸­ï¼Œå› ç‚ºæ²’æœ‰å®Œå–„çš„å®‰å…¨æ©Ÿåˆ¶ï¼Œå®¹æ˜“è¢«æƒ¡æ„ç¨‹å¼ç«Šå–ï¼Œé€ æˆè³‡æ–™å¤–æ´©ã€‚</p>
<h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p>è¶…æ–‡æœ¬å‚³è¼¸å®‰å…¨å”å®š (Hyper Text Transfer Protocol Secure)<br>åŠ å…¥ <a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A">SSL/TLS</a> å”å®šä½œç‚ºå®‰å…¨æ†‘è­‰ï¼Œä»¥ä¿å¯†ç‚ºå‰æç‚ºç ”ç™¼ï¼Œå¯ä»¥ç®—æ˜¯ HTTP çš„é€²éšå®‰å…¨ç‰ˆï¼Œå¤šäº†ä¸€é“åŠ å¯†çš„æ‰‹çºŒï¼Œå¦‚æ­¤ä¸€ä¾†å°±ç®—æœ‰å¿ƒäººå£«è¦ç«Šå–ï¼Œçœ‹åˆ°çš„ä¹Ÿåªæ˜¯åŠ å¯†ç¬¦è™Ÿæˆ–ä¸€å †äº‚ç¢¼è€Œå·²ã€‚<br>ç”±æ–¼åŠ å¯†éœ€è¦é‹ç®—çš„è³‡æ–™è¼ƒå¤šï¼Œå°è‡´å‚³éå›æ‡‰è¼ƒæ…¢ï¼Œå¾Œä¾†æ‰åˆç™¼æ˜é‡‘é‘°åŠŸèƒ½ï¼Œè®“ç¶²è·¯è³‡æ–™åœ¨é€²è¡Œå‚³è¼¸æ™‚å…¼é¡§äº†å®‰å…¨æ€§åŠå‚³éé€Ÿåº¦ã€‚</p>
<br>

<h1 id="HTTPS-å°-SEO-çš„é‡è¦æ€§"><a href="#HTTPS-å°-SEO-çš„é‡è¦æ€§" class="headerlink" title="HTTPS å° SEO çš„é‡è¦æ€§"></a>HTTPS å° SEO çš„é‡è¦æ€§</h1><p>ä½ å¯èƒ½æœƒæƒ³èªªï¼Œæˆ‘çš„ç¶²ç«™ä¸éœ€è¦è¼¸å…¥å¸³å¯†ï¼Œä¹Ÿä¸ç”¨è¼¸å…¥ä¿¡ç”¨å¡ä¹‹é¡çš„å€‹äººè³‡æ–™ï¼Œåªæ˜¯ç´”ç€è¦½çš„ç¶²é <br>.<br>..<br>â€¦<br><img src="https://imgur.com/GFL68vJ.jpg" alt="Imgur"><br>â€¦<br>..<br>.<br>NONONOï¼é€™å°ç¶²ç«™æœƒé€ æˆå½±éŸ¿çš„å•Šï¼ï¼ï¼<br>ç”±æ–¼å®‰å…¨æ€§çš„è€ƒé‡ï¼Œç¾ä»Šçš„ç€è¦½å™¨æœƒé‡å° HTTP ç¶²é ç‰¹åˆ¥æ¨™è¨»ç‚º<code>ä¸å®‰å…¨</code>çš„ç¶²ç«™ï¼Œç•¶ä½¿ç”¨è€…æ‹œè¨ªæ™‚è·³å‡ºé€™å€‹è¨Šæ¯ï¼Œæœ‰å¯èƒ½å°±éš¨å³é—œé–‰ï¼Œå› æ­¤éƒ½ä¸åˆ©æ–¼ SEO çš„æ’åï¼Œé€£ç€è¦½å™¨çš„ç¶²å€åˆ—ä¸Šï¼Œä¹Ÿæœƒæœ‰å€‹ icon è¡¨ç¤ºç›®å‰ç¶²ç«™æ˜¯ HTTP æˆ– HTTPS(åŠ å¯†)ã€‚</p>
<div style="text-align: center;">HTTPï¼š</div>

<p><img src="https://imgur.com/JD476Gk.jpg" alt="HTTP"></p>
<br>

<div style="text-align: center;">HTTPSï¼š</div>

<p><img src="https://imgur.com/Ov9ZxRp.jpg" alt="HTTPS"></p>
<br>
<br>

<p>å› æ­¤ï¼ŒHTTPS çš„ç¶²ç«™çš„æœå°‹æ’åï¼Œé€šå¸¸éƒ½æ¯” HTTP ç¶²ç«™çš„æ’åä¾†å¾—é«˜ã€‚<br>åŸºæ–¼å®‰å…¨æ€§å’Œ SEO å„ªåŒ–çš„è€ƒé‡ï¼Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ç¾åœ¨å¤§å¤šæ•¸çš„ç¶²ç«™éƒ½æ˜¯ HTTPS çš„åŸå› ã€‚</p>
<hr>
<h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»:"></a>åƒè€ƒæ–‡ç»:</h3><p><a href="https://www.nss.com.tw/why-https-is-important-than-http/">ç‚ºä»€éº¼ HTTPS æ¯” HTTP é‡è¦ï¼Ÿä¸€æ¬¡å¸¶ä½ äº†è§£å…©è€…çš„å·®ç•°å’Œé‡è¦æ€§</a><br><a href="https://buzzorange.com/techorange/2018/05/11/https-seo/">HTTP å’Œ HTTPSï¼šå·®äº†ä¸€å€‹ã€ŒSã€ï¼Œæ”¸é—œçš„å¯æ˜¯ä½ å®¶ç¶²ç«™ SEO æ’åé †åºï¼</a></p>
<hr>
]]></content>
      <categories>
        <category>ç¶²é ç¨‹å¼æŠ€è¡“æ¢è¨</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTP ç‹€æ…‹ç¢¼</title>
    <url>/2021/08/07/web-http-status-code/</url>
    <content><![CDATA[<p><img src="https://imgur.com/8GHhzql.jpg" alt="Imgur"></p>
<h1 id="ä»€éº¼æ˜¯-HTTP-ç‹€æ…‹ç¢¼-HTTP-Status-Codes"><a href="#ä»€éº¼æ˜¯-HTTP-ç‹€æ…‹ç¢¼-HTTP-Status-Codes" class="headerlink" title="ä»€éº¼æ˜¯ HTTP ç‹€æ…‹ç¢¼(HTTP Status Codes)?"></a>ä»€éº¼æ˜¯ HTTP ç‹€æ…‹ç¢¼(HTTP Status Codes)?</h1><p>HTTP ç‹€æ…‹ç¢¼æ˜¯ä¼ºæœå™¨å°ç€è¦½å™¨è«‹æ±‚å›æ‡‰(HTTP Response)çš„ç‹€æ…‹ï¼Œç”± RFC 2616 è¦ç¯„å®šç¾©çš„ï¼Œä¸¦å¾—åˆ° RFC 2518ã€RFC 2817ã€RFC 2295ã€RFC 2774 èˆ‡ RFC 4918 ç­‰è¦ç¯„æ“´å……ã€‚ä¼ºæœå™¨ç”¨ä¸€å€‹ä¸‰ä½æ•¸çš„ä»£ç¢¼ä¾†å›æ‡‰ç€è¦½å™¨çš„è«‹æ±‚ï¼Œç‹€æ…‹çš„åˆ†é¡å¯å€åˆ†ä¸‰å€‹å±¤ç´šï¼Œç¬¬ä¸€å€‹æ•¸å­—ç‚ºå¤§é¡ã€ç¬¬äºŒå€‹æ•¸å­—ç‚ºä¸­é¡ã€ç¬¬ä¸‰å€‹æ•¸å­—ç‚ºå°é¡ã€‚</p>
<a id="more"></a>

<p>äº†è§£ç‹€æ…‹ä»£ç¢¼ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒå€‘å°‡æœ‰åŠ©æ–¼å¿«é€Ÿè¨ºæ–·ç¶²ç«™éŒ¯èª¤</p>
<h2 id="HTTP-ç‹€æ…‹ç¢¼å¤§è‡´åˆ†æˆ-5-é¡"><a href="#HTTP-ç‹€æ…‹ç¢¼å¤§è‡´åˆ†æˆ-5-é¡" class="headerlink" title="HTTP ç‹€æ…‹ç¢¼å¤§è‡´åˆ†æˆ 5 é¡"></a>HTTP ç‹€æ…‹ç¢¼å¤§è‡´åˆ†æˆ 5 é¡</h2><p>1xx Informationa - åƒè€ƒè³‡è¨Š<br>2xx Successful - æˆåŠŸ<br>3xx Redirection - é‡æ–°å°å‘<br>4xx Client Error - ç”¨æˆ¶ç«¯éŒ¯èª¤<br>5xx Server Error - ä¼ºæœå™¨éŒ¯èª¤</p>
<h3 id="1xx-Informational-åƒè€ƒè³‡è¨Š"><a href="#1xx-Informational-åƒè€ƒè³‡è¨Š" class="headerlink" title="1xx Informational åƒè€ƒè³‡è¨Š"></a>1xx Informational åƒè€ƒè³‡è¨Š</h3><p>é€™äº›ç‹€æ…‹ç¢¼ä»£è¡¨è«‹æ±‚å·²è¢«æ¥å—ï¼Œéœ€è¦ç¹¼çºŒè™•ç†ï¼Œé€™é¡å›æ‡‰æ˜¯è‡¨æ™‚å›æ‡‰ï¼Œæ‰€ä»¥åœ¨æ¥æ”¶ä¸€èˆ¬çš„å›æ‡‰ä¹‹å‰ï¼Œç”¨æˆ¶ç«¯æ‡‰æº–å‚™æ¥æ”¶ä¸€å€‹æˆ–å¤šå€‹ 1xx çš„å›æ‡‰ï¼Œç­‰å¾…ä¼ºæœå™¨æ¡å–é€²ä¸€æ­¥è¡Œå‹•ã€‚</p>
<p>100 Continue - ç¹¼çºŒåŸ·è¡Œæ‰€ç™¼å‡ºçš„è«‹æ±‚<br>101 Switching Protocols - åˆ‡æ›é€šè¨Šå”å®š</p>
<h3 id="2xx-Successful-æˆåŠŸ"><a href="#2xx-Successful-æˆåŠŸ" class="headerlink" title="2xx Successful æˆåŠŸ"></a>2xx Successful æˆåŠŸ</h3><p>é€™é¡çš„ç‹€æ…‹ç¢¼è¡¨ç¤ºä¼ºæœå™¨æˆåŠŸæ¥æ”¶åˆ°ç”¨æˆ¶ç«¯çš„è¦æ±‚ã€ç†è§£ä¸¦æ¥å—ã€‚</p>
<p>200 OK - ç¢ºå®šã€‚ç”¨æˆ¶ç«¯è¦æ±‚æˆåŠŸ<br>201 Created - è«‹æ±‚å·²ç¶“è¢«å¯¦ç¾<br>202 Accepted - ä¼ºæœå™¨å·²æ¥å—è«‹æ±‚ï¼Œä½†å°šæœªè™•ç†<br>203 Non-Authoritative Information - éæˆæ¬Šè³‡è¨Š<br>204 No Content - ç„¡å…§å®¹ï¼Œä¼ºæœå™¨æˆåŠŸè™•ç†äº†è«‹æ±‚ï¼Œæ²’æœ‰è¿”å›ä»»ä½•å…§å®¹<br>205 Reset Content - é‡è¨­å…§å®¹ï¼Œä¼ºæœå™¨æˆåŠŸè™•ç†äº†è«‹æ±‚ï¼Œä½†æ²’æœ‰è¿”å›ä»»ä½•å…§å®¹ã€‚èˆ‡ 204 å›æ‡‰ä¸åŒï¼Œæ­¤å›æ‡‰è¦æ±‚è«‹æ±‚è€…é‡è¨­æ–‡ä»¶è¦–åœ–<br>206 Partial Content - ä¼ºæœå™¨å·²ç¶“æˆåŠŸè™•ç†äº†éƒ¨åˆ† GET è«‹æ±‚<br>207 Multi-Status - ä»£è¡¨ä¹‹å¾Œçš„è¨Šæ¯é«”å°‡æ˜¯ä¸€å€‹ XML è¨Šæ¯ï¼Œä¸¦ä¸”å¯èƒ½ä¾ç…§ä¹‹å‰å­è«‹æ±‚æ•¸é‡çš„ä¸åŒï¼ŒåŒ…å«ä¸€ç³»åˆ—ç¨ç«‹çš„å›æ‡‰ä»£ç¢¼<br>208 Already Reported - DAV ç¹«çµçš„æˆå“¡å·²ç¶“åœ¨ï¼ˆå¤šç‹€æ…‹ï¼‰å›æ‡‰ä¹‹å‰çš„éƒ¨åˆ†è¢«åˆ—èˆ‰ï¼Œä¸”æœªè¢«å†æ¬¡åŒ…å«<br>226 IM Used - ä¼ºæœå™¨å·²ç¶“æ»¿è¶³äº†å°è³‡æºçš„è«‹æ±‚ï¼Œå°å¯¦é«”è«‹æ±‚çš„ä¸€å€‹æˆ–å¤šå€‹å¯¦é«”æ“ä½œçš„çµæœè¡¨ç¤º</p>
<h3 id="3xx-Redirection-é‡æ–°å°å‘"><a href="#3xx-Redirection-é‡æ–°å°å‘" class="headerlink" title="3xx Redirection é‡æ–°å°å‘"></a>3xx Redirection é‡æ–°å°å‘</h3><p>ç”¨æˆ¶ç«¯ç€è¦½å™¨å¿…é ˆæ¡å–é€²ä¸€æ­¥çš„æ“ä½œæ‰èƒ½å®Œæˆè¦æ±‚ã€‚é€™äº›ç‹€æ…‹ç¢¼ç”¨ä¾†é‡æ–°å°å‘ï¼Œä¾‹å¦‚ç€è¦½å™¨å¯èƒ½å¿…é ˆé‡æ–°ç™¼å‡º HTTP Request è¦æ±‚ä¼ºæœå™¨ä¸Šçš„ä¸åŒé é¢ã€‚å®¢æˆ¶ç«¯æ‡‰ç•¶è‡ªå‹•ç›£æ¸¬ç„¡é™è¿´åœˆé‡æ–°å°å‘ï¼ˆä¾‹å¦‚ï¼šAâ†’Bâ†’Câ†’â€¦â€¦â†’A æˆ– Aâ†’Aï¼‰ï¼Œå› ç‚ºé€™æœƒå°è‡´ä¼ºæœå™¨å’Œå®¢æˆ¶ç«¯å¤§é‡ä¸å¿…è¦çš„è³‡æºæ¶ˆè€—ã€‚æŒ‰ç…§ HTTP/1.0 ç‰ˆè¦ç¯„çš„å»ºè­°ï¼Œç€è¦½å™¨ä¸æ‡‰è‡ªå‹•å­˜å–è¶…é 5 æ¬¡çš„é‡æ–°å°å‘ã€‚</p>
<p>300 Multiple Choices - è¢«è«‹æ±‚çš„è³‡æºæœ‰ä¸€ç³»åˆ—å¯ä¾›é¸æ“‡çš„å›é¥‹è³‡è¨Šï¼Œæ¯å€‹éƒ½æœ‰è‡ªå·±ç‰¹å®šçš„ä½å€å’Œç€è¦½å™¨é©…å‹•çš„å•†è­°è³‡è¨Šã€‚ä½¿ç”¨è€…æˆ–ç€è¦½å™¨èƒ½å¤ è‡ªè¡Œé¸æ“‡ä¸€å€‹é¦–é¸çš„ä½å€é€²è¡Œé‡æ–°å°å‘<br>301 Moved Permanently - è¦æ±‚çš„ç¶²é å·²ç¶“æ°¸ä¹…æ”¹è®Šç¶²å€ã€‚æ­¤ç‹€æ…‹è¦æ±‚ç”¨æˆ¶ç«¯æœªä¾†åœ¨é€£çµæ­¤ç¶²å€æ™‚æ‡‰è©²å°å‘è‡³æŒ‡å®šçš„ URI<br>302 Found - è¦æ±‚å®¢æˆ¶ç«¯åŸ·è¡Œè‡¨æ™‚é‡æ–°å°å‘<br>303 See Other - é€šçŸ¥ç”¨æˆ¶ç«¯ä½¿ç”¨ GET é€£åˆ°å¦ä¸€å€‹ URI å»æŸ¥çœ‹<br>304 Not Modified - æœªä¿®æ”¹ã€‚ç”¨æˆ¶ç«¯è¦æ±‚è©²ç¶²é æ™‚ï¼Œå…¶å…§å®¹ä¸¦æ²’æœ‰è®Šæ›´<br>305 Use Proxy - è¦æ±‚çš„ç¶²é å¿…é ˆé€é Server æŒ‡å®šçš„ proxy æ‰èƒ½æŸ¥çœ‹(éœ€é€é Location æ¨™é ­)<br>306 Switch Proxy - åœ¨æœ€æ–°ç‰ˆçš„è¦ç¯„ä¸­ï¼Œ306 ç‹€æ…‹ç¢¼å·²ç¶“ä¸å†è¢«ä½¿ç”¨ã€‚æœ€åˆæ˜¯æŒ‡ã€Œå¾ŒçºŒè«‹æ±‚æ‡‰ä½¿ç”¨æŒ‡å®šçš„ä»£ç†ã€<br>307 Temporary Redirect - åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œè«‹æ±‚æ‡‰è©²èˆ‡å¦ä¸€å€‹ URI é‡è¤‡ï¼Œä½†å¾ŒçºŒçš„è«‹æ±‚æ‡‰ä»ä½¿ç”¨åŸå§‹çš„ URIã€‚ èˆ‡ 302 ç›¸åï¼Œç•¶é‡æ–°ç™¼å‡ºåŸå§‹è«‹æ±‚æ™‚ï¼Œä¸å…è¨±æ›´æ”¹è«‹æ±‚æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼Œæ‡‰è©²ä½¿ç”¨å¦ä¸€å€‹ POST è«‹æ±‚ä¾†é‡è¤‡ POST è«‹æ±‚</p>
<h3 id="4xx-Client-Error-ç”¨æˆ¶ç«¯éŒ¯èª¤"><a href="#4xx-Client-Error-ç”¨æˆ¶ç«¯éŒ¯èª¤" class="headerlink" title="4xx Client Error ç”¨æˆ¶ç«¯éŒ¯èª¤"></a>4xx Client Error ç”¨æˆ¶ç«¯éŒ¯èª¤</h3><p>é€™ä»£è¡¨éŒ¯èª¤ç™¼ç”Ÿï¼Œä¸”é€™éŒ¯èª¤çš„ç™¼ç”Ÿçš„åŸå› è·Ÿã€Œç”¨æˆ¶ç«¯ã€æœ‰é—œï¼Œå¦¨ç¤™äº†ä¼ºæœå™¨çš„è™•ç†ã€‚ä¾‹å¦‚ï¼šç”¨æˆ¶ç«¯å¯èƒ½é€£çµåˆ°ä¸å­˜åœ¨çš„é é¢ã€ç”¨æˆ¶ç«¯çš„æ¬Šé™ä¸è¶³ã€æˆ–å¯èƒ½æœªæä¾›æœ‰æ•ˆçš„é©—è­‰è³‡è¨Š(è¼¸å…¥çš„å¸³è™Ÿã€å¯†ç¢¼éŒ¯èª¤)ã€‚</p>
<p>400 Bad Request - éŒ¯èª¤çš„è¦æ±‚<br>401 Unauthorized - æ‹’çµ•å­˜å–<br>402 Payment Required - è©²ç‹€æ…‹ç¢¼æ˜¯ç‚ºäº†å°‡ä¾†å¯èƒ½çš„éœ€æ±‚è€Œé ç•™çš„ã€‚è©²ç‹€æ…‹ç¢¼æœ€åˆçš„æ„åœ–å¯èƒ½è¢«ç”¨ä½œæŸç¨®å½¢å¼çš„æ•¸å­—ç¾é‡‘æˆ–ç·šä¸Šæ”¯ä»˜æ–¹æ¡ˆçš„ä¸€éƒ¨åˆ†ï¼Œä½†å¹¾ä¹æ²’æœ‰å“ªå®¶æœå‹™å•†ä½¿ç”¨ï¼Œè€Œä¸”é€™å€‹ç‹€æ…‹ç¢¼é€šå¸¸ä¸è¢«ä½¿ç”¨<br>403 Forbidden - ä¼ºæœå™¨å·²ç¶“ç†è§£è«‹æ±‚ï¼Œä½†æ˜¯æ‹’çµ•åŸ·è¡Œå®ƒ<br>404 Not Found - æ‰¾ä¸åˆ°ï¼Œè«‹æ±‚å¤±æ•—ï¼Œè«‹æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„è³‡æºæœªè¢«åœ¨ä¼ºæœå™¨ä¸Šç™¼ç¾ï¼Œä½†å…è¨±ä½¿ç”¨è€…çš„å¾ŒçºŒè«‹æ±‚<br>405 Method Not Allowed - ç”¨ä¾†å­˜å–é€™å€‹é é¢çš„ HTTP å‹•è©ä¸å—å…è¨± (æ–¹æ³•ä¸å—å…è¨±)<br>406 Not Acceptable - ç”¨æˆ¶ç«¯ç€è¦½å™¨ä¸æ¥å—è¦æ±‚é é¢çš„ MIME é¡å‹<br>407 Proxy Authentication Required - éœ€è¦ Proxy é©—è­‰<br>408 Request Timeout - è«‹æ±‚é€¾æ™‚<br>409 Conflict - è³‡æºç‹€æ…‹è¡çª<br>410 Gone - è³‡æºå·²ä¸å­˜åœ¨ä¸”ç„¡è½‰å€è³‡è¨Š<br>411 Length Required - è¦æ±‚çš„ Content-Length æ²’æœ‰å®šç¾©<br>412 Precondition Failed - æŒ‡å®šæ¢ä»¶å¤±æ•—<br>413 Request Entity Too Large - è¦æ±‚çš„å¯¦é«”å¤ªå¤§<br>414 Request-URI Too Long - è¦æ±‚ URI å¤ªé•·ã€‚æœƒå› ä¼ºæœå™¨æˆ–ç€è¦½å™¨è€Œç•°ï¼Œå»ºè­° 2048 å­—å…ƒä»¥ä¸‹æ¯”è¼ƒä¿éšª<br>415 Unsupported Media Type - ä¸æ”¯æ´çš„åª’é«”é¡å‹<br>416 Requested Range Not Satisfiable - ç„¡æ³•æ»¿è¶³è¦æ±‚çš„ç¯„åœ<br>417 Expectation Failed - åŸ·è¡Œå¤±æ•—</p>
<h3 id="5xx-Server-Error-ä¼ºæœå™¨éŒ¯èª¤"><a href="#5xx-Server-Error-ä¼ºæœå™¨éŒ¯èª¤" class="headerlink" title="5xx Server Error ä¼ºæœå™¨éŒ¯èª¤"></a>5xx Server Error ä¼ºæœå™¨éŒ¯èª¤</h3><p>é€™ä»£è¡¨éŒ¯èª¤ç™¼ç”Ÿï¼Œä¸”é€™éŒ¯èª¤ç™¼ç”Ÿçš„åŸå› è·Ÿã€Œä¼ºæœå™¨ã€æœ‰é—œã€‚ä¼ºæœå™¨å› ç‚ºç™¼ç”ŸéŒ¯èª¤æˆ–ä¾‹å¤–ç‹€æ³(Exception)è€Œç„¡æ³•å®Œæˆè¦æ±‚(Request)æ™‚ï¼Œå°±æœƒå›æ‡‰ 5xx çš„éŒ¯èª¤ï¼Œä¸”é€™è‚¯å®šè·Ÿä¼ºæœå™¨æœ‰é—œã€‚</p>
<p>500 Internal Server Error - å…§éƒ¨ä¼ºæœå™¨éŒ¯èª¤ã€‚<br>501 Not Implemented â€“ æ¨™é ­å€¼æŒ‡å®šæœªå¯¦ä½œçš„è¨­å®šã€‚<br>502 Bad Gateway - Web ä¼ºæœå™¨åœ¨ä½œç‚ºé–˜é“æˆ– Proxy æ™‚æ”¶åˆ°ç„¡æ•ˆçš„å›æ‡‰ã€‚<br>503 Service Unavailable - æœå‹™ç„¡æ³•ä½¿ç”¨ã€‚ é€™æ˜¯ IIS 6.0 å°ˆç”¨çš„éŒ¯èª¤ç¢¼ã€‚<br>504 Gateway Timeout - é–˜é“é€¾æ™‚ã€‚<br>505 HTTP Version Not Supported - ä¸æ”¯æ´çš„ HTTP ç‰ˆæœ¬ã€‚</p>
<hr>
<h3 id="åƒè€ƒæ–‡ç»"><a href="#åƒè€ƒæ–‡ç»" class="headerlink" title="åƒè€ƒæ–‡ç»:"></a>åƒè€ƒæ–‡ç»:</h3><p><a href="https://blog.poychang.net/http-status-code/">HTTP ç‹€æ…‹ç¢¼ä¸€è¦½è¡¨</a><br><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81">HTTP ç‹€æ…‹ç¢¼</a></p>
<hr>
]]></content>
      <categories>
        <category>ç¶²é ç¨‹å¼æŠ€è¡“æ¢è¨</category>
      </categories>
      <tags>
        <tag>HTTP ç‹€æ…‹ç¢¼</tag>
        <tag>HTTP Status Codes</tag>
      </tags>
  </entry>
</search>
