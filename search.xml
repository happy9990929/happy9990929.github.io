<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vuex &amp; API è³‡æ–™æµæ•´åˆ</title>
      <link href="2021/03/21/vue-vuex-api-example/"/>
      <url>2021/03/21/vue-vuex-api-example/</url>
      
        <content type="html"><![CDATA[<h1 id="åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹"><a href="#åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹" class="headerlink" title="åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹"></a>åœ–ç‰‡åˆ‡æ›ç¯„ä¾‹</h1><h2 id="API-æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™"><a href="#API-æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™" class="headerlink" title="API æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™"></a>API æŠ½é›¢ç®¡ç†ï¼Œæ¸…æ¥šç®¡ç†è³‡æ–™</h2><p>axios create çš„ç‰©ä»¶æœƒè®Šæˆ axios çš„å¯¦é«”<br>axios interceptors æ””æˆªå™¨ï¼Œå¯ä»¥åšé©—è­‰æª¢æŸ¥</p><p>@/api/photoRequest.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// createçš„ç‰©ä»¶æœƒè®Šæˆaxiosçš„å¯¦é«”</span></span><br><span class="line"><span class="keyword">const</span> photoRequest = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">&quot;https://vue-lessons-api.herokuapp.com/&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// axios æ””æˆªå™¨ï¼Œå¯ä»¥åšé©—è­‰æª¢æŸ¥</span></span><br><span class="line"><span class="comment">// ç™¼å‡º requestä»¥å‰åŸ·è¡Œ</span></span><br><span class="line">photoRequest.interceptors.request.use(</span><br><span class="line">  (config) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) <span class="keyword">throw</span> &#123; <span class="attr">response</span>: &#123; <span class="attr">data</span>: <span class="string">&quot;è³‡æ–™ä¸å¾—ç‚ºç©º&quot;</span> &#125; &#125;;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥åˆ° response ä¹‹å‰åŸ·è¡Œ</span></span><br><span class="line">photoRequest.interceptors.response.use(</span><br><span class="line">  (response) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getPhotoRequest = <span class="function">() =&gt;</span> photoRequest.get(<span class="string">&quot;/photo/list&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="api-æ¨¡çµ„å…¥å£"><a href="#api-æ¨¡çµ„å…¥å£" class="headerlink" title="api æ¨¡çµ„å…¥å£"></a>api æ¨¡çµ„å…¥å£</h2><p>index.js åšå„æ¨¡çµ„çš„åˆ†é¡ï¼Œç•¶æˆæ¨¡çµ„çš„å…¥å£ï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œcomponents åªéœ€å¼•å…¥ index.js</p><p>@/api/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getPhotoRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./photoRequest.js&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> apiGetPhotoRequest = getPhotoRequest;</span><br></pre></td></tr></table></figure><h2 id="è³‡æ–™ç®¡ç†"><a href="#è³‡æ–™ç®¡ç†" class="headerlink" title="è³‡æ–™ç®¡ç†"></a>è³‡æ–™ç®¡ç†</h2><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; apiGetPhotoRequest &#125; <span class="keyword">from</span> <span class="string">&quot;../api&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    photoArr: [],</span><br><span class="line">    idx: <span class="number">0</span>,</span><br><span class="line">    isLoad: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="comment">// ç‚ºç¢ºä¿APIè³‡æ–™æ‹¿å›å†é€²è¡ŒhandImgLoad()ï¼Œéœ€å›å‚³Promiseï¼Œaxiosæœ¬èº«å°±æ˜¯ä¸€å€‹Promiseçš„å›å‚³</span></span><br><span class="line">    <span class="comment">// async / await æ¥è¿‘åŒæ­¥å‘¼å«</span></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="title">handInit</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> apiGetPhotoRequest();</span><br><span class="line">        commit(<span class="string">&quot;init&quot;</span>, res.data);</span><br><span class="line">        <span class="keyword">return</span> res.data;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error.response.data);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä¸Šé¢asyncç­‰æ–¼</span></span><br><span class="line">    <span class="comment">// handInit(&#123; commit &#125;) &#123;</span></span><br><span class="line">    <span class="comment">//   const res = apiGetPhotoRequest();</span></span><br><span class="line">    <span class="comment">//   return res.then((response) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//     commit(&quot;init&quot;, response.data);</span></span><br><span class="line">    <span class="comment">//     return response.data;</span></span><br><span class="line">    <span class="comment">//   &#125;)</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="function"><span class="title">handLoadState</span>(<span class="params">&#123; commit &#125;, bool</span>)</span> &#123;</span><br><span class="line">      commit(<span class="string">&quot;loadState&quot;</span>, bool);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">handAdd</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      commit(<span class="string">&quot;Add&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">handRemove</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      commit(<span class="string">&quot;Remove&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">init</span>(<span class="params">state, payload</span>)</span> &#123;</span><br><span class="line">      state.photoArr = payload;</span><br><span class="line">      <span class="built_in">console</span>.log(state.photoArr);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">loadState</span>(<span class="params">state, bool</span>)</span> &#123;</span><br><span class="line">      state.isLoad = bool;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">Add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.idx++;</span><br><span class="line">      <span class="keyword">if</span> (state.idx &gt; state.photoArr.length - <span class="number">1</span>) &#123;</span><br><span class="line">        state.idx = <span class="number">0</span>; <span class="comment">// å¤§æ–¼ç¸½æ•¸é‡æ™‚è¿”å›ç¬¬ä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">Remove</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.idx--;</span><br><span class="line">      <span class="keyword">if</span> (state.idx &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        state.idx = state.photoArr.length - <span class="number">1</span>; <span class="comment">//å°æ–¼0æ™‚è¿”å›æœ€å¾Œä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">isLoad</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.isLoad;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">photoArr</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.photoArr;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">idx</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.idx;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="çµ„ä»¶"><a href="#çµ„ä»¶" class="headerlink" title="çµ„ä»¶"></a>çµ„ä»¶</h2><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ImageBox <span class="keyword">from</span> <span class="string">&quot;./components/ImageBox/index.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> LoadingBar <span class="keyword">from</span> <span class="string">&quot;./components/LoadingBar.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    LoadingBar,</span><br><span class="line">    ImageBox,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> handImgLoad = <span class="function">(<span class="params">imgArr</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">      imgArr.forEach(<span class="function">(<span class="params">image</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> newImage = <span class="keyword">new</span> Image();</span><br><span class="line">        newImage.src = image.url;</span><br><span class="line">        newImage.onload = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          i++;</span><br><span class="line">          store.dispatch(<span class="string">&quot;handLoadState&quot;</span>, i === imgArr.length);</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> init = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&quot;handInit&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        handImgLoad(res); <span class="comment">// resç‚ºhandInitå›å‚³çš„è³‡æ–™</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      init();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">LoadingBar</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ImageBox</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>loading çµ„ä»¶<br>components/LoadingBar.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isLoad = computed(<span class="function">() =&gt;</span> store.getters.isLoad);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; isLoad &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-show</span>=<span class="string">&quot;!isLoad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;load&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../assets/load.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>åœ–ç‰‡çµ„ä»¶<br>components/ImageBox/index.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ImgShow <span class="keyword">from</span> <span class="string">&quot;./ImgShow.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ChangeBtn <span class="keyword">from</span> <span class="string">&quot;./ChangeBtn.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ImgShow,</span><br><span class="line">    ChangeBtn,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isLoad = computed(<span class="function">() =&gt;</span> store.getters.isLoad);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; isLoad &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isLoad&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ImgShow</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ChangeBtn</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ–ç‰‡åˆ‡æ›æŒ‰éˆ•<br>components/ImageBox/ChangeBtn.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> addImg = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&quot;handAdd&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> removeImg = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&quot;handRemove&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; addImg, removeImg &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnbox&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;removeImg&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>ä¸Šä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;addImg&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>ä¸‹ä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ–ç‰‡é¡¯ç¤ºçµ„ä»¶<br>components/ImageBox/ImgShow.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> photoArr = computed(<span class="function">() =&gt;</span> store.getters.photoArr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> idx = computed(<span class="function">() =&gt;</span> store.getters.idx);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; photoArr, idx &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &lt;img</span><br><span class="line">    class=&quot;img&quot;</span><br><span class="line">    v-for=&quot;(item, s) in photoArr&quot;</span><br><span class="line">    v-show=&quot;idx === s&quot;</span><br><span class="line">    :key=&quot;item.url&quot;</span><br><span class="line">    :src=&quot;item.url&quot;</span><br><span class="line">    alt=&quot;&quot;</span><br><span class="line">  /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> vuex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vuex è³‡æ–™æµ</title>
      <link href="2021/03/16/vue-vuex/"/>
      <url>2021/03/16/vue-vuex/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€éº¼æ˜¯-Vuex"><a href="#ä»€éº¼æ˜¯-Vuex" class="headerlink" title="ä»€éº¼æ˜¯ Vuex?"></a>ä»€éº¼æ˜¯ Vuex?</h1><p>Vuex æ˜¯ Vue æ‡‰ç”¨ç¨‹å¼çš„ç‹€æ…‹ç®¡ç†ï¼Œçµ„ä»¶å¸¸æœƒè·¨çµæ§‹çš„å‚³éç‹€æ…‹ã€éœ€è¦å…¨åŸŸç‹€æ…‹çš„ç®¡ç†ï¼Œç”¨ Vuex å¯ä»¥æ›´å®¹æ˜“çš„æ§ç®¡ä½ çš„è³‡æ–™æµã€‚</p><a id="more"></a><p>æ²’æœ‰ç”¨Vuex<br><img src="https://i.imgur.com/yAFf3sQ.png" alt="Imgur"></p><p>ä½¿ç”¨Vuex<br><img src="https://i.imgur.com/Bogdlvu.png" alt="Imgur"></p><h1 id="Vuex-çš„å‰ç½®ä½œæ¥­"><a href="#Vuex-çš„å‰ç½®ä½œæ¥­" class="headerlink" title="Vuex çš„å‰ç½®ä½œæ¥­"></a>Vuex çš„å‰ç½®ä½œæ¥­</h1><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;&#125;,</span><br><span class="line">  actions: &#123;&#125;,</span><br><span class="line">  mutations: &#123;&#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"></span><br><span class="line">createApp(App)</span><br><span class="line">  .use(store) <span class="comment">// ä½¿ç”¨store</span></span><br><span class="line">  .mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><h1 id="State-Getters-Mutations-Actions"><a href="#State-Getters-Mutations-Actions" class="headerlink" title="State Getters Mutations Actions"></a>State Getters Mutations Actions</h1><p>State:<br>ğŸ”¸ å­˜æ”¾è³‡æ–™ç‹€æ…‹</p><p>Getters:<br>ğŸ”¸ å–å¾—ç‹€æ…‹ï¼Œé¡ä¼¼ computed é‡çµ„è³‡æ–™<br>ğŸ”¸ components ä¸è¦ç›´æ¥å–å¾— stateï¼Œå…ˆç”¨ getters å»è™•ç†è³‡æ–™é‚è¼¯ï¼Œå†å›å‚³è³‡æ–™ã€‚</p><p>Mutations:<br>ğŸ”¸ å”¯ä¸€æ”¹è®Š state çš„æ–¹æ³•<br>ğŸ”¸ åªèƒ½åšåŒæ­¥æ“ä½œï¼Œmutations ä¸èƒ½åšéåŒæ­¥æ“ä½œ<br>ğŸ”¸ mutations éœ€ç”¨ commit å‘¼å«</p><p>Actions:<br>ğŸ”¸ actions è§¸ç™¼ mutationsï¼Œcommit æœƒç™¼é€äº‹ä»¶çµ¦ mutations<br>ğŸ”¸ actions æ‰åšéåŒæ­¥æ“ä½œ<br>ğŸ”¸ éœ€ç”¨ dispatch å‘¼å«<br>ğŸ”¸ ä¸èƒ½æ›´æ”¹ state</p><p>æµç¨‹: components âœ dispatch âœ <code>actions</code> âœ commit âœ <code>mutations</code> âœ <code>state</code> âœ <code>getters</code> âœ components</p><h2 id="Vuex-ç¯„ä¾‹"><a href="#Vuex-ç¯„ä¾‹" class="headerlink" title="Vuex ç¯„ä¾‹"></a>Vuex ç¯„ä¾‹</h2><p>å´é‚Šé¸å–®æ”¶åˆ</p><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MenuBtn <span class="keyword">from</span> <span class="string">&quot;../src/components/MenuBtn.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> MenuSlid <span class="keyword">from</span> <span class="string">&quot;../src/components/MenuSlid.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    MenuBtn,</span><br><span class="line">    MenuSlid,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">MenuBtn</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">MenuSlid</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Microsoft JhengHei&quot;</span>, <span class="string">&quot;Heiti TC&quot;</span>, <span class="string">&quot;sans-serif&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  &gt; .content &#123;</span><br><span class="line">    <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    <span class="selector-tag">height</span>: 100%;</span><br><span class="line">    <span class="selector-tag">background-image</span>: <span class="selector-tag">url</span>(&quot;<span class="selector-tag">https</span>://<span class="selector-tag">source</span><span class="selector-class">.unsplash</span><span class="selector-class">.com</span>/<span class="selector-tag">WLUHO9A_xik</span>/1600<span class="selector-tag">x900</span>&quot;);</span><br><span class="line">    <span class="selector-tag">background-size</span>: <span class="selector-tag">cover</span>;</span><br><span class="line">    <span class="selector-tag">background-position</span>: <span class="selector-tag">center</span>;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line">    <span class="selector-tag">justify-content</span>: <span class="selector-tag">center</span>;</span><br><span class="line">    <span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    isOpen: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// actionsè§¸ç™¼mutationsï¼Œcommitæœƒç™¼é€äº‹ä»¶çµ¦mutations</span></span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">handMenuOpen</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">      <span class="comment">// context.stateç­‰æ–¼storeçš„state</span></span><br><span class="line">      <span class="keyword">const</span> openBool = !context.state.isOpen;</span><br><span class="line">      <span class="comment">// å‚³å…¥openBoolåƒæ•¸çµ¦mutations</span></span><br><span class="line">      context.commit(<span class="string">&#x27;handOpenState&#x27;</span>, openBool);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// åªæœ‰mutationså¯ä»¥ä¿®æ”¹state</span></span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">// æ¥æ”¶actionsçµ¦çš„åƒæ•¸openBoolï¼Œå†å»æ”¹è®Šstateçš„å€¼</span></span><br><span class="line">    <span class="function"><span class="title">handOpenState</span>(<span class="params">state, openBool</span>)</span> &#123;</span><br><span class="line">      state.isOpen = openBool;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// é¡ä¼¼computedé‡çµ„è³‡æ–™ï¼Œä¸è¦ç›´æ¥å–å¾—stateï¼Œå…ˆç”¨getterså»è™•ç†è³‡æ–™é‚è¼¯ï¼Œå†å›å‚³è³‡æ–™</span></span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">isOpen</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.isOpen;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br><p>MenuSlid.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>; <span class="comment">// æ‰€æœ‰è·Ÿvuexæœ‰é—œçš„å…§å®¹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line">    <span class="comment">// ç”¨computedå–å¾—isOpenè³‡æ–™ï¼Œä¸è¦æŠŠæ•´å€‹store returnå‡ºä¾†</span></span><br><span class="line">    <span class="keyword">const</span> isOpen = computed(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> store.getters.isOpen</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> handClickMenu = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&#x27;handMenuOpen&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; handClickMenu, isOpen &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;menu&#x27;, &#123;open: isOpen&#125; ]&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;closeBtn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handClickMenu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-times fa-3x&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>abous<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>content<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>user<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>address<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><br>MenuBtn.vue<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> store = useStore();</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line">    <span class="comment">// ç”¨dispatchè§¸ç™¼ä¸€å€‹äº‹ä»¶åˆ°actions</span></span><br><span class="line">    <span class="keyword">const</span> handClickMenu = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.dispatch(<span class="string">&#x27;handMenuOpen&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; handClickMenu &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;menuBtn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handClickMenu&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-bars fa-3x&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-class">.menuBtn</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h1 id="Vuex-çµæ§‹æ‹†åˆ†"><a href="#Vuex-çµæ§‹æ‹†åˆ†" class="headerlink" title="Vuex çµæ§‹æ‹†åˆ†"></a>Vuex çµæ§‹æ‹†åˆ†</h1><p>ç•¶ Vuex å…§å®¹è¶Šä¾†è¶Šå¤šæ™‚ï¼Œå¯ä»¥æ‹†åˆ†æª”æ¡ˆï¼Œæ¯”è¼ƒå¥½ç®¡ç†</p><p>store/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> state <span class="keyword">from</span> <span class="string">&#x27;./state.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">&#x27;./actions.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">&#x27;./mutations.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> getters <span class="keyword">from</span> <span class="string">&#x27;./getters.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(&#123;</span><br><span class="line">  state, actions, mutations, getters</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>store/state.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  isOpen: <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>store/getters.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">isOpen</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state.isOpen;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>store/mutations.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">handOpenState</span>(<span class="params">state, openBool</span>)</span> &#123;</span><br><span class="line">    state.isOpen = openBool;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>store/actions.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">handMenuOpen</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> openBool = !context.state.isOpen;</span><br><span class="line">    context.commit(<span class="string">&#x27;handOpenState&#x27;</span>, openBool);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Vuex-modules"><a href="#Vuex-modules" class="headerlink" title="Vuex modules"></a>Vuex modules</h1><p>moduleå¯ä»¥ä¾ç…§åŠŸèƒ½ä¾†å€åˆ†è³‡æ–™<br>è¨­å®šnamespacedåœ¨ä¸åŒçš„moduleså¯ä»¥æœ‰ä¸€æ¨£çš„åç¨±ï¼Œä¾ç…§modulesåç¨±åšåˆ¤æ–·</p><p>store/Auth/index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  namespaced: <span class="literal">true</span>,</span><br><span class="line">  state: &#123;</span><br><span class="line">    token: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">handSetToken</span>(<span class="params">context, token</span>)</span> &#123;</span><br><span class="line">      context.commit(<span class="string">&#x27;setToken&#x27;</span>, token);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">setToken</span>(<span class="params">state, token</span>)</span> &#123;</span><br><span class="line">      state.token = token;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">getToken</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.token;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> store = useStore();</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å› ç‚ºè¨­å®šnamespacedï¼Œå‰é¢è¦åŠ modulesåç¨±Auth/</span></span><br><span class="line">      store.dispatch(<span class="string">&#x27;Auth/handSetToken&#x27;</span>, <span class="string">&#x27;aaa&#x27;</span>); </span><br><span class="line">      <span class="built_in">console</span>.log(store.getters[<span class="string">&#x27;Auth/getToken&#x27;</span>]);</span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> vuex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue åµŒå¥—è·¯ç”±</title>
      <link href="2021/03/16/vue-nested-routes/"/>
      <url>2021/03/16/vue-nested-routes/</url>
      
        <content type="html"><![CDATA[<h1 id="åµŒå¥—è·¯ç”±-Nested-Routes"><a href="#åµŒå¥—è·¯ç”±-Nested-Routes" class="headerlink" title="åµŒå¥—è·¯ç”±(Nested Routes)"></a>åµŒå¥—è·¯ç”±(Nested Routes)</h1><p>çˆ¶å±¤æœ‰ router-view å¯ä»¥åˆ‡æ›ï¼Œå…§å±¤ä¹Ÿæœ‰è‡ªå·±çš„ router-view å¯ä»¥åˆ‡æ›</p><a id="more"></a><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">&quot;../views/About.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Changelog <span class="keyword">from</span> <span class="string">&quot;../views/About/Changelog.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> GitHub <span class="keyword">from</span> <span class="string">&quot;../views/About/GitHub.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Guide <span class="keyword">from</span> <span class="string">&quot;../views/About/Guide.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> aboutIndex <span class="keyword">from</span> <span class="string">&quot;../views/About/index.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Reference <span class="keyword">from</span> <span class="string">&quot;../views/About/Reference.vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    component: About,</span><br><span class="line">    children: [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;&quot;</span>, <span class="comment">// childrenè£¡çš„è·¯å¾‘ä¸éœ€è¦æ–œç·š/</span></span><br><span class="line">        component: aboutIndex</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;changelog&quot;</span>,</span><br><span class="line">        component: Changelog</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;gitHub&quot;</span>,</span><br><span class="line">        component: GitHub</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;guide&quot;</span>,</span><br><span class="line">        component: Guide</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&quot;reference&quot;</span>,</span><br><span class="line">        component: Reference</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(process.env.BASE_URL),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><h2 id="å…§å±¤åŠ ä¸Š-router-view"><a href="#å…§å±¤åŠ ä¸Š-router-view" class="headerlink" title="å…§å±¤åŠ ä¸Š router-view"></a>å…§å±¤åŠ ä¸Š router-view</h2><p>about.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;about&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/changelog&quot;</span>&gt;</span>changelog<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/gitHub&quot;</span>&gt;</span>gitHub<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/guide&quot;</span>&gt;</span>guide<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/reference&quot;</span>&gt;</span>reference<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.about</span> &#123;</span><br><span class="line">  &gt; nav &#123;</span><br><span class="line">    &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span><br><span class="line">      <span class="attribute">font-weight</span>: bold;</span><br><span class="line">      &amp;.router-link-exact-active &#123;</span><br><span class="line">        <span class="selector-tag">color</span>: <span class="selector-tag">rebeccapurple</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€æ³¨æ„çš„æ˜¯ï¼ŒåµŒå¥—è·¯ç”±çš„router-linkï¼Œclassæœƒè‡ªå‹•ç”¢ç”Ÿrouter-link-activeï¼Œrouter-link-activeçš„ä¸‹ä¸€å±¤ä¹Ÿæœƒç”¢ç”Ÿrouter-link-exact-activeï¼Œå¯ä»¥åˆ©ç”¨æ­¤é¡åˆ¥ä¾†è¨­å®šactive</p><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue å‹•æ…‹è·¯ç”±</title>
      <link href="2021/03/16/vue-dynamic-router/"/>
      <url>2021/03/16/vue-dynamic-router/</url>
      
        <content type="html"><![CDATA[<h1 id="è¨­å®šå‹•æ…‹ç¶²å€"><a href="#è¨­å®šå‹•æ…‹ç¶²å€" class="headerlink" title="è¨­å®šå‹•æ…‹ç¶²å€"></a>è¨­å®šå‹•æ…‹ç¶²å€</h1><a id="more"></a><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/About.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/courses&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Courses&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Courses/index.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/courses/:id&quot;</span>, <span class="comment">// åŠ ä¸Š:id</span></span><br><span class="line">    name: <span class="string">&quot;Courses_id&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Courses/_id.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(process.env.BASE_URL),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><h1 id="è¨­å®šå¤–å±¤çš„nav"><a href="#è¨­å®šå¤–å±¤çš„nav" class="headerlink" title="è¨­å®šå¤–å±¤çš„nav"></a>è¨­å®šå¤–å±¤çš„nav</h1><p>useRoute: ç”¨ä¾†ç²å–ç¶²å€ä¸Šé¢çš„åƒæ•¸<br>useRouter: æä¾›è™•ç†è½‰å€ç›¸é—œçš„æ“ä½œAPI</p><p>é»æ“Šé¸å–®ï¼Œæœƒæ ¹æ“šè·¯ç”±å»åŠ ä¸Šactiveï¼Œç”±æ–¼å‹•æ…‹é¸å–®ä¸æœƒè¢«åŠ ä¸Šrouter-link-activeï¼Œæ‰€ä»¥ä½¿ç”¨ç›£è½çš„æ–¹å¼å»ç¶å®šclass</p><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, ref, watch &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useRoute &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> route = useRoute();</span><br><span class="line">    <span class="keyword">const</span> reouteArr = reactive([<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;courses&#x27;</span>]); <span class="comment">// æ¯å€‹é¸å–®çš„è·¯ç”±</span></span><br><span class="line">    <span class="keyword">const</span> index = ref(<span class="number">0</span>);</span><br><span class="line">    watch(</span><br><span class="line">      ()=&gt;route.path, <span class="comment">// å–å¾—ç¾åœ¨çš„è·¯ç”±</span></span><br><span class="line">      ()=&gt;&#123;</span><br><span class="line">        reouteArr.forEach(<span class="function">(<span class="params">item, idx</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> rp = route.path.substr(<span class="number">1</span>).split(<span class="string">&#x27;/&#x27;</span>)[<span class="number">0</span>]; <span class="comment">// ç§»é™¤æ–œç·š</span></span><br><span class="line">          <span class="comment">// substr() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²ä¸­å¾æŒ‡å®šä½ç½®é–‹å§‹åˆ°æŒ‡å®šå­—ç¬¦æ•¸çš„å­—ç¬¦ã€‚</span></span><br><span class="line">          <span class="comment">// split() æŒ‡å®šçš„å­—ä¸²åˆ†å‰²ï¼Œè¿”å›ä¸€å€‹æ–°Array</span></span><br><span class="line">          <span class="keyword">if</span> (item === rp) &#123;</span><br><span class="line">            index.value = idx;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> &#123; index &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:index === 0&#125;&quot;</span>&gt;</span> Home <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    |</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:index === 1&#125;&quot;</span>&gt;</span> About <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    |</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/courses&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:index === 2&#125;&quot;</span>&gt;</span> Courses <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">  <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">  a &#123;</span><br><span class="line">    <span class="selector-tag">font-weight</span>: <span class="selector-tag">bold</span>;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span><br><span class="line">    &amp;<span class="selector-class">.active</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#42b983</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h1 id="å…§å±¤çš„é¸å–®"><a href="#å…§å±¤çš„é¸å–®" class="headerlink" title="å…§å±¤çš„é¸å–®"></a>å…§å±¤çš„é¸å–®</h1><p>å¦‚è¦åˆ‡æ›é¸å–®æ™‚åšæ›´å¤šçš„æ•ˆæœå¯ä»¥ä¸ä½¿ç”¨router-link<br>router.pushå¯ä»¥æŒ‡å‘è¦å»çš„é é¢<br>router.push(â€˜/è·¯å¾‘â€™) or router.push({ path: â€˜/è·¯å¾‘â€™ })<br>router.go(-1);å›ä¸Šä¸€é </p><p>æ»‘é¼ ä¸­éµæ²’è¾¦æ³•è®“router.pushè·³å‡ºè¦–çª—<br>å¯ä»¥ä½¿ç”¨router.resolveå„²å­˜è·¯å¾‘ï¼Œå†ç”¨ç´”JSé–‹å•Ÿè·¯å¾‘çš„è¦–çª—</p><p>/Courses/index.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; onMounted, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> coursesList = reactive(&#123; <span class="attr">data</span>:&#123;&#125; &#125;); <span class="comment">// å„²å­˜APIå›ä¾†çš„data</span></span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="keyword">const</span> goNewRouter = <span class="function">(<span class="params">id</span>)=&gt;</span>&#123;</span><br><span class="line">      router.push(&#123;<span class="attr">path</span>: <span class="string">`/courses/<span class="subst">$&#123;id&#125;</span>`</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ»‘é¼ ä¸­éµæ²’è¾¦æ³•è®“router.pushè·³å‡ºè¦–çª—</span></span><br><span class="line">    <span class="keyword">const</span> openNewTab = <span class="function">(<span class="params">id</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> saveUrl = router.resolve(&#123; <span class="attr">path</span>: <span class="string">`/courses/<span class="subst">$&#123;id&#125;</span>`</span> &#125;); <span class="comment">// router.resolveå¯å„²å­˜è·¯å¾‘</span></span><br><span class="line">      <span class="built_in">window</span>.open(saveUrl.href);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      axios.get(<span class="string">&#x27;https://vue-lessons-api.herokuapp.com/courses/list&#x27;</span>).then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">        coursesList.data = res.data;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      coursesList, goNewRouter, openNewTab</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚æœ @clickäº‹ä»¶æœ‰å…©å€‹å°±è¦åŠ ä¿®é£¾ç¬¦ï¼Œæ‰çŸ¥é“é»çš„æ˜¯è¦è§¸ç™¼å“ªä¸€å€‹Funtion<br>@click.left æ»‘é¼ å·¦éµ @click.middle æ»‘é¼ ä¸­éµ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in coursesList.data&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> </span></span><br><span class="line"><span class="tag">  @<span class="attr">click.left</span>=<span class="string">&quot;goNewRouter(item.id)&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">click.middle</span>=<span class="string">&quot;openNewTab(item.id)&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.photo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;teacher-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;teach-img&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.teacher.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; item.teacher.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>NTD: &#123;&#123; item.money &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#courses</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">318px</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>($color: #<span class="number">000000</span>, $alpha: <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.7</span>;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">0.2s</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">231</span>, <span class="number">231</span>, <span class="number">231</span>);</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="selector-tag">opacity</span>: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.content</span> &#123;</span><br><span class="line">    &gt; h1 &#123;</span><br><span class="line">      <span class="selector-tag">font-size</span>: 14<span class="selector-tag">px</span>;</span><br><span class="line">      <span class="selector-tag">text-align</span>: <span class="selector-tag">left</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.teacher-box</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">      <span class="attribute">align-items</span>: center;</span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">      &gt; h2 &#123;</span><br><span class="line">        <span class="selector-tag">font-size</span>: 13<span class="selector-tag">px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.teach-img</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">justify-content</span>: flex-start;</span><br><span class="line">        <span class="attribute">align-items</span>: center;</span><br><span class="line">        &gt; img &#123;</span><br><span class="line">          <span class="selector-tag">border-radius</span>: 25<span class="selector-tag">px</span>;</span><br><span class="line">          <span class="selector-tag">margin-right</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h1 id="è¨­å®šå…§é "><a href="#è¨­å®šå…§é " class="headerlink" title="è¨­å®šå…§é "></a>è¨­å®šå…§é </h1><p>/Courses/_id.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRoute, useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted, reactive, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> route = useRoute();</span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="keyword">const</span> courses = reactive(&#123; <span class="attr">data</span>:&#123;&#125; &#125;);</span><br><span class="line">    <span class="keyword">const</span> isError = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    onMounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      axios.get(<span class="string">`https://vue-lessons-api.herokuapp.com/courses/<span class="subst">$&#123;route.params.id&#125;</span>`</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        courses.data = res.data.data[<span class="number">0</span>];</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">        isError.value = <span class="literal">true</span>;</span><br><span class="line">        courses.data[<span class="string">&#x27;errorMsg&#x27;</span>] = error.response.data.error_message;</span><br><span class="line">        <span class="comment">// è¨­å®šä¸‰ç§’æœƒè·³å›åŸé é¢</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">          router.push(&#123;<span class="attr">path</span>:<span class="string">&#x27;/courses&#x27;</span>&#125;);</span><br><span class="line">          <span class="comment">// router.push(&#x27;/courses&#x27;)</span></span><br><span class="line">          <span class="comment">// router.go(-1); // å›ä¸Šä¸€é </span></span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// é›¢é–‹æ­¤çµ„ä»¶è¦åŸ·è¡Œçš„å‹•ä½œ</span></span><br><span class="line">    onUnmounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      courses, isError</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç‰©ä»¶ç¬¬äºŒå±¤åˆå§‹æ™‚æœƒæ˜¯ç©ºçš„(undefined)ï¼Œç”¨v-ifåŒ…ä½ï¼Œç­‰æœ‰è³‡æ–™æ™‚æ‰æœƒå‡ºç¾</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;!isError&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; courses.data.name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>NTD: &#123;&#123; courses.data.money &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;courses.data.photo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(courses.data).length !== 0&quot;</span>&gt;</span><span class="comment">&lt;!--ç­‰æœ‰è³‡æ–™æ™‚æ‰æœƒå‡ºç¾--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;courses.data.teacher.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span><span class="comment">&lt;!--ç‰©ä»¶ç¬¬äºŒå±¤åˆå§‹æ™‚æœƒæ˜¯ç©ºçš„--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; courses.data.teacher.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- error_message --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;isError&quot;</span>&gt;</span>&#123;&#123; courses.data.errorMsg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue Router ç¶²å€è·¯ç”±</title>
      <link href="2021/03/14/vue-router/"/>
      <url>2021/03/14/vue-router/</url>
      
        <content type="html"><![CDATA[<h1 id="å–®é å¼æ‡‰ç”¨"><a href="#å–®é å¼æ‡‰ç”¨" class="headerlink" title="å–®é å¼æ‡‰ç”¨"></a>å–®é å¼æ‡‰ç”¨</h1><p>single-page applicationï¼Œç¸®å¯« SPA<br>é€é JS å‹•æ…‹æ¸²æŸ“ç•¶å‰é é¢ä¾†èˆ‡ä½¿ç”¨è€…äº’å‹•ï¼Œè€Œéå‚³çµ±çš„å¾ä¼ºæœå™¨é‡æ–°è¼‰å…¥æ•´å€‹æ–°é é¢ã€‚é€™ç¨®æ–¹æ³•é¿å…äº†é é¢ä¹‹é–“åˆ‡æ›æ‰“æ–·ç”¨æˆ¶é«”é©—ï¼Œä½¿æ‡‰ç”¨ç¨‹å¼æ›´åƒä¸€å€‹æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ã€‚</p><h1 id="router-view"><a href="#router-view" class="headerlink" title="router-view"></a>router-view</h1><p>å°‡æœƒæ”¹è®Šçš„å€å¡Šä½¿ç”¨ router-view é¡¯ç¤º</p><a id="more"></a><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> /&gt;</span></span><br></pre></td></tr></table></figure><br><h1 id="è¨­å®šè·¯ç”±"><a href="#è¨­å®šè·¯ç”±" class="headerlink" title="è¨­å®šè·¯ç”±"></a>è¨­å®šè·¯ç”±</h1><p>å°‡ Homeã€404 é é¢ç›´æ¥ä¸€é€²å…¥å°± importï¼Œå…¶ä»–é é¢ä½¿ç”¨å‹•æ…‹ import çµ„ä»¶ï¼Œé»æ“Šè©²é é¢æ™‚ï¼Œæ‰æœƒè¼‰å…¥çµ„ä»¶ã€‚<br>å‹•æ…‹ import çµ„ä»¶ build æ™‚æ¯å€‹é é¢æœƒæ˜¯ä¸€æ”¯ç¨ç«‹çš„ JSã€‚<br>å¦‚å…¨éƒ¨é é¢ç›´æ¥ä¸€é€²å…¥å°± importï¼Œé é¢ä¸€å¤šæ™‚æœƒå½±éŸ¿æ•ˆèƒ½; ä½†å¦‚æœæ˜¯å°å°ˆæ¡ˆï¼Œé é¢å¾ˆå°‘æ™‚ï¼Œå¯ä»¥ç›´æ¥å…¨éƒ¨ importï¼Œæ¸›å°‘ request çš„æ•¸é‡ã€‚<br>å¤§ç¶²ç«™ =&gt; å‹•æ…‹è¼‰å…¥ï¼Œä¸åƒæ•ˆèƒ½<br>å°ç¶²ç«™ =&gt; ç›´æ¥è¼‰å…¥ï¼Œæ¸›å°‘ request æ•¸é‡</p><p>router index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>; <span class="comment">// ç›´æ¥ import</span></span><br><span class="line"><span class="keyword">import</span> NotFoundComponent <span class="keyword">from</span> <span class="string">&quot;../views/NotFoundComponent.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/rwd&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;rwd&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Rwd.vue&quot;</span>), <span class="comment">// å‹•æ…‹ import</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/vuejs&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;vuejs&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Vuejs.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/reactjs&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;reactjs&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Reactjs.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/html5&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;html5&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Html5.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/nodejs&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;nodejs&quot;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/Nodejs.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&quot;/:pathMatch(.*)&quot;</span>, <span class="attr">component</span>: NotFoundComponent &#125;, <span class="comment">// éœ€æ”¾æœ€ä¸‹é¢ï¼Œä¸Šé¢çš„pathéƒ½æ²’æœ‰æ™‚å³é¡¯ç¤ºæ­¤é é¢</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(process.env.BASE_URL),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><h2 id="router-ä¾‹å¤–è™•ç†-404"><a href="#router-ä¾‹å¤–è™•ç†-404" class="headerlink" title="router ä¾‹å¤–è™•ç†(404)"></a>router ä¾‹å¤–è™•ç†(404)</h2><p>{ path: â€œ/:pathMatch(.*)â€, component: NotFoundComponent }<br>404 é é¢çš„ path éœ€æ”¾æœ€ä¸‹é¢ï¼Œè¼‰å…¥æ™‚æœƒå¾ä¸Šåˆ°ä¸‹é–‹å§‹è·‘ï¼Œä¸Šé¢çš„ path éƒ½æ²’æœ‰ Match æ™‚å³æœƒé¡¯ç¤ºæ­¤é é¢<br></p><h2 id="History-modes"><a href="#History-modes" class="headerlink" title="History modes"></a>History modes</h2><p><b>createWebHashHistory()</b><br>æœƒé€é # å­—è™Ÿä¾†ç•¶ä½œç¶²å€åˆ‡æ›çš„æ“ä½œï¼Œä½†æ˜¯æœƒè·ŸéŒ¨é»ç›¸æ’ï¼Œå° SEO æœ‰ä¸åˆ©çš„å½±éŸ¿<br><br><b>createWebHistory()</b><br>éœ€è¦è·Ÿå¾Œç«¯æ­é…é‡æ–°é…ç½®æ ¹ç›®éŒ„ä¸‹çš„ routerï¼Œé‚„è¦è‡ªå·±é…ç½®ä¾‹å¤–è™•ç†çš„é é¢ä¾‹å¦‚ 404 ç­‰</p><br><h1 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h1><p>è¨­å®š router-link æŒ‡å‘é€£çµé é¢</p><p>header.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/rwd&quot;</span>&gt;</span>RWD<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/vuejs&quot;</span>&gt;</span>VUEJS<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/reactjs&quot;</span>&gt;</span>REACTJS<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/html5&quot;</span>&gt;</span>HTML5<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/nodejs&quot;</span>&gt;</span>NODEJS<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Slot æ’æ§½</title>
      <link href="2021/03/14/vue-slot/"/>
      <url>2021/03/14/vue-slot/</url>
      
        <content type="html"><![CDATA[<h1 id="Slot-æ’æ§½"><a href="#Slot-æ’æ§½" class="headerlink" title="Slot æ’æ§½"></a>Slot æ’æ§½</h1><p>åœ¨å­å…ƒä»¶ä¸Šé¢é–‹å€‹æ´ï¼Œ ç”±å¤–å±¤å…ƒä»¶å°‡å…§å®¹ç½®æ”¾åœ¨è‡³å­å±¤å…ƒä»¶æŒ‡å®šçš„ä½ç½®ä¸­<br>å¯è§£æ±ºæ¨£å¼ä¸€æ¨£ï¼Œä½†å…§å®¹ä¸ä¸€æ¨£çš„çµ„ä»¶</p><a id="more"></a><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SlotsTitle <span class="keyword">from</span> <span class="string">&quot;@/components/SlotsTitle.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    SlotsTitle,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å°‡çµ„ä»¶ç”¨ html å¯«æ³•æœ‰é ­æœ‰å°¾åŒ…èµ·ä¾†ï¼Œä¸¦ç”¨ kebab-case(å…¨å°å¯«&amp;dashed)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">slots-title</span>&gt;</span>Sunday<span class="tag">&lt;/<span class="name">slots-title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slots-title</span>&gt;</span>Monday<span class="tag">&lt;/<span class="name">slots-title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slots-title</span>&gt;</span>Tuesday<span class="tag">&lt;/<span class="name">slots-title</span>&gt;</span></span><br></pre></td></tr></table></figure><p>SlotsTitle.vue<br>çˆ¶å±¤çš„å…§å®¹å°‡æœƒæ’å…¥<slot></slot>ä¹‹ä¸­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../assets/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> Slot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šç¾©æ¨¡æ¿ directive</title>
      <link href="2021/03/14/vue-directive/"/>
      <url>2021/03/14/vue-directive/</url>
      
        <content type="html"><![CDATA[<h1 id="å…¨å±€-directive"><a href="#å…¨å±€-directive" class="headerlink" title="å…¨å±€ directive"></a>å…¨å±€ directive</h1><p>é€é directive å¯ä»¥è®“æ¯é éƒ½ä½¿ç”¨å…±ç”¨èªæ³•ï¼Œåœ¨ main.js ä¸­æ·»åŠ å…¨å±€ directive<br>directive mounted ç”Ÿå‘½é€±æœŸç­‰åŒæ–¼ onMounted, ä½†é€™è£¡ç‚ºç´” js ä¸¦é vue çš„é€±æœŸè£¡ï¼Œæ‰€ä»¥é€™æ¨£ä½¿ç”¨</p><a id="more"></a><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šç¾©è®Šæ•¸åç¨±focus</span></span><br><span class="line">app.directive(<span class="string">&quot;focus&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params">el</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(el);</span><br><span class="line">    el.focus(); <span class="comment">// æœ‰v-focusåç¨±çš„éƒ½æœƒæœ‰focus()æ•ˆæœ</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><p>template</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-focus</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span> // è‡ªå®šç¾©è®Šæ•¸åç¨±å‰é¢é ˆåŠ ä¸Šå‰ç¶´v-XXX</span><br></pre></td></tr></table></figure><hr><h2 id="ç¯„ä¾‹-å°‡æ•¸å­—è½‰åƒåˆ†ä½"><a href="#ç¯„ä¾‹-å°‡æ•¸å­—è½‰åƒåˆ†ä½" class="headerlink" title="ç¯„ä¾‹: å°‡æ•¸å­—è½‰åƒåˆ†ä½"></a>ç¯„ä¾‹: å°‡æ•¸å­—è½‰åƒåˆ†ä½</h2><p>tool.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> numPrice = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> n = num + <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> numArr = n.split(<span class="string">&quot;&quot;</span>).reverse();</span><br><span class="line">  <span class="keyword">const</span> overArr = [];</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  numArr.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">3</span>) &#123;</span><br><span class="line">      i = <span class="number">1</span>;</span><br><span class="line">      overArr.push(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    overArr.push(item);</span><br><span class="line">  &#125;);</span><br><span class="line">  overArr.reverse();</span><br><span class="line">  <span class="keyword">return</span> overArr.join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>main.js<br>mounted(el, val) // ç¬¬äºŒå€‹åƒæ•¸ç‚º v-xxx=â€ä¸Ÿé€²å»çš„å€¼â€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; numPrice &#125; <span class="keyword">from</span> <span class="string">&quot;@/lib/tools.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"></span><br><span class="line">app.directive(<span class="string">&quot;price&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params">el, binding</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> p = numPrice(binding.value);</span><br><span class="line">    el.innerHTML = p;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><p>template</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-price</span>=<span class="string">&quot;15555000&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŠ ä¸Š-v-model-æ™‚éœ€-updated"><a href="#åŠ ä¸Š-v-model-æ™‚éœ€-updated" class="headerlink" title="åŠ ä¸Š v-model æ™‚éœ€ updated"></a>åŠ ä¸Š v-model æ™‚éœ€ updated</h3><p>å› ç‚º mounted åªæœƒåŸ·è¡Œä¸€æ¬¡ï¼Œå¦‚éœ€å‹•æ…‹ç¶å®šï¼Œéœ€å†åŠ ä¸Š updated<br>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.directive(<span class="string">&quot;price&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params">el, binding</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> p = numPrice(binding.value);</span><br><span class="line">    el.innerHTML = p;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">updated</span>(<span class="params">el, binding</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> p = numPrice(binding.value);</span><br><span class="line">    el.innerHTML = p;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>components</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">1233211234567</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;num&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-price</span>=<span class="string">&quot;num&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> directive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€érefç¶å®šï¼Œå–å¾—DOMå…ƒç´ </title>
      <link href="2021/03/14/vue-template-refs/"/>
      <url>2021/03/14/vue-template-refs/</url>
      
        <content type="html"><![CDATA[<h1 id="é€é-ref-ç¶å®šï¼Œå–å¾—-DOM-å…ƒç´ "><a href="#é€é-ref-ç¶å®šï¼Œå–å¾—-DOM-å…ƒç´ " class="headerlink" title="é€é ref ç¶å®šï¼Œå–å¾— DOM å…ƒç´ "></a>é€é ref ç¶å®šï¼Œå–å¾— DOM å…ƒç´ </h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> inputText = ref(<span class="literal">null</span>); <span class="comment">// è®Šæ•¸éœ€è·Ÿç¶å®šçš„refä¸€æ¨£åç¨±</span></span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      inputText.value.focus(); <span class="comment">// å›å‚³å¾Œå³å¯ä½¿ç”¨inputText</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      inputText, <span class="comment">// å›å‚³inputText</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&quot;inputText&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span> // ç¶å®šref</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> ref </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>$eventäº‹ä»¶å›å‚³</title>
      <link href="2021/03/14/vue-event-return/"/>
      <url>2021/03/14/vue-event-return/</url>
      
        <content type="html"><![CDATA[<h1 id="event-äº‹ä»¶å›å‚³"><a href="#event-äº‹ä»¶å›å‚³" class="headerlink" title="$event äº‹ä»¶å›å‚³"></a>$event äº‹ä»¶å›å‚³</h1><p>å–å¾—äº‹ä»¶çš„ target</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e.target);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      clickFn,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickFn($event)&quot;</span>&gt;</span>CLICK<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœ‰å¤šå€‹åƒæ•¸ï¼Œ$event äº‹ä»¶éœ€æ”¾åœ¨æœ€å¾Œé¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">(<span class="params">num, e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num, e.target);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      clickFn,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickFn(100, $event)&quot;</span>&gt;</span>CLICK<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> event </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>transition å‹•ç•«éæ¸¡çµ„ä»¶</title>
      <link href="2021/03/14/transitions/"/>
      <url>2021/03/14/transitions/</url>
      
        <content type="html"><![CDATA[<h1 id="Enter-amp-Leave-Transitions"><a href="#Enter-amp-Leave-Transitions" class="headerlink" title="Enter &amp; Leave Transitions"></a>Enter &amp; Leave Transitions</h1><p>Vue.js å°‡éå ´æ¼¸è®Šçš„æ•ˆæœåŒ…è£æˆä¸€å€‹ç¨ç«‹çš„ transition å…ƒä»¶ï¼Œ å†ç”±é–‹ç™¼è€…è‡ªè¡Œå®šç¾©å…ƒç´ çš„é€²å ´ (Enter) ã€é€€å ´ (Leave) ä»¥åŠå‹•ç•«éç¨‹æ¼¸è®Š (Transitions) çš„æ¨£å¼ã€‚å‹•ç•«åŸ·è¡Œå®Œå¾Œæ‰æœƒæŠŠ DOM å…ƒç´ æ‹”æ‰</p><a id="more"></a><p><img src="https://i.imgur.com/1AHgsrN.png" alt="transitionåœ–ç‰‡è§£èªª"><br>å…ƒç´ é€²å ´ (é¡¯ç¤º) ï¼š<br>v-enter-from: é€²å…¥çš„é–‹å§‹ç‹€æ…‹ã€‚åœ¨æ’å…¥å…ƒç´ ä¹‹å‰æ·»åŠ ï¼Œåœ¨æ’å…¥å…ƒç´ ä¹‹å¾Œåˆªé™¤ä¸€å¹€ã€‚<br>v-enter-active: é€²å…¥çš„æ´»å‹•ç‹€æ…‹ã€‚åœ¨æ•´å€‹é€²å…¥éšæ®µæ‡‰ç”¨ã€‚åœ¨æ’å…¥å…ƒç´ ä¹‹å‰æ·»åŠ ï¼Œåœ¨éæ¸¡/å‹•ç•«çµæŸæ™‚å°‡å…¶åˆªé™¤ã€‚æ­¤é¡å¯ç”¨æ–¼å®šç¾©é€²å…¥éæ¸¡çš„æŒçºŒæ™‚é–“ï¼Œå»¶é²å’Œç·©å’Œæ›²ç·šã€‚<br>v-enter-to: é€²å…¥çš„çµæŸç‹€æ…‹ã€‚å…ƒç´ æ’å…¥å¾Œæ·»åŠ äº†ä¸€å¹€ï¼ˆåŒæ™‚ v-enter-from åˆªé™¤ï¼‰ï¼Œéæ¸¡/å‹•ç•«çµæŸå¾Œåˆªé™¤ã€‚</p><p>å…ƒç´ é€€å ´ (æ¶ˆå¤±) ï¼š<br>v-leave-from: é›¢é–‹çš„é–‹å§‹ç‹€æ…‹ã€‚è§¸ç™¼é›¢é–‹éæ¸¡æ™‚ç«‹å³æ·»åŠ ï¼Œåœ¨ä¸€å¹€å¾Œç§»é™¤ã€‚<br>v-leave-active: é›¢é–‹çš„æ´»å‹•ç‹€æ…‹ã€‚åœ¨æ•´å€‹é›¢é–‹éšæ®µæ‡‰ç”¨ã€‚è§¸ç™¼é›¢é–‹éæ¸¡æ™‚ç«‹å³æ·»åŠ ï¼Œç•¶éæ¸¡/å‹•ç•«çµæŸæ™‚å°‡å…¶ç§»é™¤ã€‚æ­¤é¡å¯ç”¨æ–¼å®šç¾©é›¢é–‹éæ¸¡çš„æŒçºŒæ™‚é–“ï¼Œå»¶é²å’Œç·©å’Œæ›²ç·šã€‚<br>v-leave-to: é›¢é–‹çš„çµæŸç‹€æ…‹ã€‚è§¸ç™¼é›¢é–‹éæ¸¡ï¼ˆåŒæ™‚ v-leave-from åˆªé™¤ï¼‰å¾Œæ·»åŠ ä¸€å¹€ï¼Œåœ¨éæ¸¡/å‹•ç•«çµæŸæ™‚åˆªé™¤ã€‚</p><h2 id="ç¯„ä¾‹ä¸€-æ·¡å…¥æ·¡å‡º"><a href="#ç¯„ä¾‹ä¸€-æ·¡å…¥æ·¡å‡º" class="headerlink" title="ç¯„ä¾‹ä¸€: æ·¡å…¥æ·¡å‡º"></a>ç¯„ä¾‹ä¸€: æ·¡å…¥æ·¡å‡º</h2><p>transition å®šç¾© name=â€fadeâ€ï¼Œstyle å°‡æœƒåŠ å…¥ fade æ¨£å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isAmin = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isAmin,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isAmin = !isAmin&quot;</span>&gt;</span>Toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;fade&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isAmin&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.fade-enter-active</span>,</span><br><span class="line"><span class="selector-class">.fade-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">0.5s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-enter-from</span>,</span><br><span class="line"><span class="selector-class">.fade-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¯„ä¾‹äºŒ-ä½¿ç”¨-keyframes-åš-bounce-å‹•ç•«"><a href="#ç¯„ä¾‹äºŒ-ä½¿ç”¨-keyframes-åš-bounce-å‹•ç•«" class="headerlink" title="ç¯„ä¾‹äºŒ: ä½¿ç”¨ keyframes åš bounce å‹•ç•«"></a>ç¯„ä¾‹äºŒ: ä½¿ç”¨ keyframes åš bounce å‹•ç•«</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isAmin = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isAmin,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isAmin = !isAmin&quot;</span>&gt;</span>Toggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;bounce&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isAmin&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.bounce-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: bounce-in <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bounce-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: bounce-in <span class="number">0.5s</span> reverse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> bounce-in &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.25</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> transition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çµ„ä»¶è³‡æ–™å‚³é emit</title>
      <link href="2021/03/14/components-emit/"/>
      <url>2021/03/14/components-emit/</url>
      
        <content type="html"><![CDATA[<h1 id="çµ„ä»¶è³‡æ–™å‚³é-emit-å­å‚³çˆ¶"><a href="#çµ„ä»¶è³‡æ–™å‚³é-emit-å­å‚³çˆ¶" class="headerlink" title="çµ„ä»¶è³‡æ–™å‚³é emit (å­å‚³çˆ¶)"></a>çµ„ä»¶è³‡æ–™å‚³é emit (å­å‚³çˆ¶)</h1><p>ä½¿ç”¨ emit å¾€ä¸Šå‚³éè³‡æ–™</p><a id="more"></a><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> EmitTest <span class="keyword">from</span> <span class="string">&quot;@/components/EmitTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    EmitTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      clickFn,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EmitTest</span> @<span class="attr">callBack</span>=<span class="string">&quot;clickFn&quot;</span> /&gt;</span> // @åœ¨emitå®šç¾©çš„è®Šæ•¸=&quot;çˆ¶å±¤Fn&quot;</span><br></pre></td></tr></table></figure><p>EmitTest.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props, context</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      context.emit(<span class="string">&quot;callBack&quot;</span>, num); <span class="comment">// emit(è‡ªå®šç¾©è®Šæ•¸, è¦ä½¿ç”¨çš„åƒæ•¸)</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p>setup æ¥æ”¶å…©å€‹åƒæ•¸ï¼Œå‰é¢ç‚º propsï¼Œç¬¬äºŒå€‹ context<br>ä½¿ç”¨ emit ä¹Ÿå¯ä»¥ç›´æ¥è§£æ§‹å‡ºä¾†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">setup</span>(<span class="params">props, &#123;emit&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    onMounted(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      emit(<span class="string">&quot;callBack&quot;</span>, num);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><hr><h1 id="emits-çš„ä½¿ç”¨"><a href="#emits-çš„ä½¿ç”¨" class="headerlink" title="emits çš„ä½¿ç”¨"></a>emits çš„ä½¿ç”¨</h1><p>è²æ˜æœ‰ä½¿ç”¨åˆ°çš„ emitï¼Œå¯ä»¥å¯«æˆ Array<br>emit ä¹Ÿå¯ä»¥å¯«æˆ object ä¾†åšé©—è­‰çš„å‹•ä½œ<br>å¦‚é©—è­‰æœªé€šéï¼Œconsole æœƒè·³å‡º warning çš„æç¤ºä¾†å‘Šè¨´é–‹ç™¼è€…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  emits: &#123;</span><br><span class="line">    callBack: <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> num.value === <span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; emit &#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">1</span>);</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      emit(<span class="string">&quot;callBack&quot;</span>, num);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h1 id="è¨ˆæ•¸å™¨ç¯„ä¾‹"><a href="#è¨ˆæ•¸å™¨ç¯„ä¾‹" class="headerlink" title="è¨ˆæ•¸å™¨ç¯„ä¾‹"></a>è¨ˆæ•¸å™¨ç¯„ä¾‹</h1><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> EmitTest <span class="keyword">from</span> <span class="string">&quot;@/components/EmitTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    EmitTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> handTimeOut = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;time is over&quot;</span>, num.value);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      handTimeOut,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EmitTest</span> @<span class="attr">TimeOut</span>=<span class="string">&quot;handTimeOut&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>EmitTest.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  emits: &#123;</span><br><span class="line">    TimeOut: <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (num.value === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; emit &#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        num.value--;</span><br><span class="line">        <span class="keyword">if</span> (num.value === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">          emit(<span class="string">&quot;TimeOut&quot;</span>, num);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      num,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> emit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çµ„ä»¶è³‡æ–™å‚³é Props</title>
      <link href="2021/03/11/components-props/"/>
      <url>2021/03/11/components-props/</url>
      
        <content type="html"><![CDATA[<h1 id="çµ„ä»¶è³‡æ–™å‚³é-Props-çˆ¶å‚³å­"><a href="#çµ„ä»¶è³‡æ–™å‚³é-Props-çˆ¶å‚³å­" class="headerlink" title="çµ„ä»¶è³‡æ–™å‚³é Props (çˆ¶å‚³å­)"></a>çµ„ä»¶è³‡æ–™å‚³é Props (çˆ¶å‚³å­)</h1><p>ä¸Šå±¤çš„ data é€é props å¾€ä¸‹å‚³ï¼Œä¸æœƒå¾€ä¸Šå‚³å› dataï¼Œæ‰€ä»¥ä¸‹å±¤çš„è³‡æ–™æ”¹è®Šä¸æœƒå½±éŸ¿åˆ°ä¸Šå±¤(data)</p><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> PropsTest <span class="keyword">from</span> <span class="string">&quot;@/components/PropsTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    PropsTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = ref(<span class="string">&quot;hello Vue!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123; data &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropsTest</span> <span class="attr">:msg</span>=<span class="string">&quot;data&quot;</span> /&gt;</span> // :å­å±¤å±¬æ€§=&quot;çˆ¶å±¤ data&quot;</span><br></pre></td></tr></table></figure><a id="more"></a><p>PropsTest.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: [<span class="string">&quot;msg&quot;</span>],</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; props &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;props.msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h1 id="Props-å‹æ…‹"><a href="#Props-å‹æ…‹" class="headerlink" title="Props å‹æ…‹"></a>Props å‹æ…‹</h1><p>props é›–å¯ä»¥ç‚ºé™£åˆ—ï¼Œä½†å»ºè­°ä½¿ç”¨<code>ç‰©ä»¶</code>è¡¨ç¤ºï¼Œç‰©ä»¶å¯ä»¥å®šç¾©å‹åˆ¥ï¼Œé‚„èƒ½è¨­å®š<code>é è¨­å€¼</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  msg: <span class="built_in">String</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Or</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  msg: &#123;</span><br><span class="line">    type: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">default</span>: <span class="string">&#x27;HI&#x27;</span> <span class="comment">// å¦‚ä¸Šå±¤æœªè¨­å®šmsgå€¼ï¼Œæœƒé¡¯ç¤ºHI</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="Props-å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼"><a href="#Props-å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼" class="headerlink" title="Props å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼"></a>Props å®šç¾©å„å€‹å‹åˆ¥çš„é è¨­å€¼</h1><p>çˆ¶å±¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> PropsTest <span class="keyword">from</span> <span class="string">&quot;@/components/PropsTest.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    PropsTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> string = ref(<span class="string">&quot;string&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> boolean = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> array = reactive([]);</span><br><span class="line">    <span class="keyword">const</span> obj = reactive(&#123;&#125;);</span><br><span class="line">    <span class="keyword">const</span> clickFn = <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; string, boolean, num, array, obj, clickFn &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;PropsTest</span><br><span class="line">  :string=&quot;string&quot;</span><br><span class="line">  :boolean=&quot;boolean&quot;</span><br><span class="line">  :num=&quot;num&quot;</span><br><span class="line">  :array=&quot;array&quot;</span><br><span class="line">  :obj=&quot;obj&quot;</span><br><span class="line">  :clickFn=&quot;clickFn&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><br>å­å±¤<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    string: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    boolean: &#123;</span><br><span class="line">      type: <span class="built_in">Boolean</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    num: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    array: &#123;</span><br><span class="line">      type: <span class="built_in">Array</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        [];</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    obj: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> (&#123;&#125;),</span><br><span class="line">      <span class="comment">// ç­‰æ–¼</span></span><br><span class="line">      <span class="comment">// default: ()=&gt;&#123;</span></span><br><span class="line">      <span class="comment">//   return &#123;&#125;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    clickFn: &#123;</span><br><span class="line">      type: <span class="built_in">Function</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; props &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> props </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue Component çµ„ä»¶åŸºæœ¬ä»‹ç´¹</title>
      <link href="2021/03/10/components-base/"/>
      <url>2021/03/10/components-base/</url>
      
        <content type="html"><![CDATA[<h1 id="çµ„ä»¶åŸºæœ¬ä»‹ç´¹"><a href="#çµ„ä»¶åŸºæœ¬ä»‹ç´¹" class="headerlink" title="çµ„ä»¶åŸºæœ¬ä»‹ç´¹"></a>çµ„ä»¶åŸºæœ¬ä»‹ç´¹</h1><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"></span><br><span class="line">createApp(App).use(router).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><a id="more"></a><p>main.js ç‚ºç¶²ç«™ä¸»ç¨‹å¼çš„é€²å…¥é»ï¼ŒVue çš„åˆå§‹åŒ–æ“ä½œéƒ½åœ¨æ­¤è¨­å®š<br>åªè¦æœ‰ä½¿ç”¨åˆ°æ“´å……åŠŸèƒ½ï¼Œéƒ½è¦ç”¨<code>.use</code> ä¸²æ¥åˆ°ä¸»ç¨‹å¼</p><hr><h1 id="æ‹†åˆ†çµ„ä»¶"><a href="#æ‹†åˆ†çµ„ä»¶" class="headerlink" title="æ‹†åˆ†çµ„ä»¶"></a>æ‹†åˆ†çµ„ä»¶</h1><p>App.vue<br>JS</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;@/components/Header.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">&quot;@/components/Footer.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Header,</span><br><span class="line">    Footer,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>template</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>CSS</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">-webkit-box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">-moz-box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Microsoft JhengHei&quot;</span>, <span class="string">&quot;Heiti TC&quot;</span>, <span class="string">&quot;sans-serif&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@æ˜¯çµ¦ VueJs ä½¿ç”¨çš„ï¼Œä»£è¡¨ src è³‡æ–™å¤¾ï¼ŒCSS ä½¿ç”¨æ™‚é ˆåœ¨å‰é¢åŠ ä¸Šæ³¢æµªç¬¦<code>~@</code>ï¼Œä½¿ç”¨@å–ä»£../è·¯å¾‘ï¼Œé¿å… bundle çš„æ™‚å€™å‡ºéŒ¯</p><p>Header.vue<br>æ”¹å¯«æˆ SCSS æ™‚é ˆåŠ ä¸Š <code>lang=&quot;scss&quot;</code>ï¼Œä¸¦å°‡ RWD @media æ”¾é€²è‡ªå·±çš„ class<br><code>scoped</code> åªé™åˆ¶æ­¤æª”æ¡ˆå…ƒç´ çš„ style</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: greenyellow;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#373c3f</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">97px</span>;</span><br><span class="line">  @media screen and (max-width: 640px) &#123;</span><br><span class="line">    <span class="selector-tag">transition</span>: <span class="selector-tag">height</span> 0.2<span class="selector-tag">s</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: 37<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt; <span class="selector-tag">nav</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1024px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    @media screen and (max-width: 1044px) &#123;</span><br><span class="line">      <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">640px</span>) &#123;</span><br><span class="line">      <span class="selector-tag">width</span>: 100%;</span><br><span class="line">      <span class="selector-tag">height</span>: 232<span class="selector-tag">px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/<span class="selector-tag">style</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="æ³¨å…¥å…¨åŸŸçš„-CSS"><a href="#æ³¨å…¥å…¨åŸŸçš„-CSS" class="headerlink" title="æ³¨å…¥å…¨åŸŸçš„ CSS"></a>æ³¨å…¥å…¨åŸŸçš„ CSS</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;@/assets/css/reset.css&quot;</span>;</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> Vue-cli </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç’°å¢ƒå»ºç½® &amp; Vue-cliå°ˆæ¡ˆ</title>
      <link href="2021/03/08/vue-cli/"/>
      <url>2021/03/08/vue-cli/</url>
      
        <content type="html"><![CDATA[<h1 id="Node-js-ç’°å¢ƒå»ºç½®"><a href="#Node-js-ç’°å¢ƒå»ºç½®" class="headerlink" title="Node.js ç’°å¢ƒå»ºç½®"></a>Node.js ç’°å¢ƒå»ºç½®</h1><h2 id="ä¸‹è¼‰-NVM"><a href="#ä¸‹è¼‰-NVM" class="headerlink" title="ä¸‹è¼‰ NVM"></a>ä¸‹è¼‰ NVM</h2><p>nvm æ˜¯ Node.js çš„ç‰ˆæœ¬ç®¡ç†å™¨ (version manager)ï¼Œå¯åœ¨åŒä¸€å°ä¸»æ©Ÿä¸Šå®‰è£å¤šå€‹ç‰ˆæœ¬çš„ Node.js ç’°å¢ƒï¼Œå› ç‚ºä¸åŒå°ˆæ¡ˆå¯èƒ½æœƒä½¿ç”¨ä¸åŒçš„ Node.js ç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦é€éä¸€å€‹ç‰ˆæœ¬ç®¡ç†å™¨ä¾†åˆ‡æ›ä¸åŒçš„ Node.js ç‰ˆæœ¬ã€‚<br><br>NVM install - é»é¸å³é‚Šçš„ releases<br><a href="https://github.com/coreybutler/nvm-windows">https://github.com/coreybutler/nvm-windows</a></p><a id="more"></a><p>NVM å¸¸ç”¨æŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nvm list // åˆ—å‡ºç›®å‰é›»è…¦æœ‰å®‰è£çš„ nodejs ç‰ˆæœ¬</span><br><span class="line">nvm list available // ç›®å‰ç¶²è·¯ä¸Šå¯ç”¨çš„ nodejs ç‰ˆæœ¬åˆ—è¡¨</span><br><span class="line">nvm install v12.19.0 // è©² nodejs ç‰ˆæœ¬ä¸‹è¼‰å®‰è£</span><br><span class="line">nvm uninstall v12.19.0 // ç§»é™¤è©² nodejs ç‰ˆæœ¬</span><br><span class="line">nvm use v12.19.0 // ä½¿ç”¨è©² nodejs ç‰ˆæœ¬</span><br><span class="line">nvm -v // ç›®å‰è©² nvm ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><h2 id="ä¸‹è¼‰-node-js"><a href="#ä¸‹è¼‰-node-js" class="headerlink" title="ä¸‹è¼‰ node.js"></a>ä¸‹è¼‰ node.js</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nvm install v12.19.0 // è©² nodejs ç‰ˆæœ¬ä¸‹è¼‰å®‰è£</span><br><span class="line">nvm use v12.19.0 // ä½¿ç”¨è©² nodejs ç‰ˆæœ¬</span><br><span class="line">node -v // ç›®å‰è©² node ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><h2 id="æª¢æŸ¥-npm-æ˜¯å¦å®‰è£æˆåŠŸ"><a href="#æª¢æŸ¥-npm-æ˜¯å¦å®‰è£æˆåŠŸ" class="headerlink" title="æª¢æŸ¥ npm æ˜¯å¦å®‰è£æˆåŠŸ"></a>æª¢æŸ¥ npm æ˜¯å¦å®‰è£æˆåŠŸ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v // ç›®å‰è©² npm ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>npm å¸¸ç”¨æŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm -v // æŸ¥çœ‹ç›®å‰npmçš„ç‰ˆæœ¬</span><br><span class="line">npm install &lt;package&gt; // å®‰è£npmå¥—ä»¶</span><br><span class="line">npm install &lt;package&gt;  -D // å®‰è£é–‹ç™¼éšæ®µå¥—ä»¶</span><br><span class="line">npm install &lt;package&gt;  -S // å®‰è£ä¸Šç·šéšæ®µå¥—ä»¶</span><br><span class="line">npm rm &lt;package&gt; // ç§»é™¤è©²å¥—ä»¶</span><br></pre></td></tr></table></figure><hr><h1 id="å®‰è£-Vue-cli"><a href="#å®‰è£-Vue-cli" class="headerlink" title="å®‰è£ Vue-cli"></a>å®‰è£ Vue-cli</h1><p>Vue CLI æ˜¯ä¸€å€‹åŸºæ–¼ Vue.js é€²è¡Œå¿«é€Ÿé–‹ç™¼çš„å®Œæ•´ç³»çµ±ï¼Œç¢ºä¿å„ç¨®æ§‹å»ºå·¥å…·èƒ½å¤ å¹³ç©©éŠœæ¥ï¼Œä½¿é–‹ç™¼äººå“¡å¯ä»¥å°ˆæ³¨åœ¨æ’°å¯«æ‡‰ç”¨ä¸Šï¼Œè€Œä¸å¿…èŠ±å¥½å¹¾å¤©å»ç³¾çµé…ç½®çš„å•é¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><h1 id="å»ºæ§‹ä¸€å€‹æ–°çš„-Vue-å°ˆæ¡ˆ"><a href="#å»ºæ§‹ä¸€å€‹æ–°çš„-Vue-å°ˆæ¡ˆ" class="headerlink" title="å»ºæ§‹ä¸€å€‹æ–°çš„ Vue å°ˆæ¡ˆ"></a>å»ºæ§‹ä¸€å€‹æ–°çš„ Vue å°ˆæ¡ˆ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vue create my-project // my-project ç‚ºè¦å‰µå»ºçš„è³‡æ–™å¤¾åç¨±</span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">vue ui // uiä»‹é¢è¨­å®š</span><br></pre></td></tr></table></figure><br>Please pick a preset: (è«‹é¸æ“‡ä¸€å€‹é è¨­)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Manually select features //æ‰‹å‹•é¸æ“‡åŠŸèƒ½</span><br></pre></td></tr></table></figure><br>Check the features needed for your project: (æª¢æŸ¥é …ç›®æ‰€éœ€çš„åŠŸèƒ½)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Choose Vue version //é¸æ“‡ Vue ç‰ˆæœ¬</span><br><span class="line">Babel //JavaScript è½‰è­¯å™¨ï¼Œå¯å°‡ ES6+ ç¨‹å¼ç¢¼è½‰ç‚ºç­‰æ•ˆçš„ ES5 ç¨‹å¼ç¢¼</span><br><span class="line">Router // è·¯ç”±</span><br><span class="line">CSS pre-processors //CSS é è™•ç†å™¨</span><br></pre></td></tr></table></figure><br>Choose a version of Vue.js that you want to start the project with (é¸æ“‡Vueç‰ˆæœ¬)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3.x (Preview)</span><br></pre></td></tr></table></figure><br>Use history mode for router?<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Y</span><br></pre></td></tr></table></figure><br>Pick a CSS pre-processor<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sass/SCSS (with node-sass)</span><br></pre></td></tr></table></figure><br>Where do you prefer placing config for Babel, ESLint, etc.?<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In package.json</span><br></pre></td></tr></table></figure><br>Save this as a preset for future projects?<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Y</span><br></pre></td></tr></table></figure><p>Save preset as: ç›´æ¥ ENTER<br><br></p><p>å»ºç«‹å®Œå¾Œå•Ÿå‹• serve</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> my-project // é€²å…¥è³‡æ–™å¤¾</span><br><span class="line">npm run serve // é–‹å•Ÿserve</span><br><span class="line">npm run build // å»ºç«‹dist</span><br></pre></td></tr></table></figure><hr><h1 id="Vue-cli-å°ˆæ¡ˆçµæ§‹è§£æ"><a href="#Vue-cli-å°ˆæ¡ˆçµæ§‹è§£æ" class="headerlink" title="Vue-cli å°ˆæ¡ˆçµæ§‹è§£æ"></a>Vue-cli å°ˆæ¡ˆçµæ§‹è§£æ</h1><p>node_modulesï¼šé€é npm ä¸‹è¼‰çš„å¥—ä»¶è·Ÿå·¥å…·éƒ½æœƒæ”¾åœ¨é€™å€‹è³‡æ–™å¤¾è£¡é¢<br><br>package.jsonï¼šé—œæ–¼é€™æ•´åŒ…å°ˆæ¡ˆæ‰€æœ‰çš„è³‡è¨Šï¼ŒåŒ…å«å®‰è£å¥—ä»¶ç‰ˆæœ¬ã€å°ˆæ¡ˆç‰ˆæœ¬ã€npm æŒ‡ä»¤éƒ½å¯ä»¥åœ¨é€™å€‹ json æª”æ¡ˆè£¡é¢æ‰¾å¾—åˆ°ï¼Œä¹‹å¾Œè¦æ¬ç§»å°ˆæ¡ˆé‡æ–°å®‰è£å¥—ä»¶ä¹Ÿéœ€è¦é é€™å€‹ json æª”æ¡ˆ<br><br>package-lock.jsonï¼šå°ˆé–€ç´€éŒ„ package.json è£¡é¢æ›´ç´°ç¯€çš„å…§å®¹ï¼Œä¾‹å¦‚å®‰è£çš„å¥—ä»¶çš„è©³ç´°ç‰ˆæœ¬ï¼Œæˆ–æ˜¯ç¢ºèªä½ çš„ dependency (ä¾è³´)æ˜¯è¢«å“ªå€‹å‡½å¼åº«æ‰€è¦æ±‚çš„ç­‰ç­‰<br><br>babel.config.js: babel è½‰æ› JS æ™‚æ‰€ç”¨çš„å¥—ä»¶</p><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> Vue-cli </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éåŒæ­¥è™•ç† Axios</title>
      <link href="2021/03/05/axios-api/"/>
      <url>2021/03/05/axios-api/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-Axios-å–å¾—-API"><a href="#ä½¿ç”¨-Axios-å–å¾—-API" class="headerlink" title="ä½¿ç”¨ Axios å–å¾— API"></a>ä½¿ç”¨ Axios å–å¾— API</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onMounted &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// åœ¨DOMå…ƒç´ æ¸²æŸ“å®Œæˆå¾ŒåŸ·è¡Œ</span></span><br><span class="line">      axios</span><br><span class="line">        .get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res.data);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="Axios-æ¸²æŸ“è³‡æ–™"><a href="#Axios-æ¸²æŸ“è³‡æ–™" class="headerlink" title="Axios æ¸²æŸ“è³‡æ–™"></a>Axios æ¸²æŸ“è³‡æ–™</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;img</span><br><span class="line">      v-for=&quot;(item, i) in imgArray.arr&quot;</span><br><span class="line">      :key=&quot;item.url&quot;</span><br><span class="line">      v-show=&quot;ImgIdx === i&quot;</span><br><span class="line">      class=&quot;img&quot;</span><br><span class="line">      :src=&quot;item.url&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnbox&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxRemove&quot;</span>&gt;</span>ä¸Šä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxAdd&quot;</span>&gt;</span>ä¸‹ä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onMounted, reactive, ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> imgArray = reactive(&#123; <span class="attr">arr</span>: [] &#125;); <span class="comment">// å°‡å–å¾—çš„è³‡æ–™æ”¾é€²é™£åˆ—</span></span><br><span class="line">    <span class="keyword">const</span> ImgIdx = ref(<span class="number">0</span>); <span class="comment">// åœ–ç‰‡ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">const</span> ImgIdxAdd = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ImgIdx.value++;</span><br><span class="line">      <span class="keyword">if</span> (ImgIdx.value &gt; imgArray.arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">        ImgIdx.value = <span class="number">0</span>; <span class="comment">// å¤§æ–¼ç¸½æ•¸é‡æ™‚è¿”å›ç¬¬ä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> ImgIdxRemove = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ImgIdx.value--;</span><br><span class="line">      <span class="keyword">if</span> (ImgIdx.value &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        ImgIdx.value = imgArray.arr.length - <span class="number">1</span>; <span class="comment">//å°æ–¼0æ™‚è¿”å›æœ€å¾Œä¸€å¼µ</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      axios</span><br><span class="line">        .get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          imgArray.arr = res.data;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123; imgArray, ImgIdx, ImgIdxAdd, ImgIdxRemove &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="åŠ å…¥-loading-æ•ˆæœ"><a href="#åŠ å…¥-loading-æ•ˆæœ" class="headerlink" title="åŠ å…¥ loading æ•ˆæœ"></a>åŠ å…¥ loading æ•ˆæœ</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isLoad&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;img</span><br><span class="line">      v-for=&quot;(item, i) in imgArray.arr&quot;</span><br><span class="line">      :key=&quot;item.url&quot;</span><br><span class="line">      v-show=&quot;ImgIdx === i&quot;</span><br><span class="line">      class=&quot;img&quot;</span><br><span class="line">      :src=&quot;item.url&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnbox&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isLoad&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxRemove&quot;</span>&gt;</span>ä¸Šä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;ImgIdxAdd&quot;</span>&gt;</span>ä¸‹ä¸€å¼µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;!isLoad&quot;</span> <span class="attr">class</span>=<span class="string">&quot;load&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/load.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imgArray = reactive(&#123; <span class="attr">arr</span>: [] &#125;); <span class="comment">// å°‡å–å¾—çš„è³‡æ–™æ”¾é€²é™£åˆ—</span></span><br><span class="line"><span class="keyword">const</span> ImgIdx = ref(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> isLoad = ref(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> ImgIdxAdd = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ImgIdx.value++;</span><br><span class="line">  <span class="keyword">if</span> (ImgIdx.value &gt; imgArray.arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">    ImgIdx.value = <span class="number">0</span>; <span class="comment">// å¤§æ–¼ç¸½æ•¸é‡æ™‚è¿”å›ç¬¬ä¸€å¼µ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> ImgIdxRemove = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ImgIdx.value--;</span><br><span class="line">  <span class="keyword">if</span> (ImgIdx.value &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    ImgIdx.value = imgArray.arr.length - <span class="number">1</span>; <span class="comment">//å°æ–¼0æ™‚è¿”å›æœ€å¾Œä¸€å¼µ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> handImgLoad = <span class="function">(<span class="params">imgArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>; <span class="comment">// é€éiè¨˜éŒ„loadingè·‘å®Œæ²’</span></span><br><span class="line">  imgArr.forEach(<span class="function">(<span class="params">image</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> newImage = <span class="keyword">new</span> Image(); <span class="comment">// å»ºç«‹Imageå¯¦é«”</span></span><br><span class="line">    newImage.src = image.url; <span class="comment">// é€ésrcå»è§¸ç™¼onloadäº‹ä»¶</span></span><br><span class="line">    newImage.onload = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      i++;</span><br><span class="line">      <span class="keyword">if</span> (imgArr.length === i) &#123;</span><br><span class="line">        <span class="comment">//åœ–ç‰‡è·‘å®Œå¾ŒåŸ·è¡Œ</span></span><br><span class="line">        imgArray.arr = imgArr;</span><br><span class="line">        isLoad.value = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  axios.get(<span class="string">&quot;https://vue-lessons-api.herokuapp.com/photo/list&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    handImgLoad(res.data);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> &#123; imgArray, ImgIdx, isLoad, ImgIdxAdd, ImgIdxRemove &#125;;</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VUEçš„ç”Ÿå‘½é€±æœŸ</title>
      <link href="2021/03/05/lifecycle-hooks/"/>
      <url>2021/03/05/lifecycle-hooks/</url>
      
        <content type="html"><![CDATA[<h1 id="VUE-çš„ç”Ÿå‘½é€±æœŸ-Lifecycle-Hooks"><a href="#VUE-çš„ç”Ÿå‘½é€±æœŸ-Lifecycle-Hooks" class="headerlink" title="VUE çš„ç”Ÿå‘½é€±æœŸ(Lifecycle Hooks)"></a>VUE çš„ç”Ÿå‘½é€±æœŸ(Lifecycle Hooks)</h1><p><strong>setup</strong> =&gt; vue æ›è¼‰åˆ° app ä¸Šé¢å¾ŒåŸ·è¡Œ<br><strong>onBeforeMount</strong> =&gt; DOM æ¸²æŸ“å‰åŸ·è¡Œ<br><strong>onMounted</strong> =&gt; DOM æ¸²æŸ“å®Œæˆå¾ŒåŸ·è¡Œ<br><strong>onBeforeUpdate</strong> =&gt; è³‡æ–™æ›´æ–° DOM æ›´æ”¹å‰åŸ·è¡Œ<br><strong>onUpdated</strong> =&gt; è³‡æ–™æ›´æ–° DOM æ›´æ”¹å¾ŒåŸ·è¡Œ</p><a id="more"></a><p><strong>onBeforeUnmount</strong> =&gt; çµ„ä»¶éŠ·æ¯€å‰åŸ·è¡Œ<br><strong>onUnmounted</strong> =&gt; çµ„ä»¶éŠ·æ¯€å¾ŒåŸ·è¡Œ<br><strong>onErrorCaptured</strong> =&gt; ç•¶çµ„ä»¶ç™¼å‡ºéŒ¯èª¤æ™‚å¾Œèª¿ç”¨<br><strong>onRenderTracked</strong> =&gt; ç›£æ§ virtual DOM é‡æ–°é¸æŸ“æ™‚èª¿ç”¨ ( æ­¤äº‹ä»¶å‘Šè¨´ä½ æ“ä½œä»€éº¼ç›£è½äº†çµ„ä»¶ä»¥åŠè©²æ“ä½œçš„ç‰©ä»¶)<br><strong>onRenderTriggered</strong> =&gt; ç›£æ§ virtual DOM é‡æ–°é¸æŸ“æ™‚èª¿ç”¨ ( æ­¤äº‹ä»¶å‘Šè¨´ä½ æ“ä½œä»€éº¼è§¸ç™¼äº†é‡æ–°æ¸²æŸ“ï¼Œä»¥åŠè©²æ“ä½œçš„ç‰©ä»¶)</p><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> ç”Ÿå‘½é€±æœŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3åŸºæœ¬æ“ä½œ-2</title>
      <link href="2021/03/04/vue3-base2/"/>
      <url>2021/03/04/vue3-base2/</url>
      
        <content type="html"><![CDATA[<h1 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h1><h2 id="ç¯„ä¾‹-1-è‡ªå‹•é•·å‡º-menu-é«˜åº¦"><a href="#ç¯„ä¾‹-1-è‡ªå‹•é•·å‡º-menu-é«˜åº¦" class="headerlink" title="ç¯„ä¾‹ 1: è‡ªå‹•é•·å‡º menu é«˜åº¦"></a>ç¯„ä¾‹ 1: è‡ªå‹•é•·å‡º menu é«˜åº¦</h2><p>è¨ˆç®—å±¬æ€§</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;HandListShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>èœå–®<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;height: toggleH&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(list, idx) in listArr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list&quot;</span>&gt;</span>&#123;&#123;list.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, computed &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isOpen = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è›‹ç³•&quot;</span>, <span class="attr">money</span>: <span class="number">3200</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç´…èŒ¶æ‹¿éµ&quot;</span>, <span class="attr">money</span>: <span class="number">100</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç¾©å¤§åˆ©éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">500</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰ç±³æ¿ƒæ¹¯&quot;</span>, <span class="attr">money</span>: <span class="number">300</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æµ·é®®ç‡‰é£¯&quot;</span>, <span class="attr">money</span>: <span class="number">1600</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å¤å¨å¤·æŠ«è–©&quot;</span>, <span class="attr">money</span>: <span class="number">900</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰›è‚‰éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹éºµåŒ…&quot;</span>, <span class="attr">money</span>: <span class="number">1800</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> HandListShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isOpen.value = !isOpen.value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> toggleH = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> isOpen.value ? <span class="string">`<span class="subst">$&#123;listArr.length * <span class="number">40</span>&#125;</span>px`</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isOpen,</span><br><span class="line">      listArr,</span><br><span class="line">      HandListShow,</span><br><span class="line">      toggleH,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Computed-è·Ÿ-Methods"><a href="#Computed-è·Ÿ-Methods" class="headerlink" title="Computed è·Ÿ Methods"></a>Computed è·Ÿ Methods</h3><p><strong>computed</strong></p><p>æœƒä¾æ“šè¨ˆç®—çš„è³‡æ–™<strong>é€²è¡Œç·©å­˜</strong>ï¼Œåªè¦ä½ çš„è³‡æ–™æ²’æœ‰é‡æ–°è¢«æ›´æ”¹ï¼Œä½ çš„ computed ä¸æœƒè¢«é‡æ–°è¨ˆç®—åŸ·è¡Œï¼Œå¦‚ä¸é ˆå‚³å…¥åƒæ•¸ï¼Œå»ºè­°éƒ½ä½¿ç”¨ computed è¨ˆç®—</p><p><strong>methods</strong></p><p>é›–å¯ä»¥é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼Œä½† methods<strong>ä¸æœƒé€²è¡Œç·©å­˜</strong>ï¼Œæ¯æ¬¡éƒ½æœƒé‡æ–°åŸ·è¡Œ ï¼Œå¯ä»¥<strong>å‚³å…¥åƒæ•¸</strong>é€²è¡Œè™•ç†</p><h2 id="ç¯„ä¾‹-2-è¨ˆç®—è³‡æ–™"><a href="#ç¯„ä¾‹-2-è¨ˆç®—è³‡æ–™" class="headerlink" title="ç¯„ä¾‹ 2: è¨ˆç®—è³‡æ–™"></a>ç¯„ä¾‹ 2: è¨ˆç®—è³‡æ–™</h2><p>åˆ©ç”¨ computed å–å¾—è³‡æ–™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;HandListShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>èœå–®<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;height: toggleH&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(list, idx) in newMenu&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list.menu&quot;</span>&gt;</span>&#123;&#123;list.menu&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, computed &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isOpen = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è›‹ç³•&quot;</span>, <span class="attr">money</span>: <span class="number">3200</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç´…èŒ¶æ‹¿éµ&quot;</span>, <span class="attr">money</span>: <span class="number">100</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç¾©å¤§åˆ©éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">500</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰ç±³æ¿ƒæ¹¯&quot;</span>, <span class="attr">money</span>: <span class="number">300</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æµ·é®®ç‡‰é£¯&quot;</span>, <span class="attr">money</span>: <span class="number">1600</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å¤å¨å¤·æŠ«è–©&quot;</span>, <span class="attr">money</span>: <span class="number">900</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰›è‚‰éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹éºµåŒ…&quot;</span>, <span class="attr">money</span>: <span class="number">1800</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> HandListShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isOpen.value = !isOpen.value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> toggleH = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> isOpen.value ? <span class="string">`<span class="subst">$&#123;listArr.length * <span class="number">40</span>&#125;</span>px`</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> newMenu = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> map = listArr.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">menu</span>: <span class="string">`<span class="subst">$&#123;item.name&#125;</span>, $: <span class="subst">$&#123;item.money&#125;</span>`</span> &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> map;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isOpen,</span><br><span class="line">      newMenu,</span><br><span class="line">      HandListShow,</span><br><span class="line">      toggleH,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¯„ä¾‹ä¸‰-è³‡æ–™ç¯©é¸-Data-Filter"><a href="#ç¯„ä¾‹ä¸‰-è³‡æ–™ç¯©é¸-Data-Filter" class="headerlink" title="ç¯„ä¾‹ä¸‰: è³‡æ–™ç¯©é¸ Data Filter"></a>ç¯„ä¾‹ä¸‰: è³‡æ–™ç¯©é¸ Data Filter</h2><p>v-for è·Ÿ v-if å®˜æ–¹ä¸æ¨è–¦ä¸€èµ·ä½¿ç”¨ï¼Œæœƒæœ‰å„ªå…ˆé †åºçš„å•é¡Œï¼Œv-if æœƒå…ˆåŸ·è¡Œï¼Œv-for çš„å€¼æœƒè®Š undefined<br>æ­£ç¢ºçš„åšæ³•æ‡‰è©²è¦å…ˆé€é computed æŠŠè³‡æ–™ç¯©é¸å‡ºä¾†å¾Œå†é€²è¡Œ v-for<br>åªè¦è¢« computed é‡æ–°åŒ…è£éå¾Œï¼Œé ˆä½¿ç”¨<code>.value</code>å–å¾—è³‡æ–™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;HandListShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>èª²ç¨‹åˆ—è¡¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;height: BoxHeight&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(list, idx) in filterData&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list.money&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;idx + 1&#125;&#125;. &#123;&#123;list.name&#125;&#125; =&gt; $&#123;&#123;list.money&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, computed &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isOpen = ref(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è›‹ç³•&quot;</span>, <span class="attr">money</span>: <span class="number">3200</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç´…èŒ¶æ‹¿éµ&quot;</span>, <span class="attr">money</span>: <span class="number">100</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç¾©å¤§åˆ©éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">500</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰ç±³æ¿ƒæ¹¯&quot;</span>, <span class="attr">money</span>: <span class="number">300</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æµ·é®®ç‡‰é£¯&quot;</span>, <span class="attr">money</span>: <span class="number">1600</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å¤å¨å¤·æŠ«è–©&quot;</span>, <span class="attr">money</span>: <span class="number">900</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;ç‰›è‚‰éºµ&quot;</span>, <span class="attr">money</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹éºµåŒ…&quot;</span>, <span class="attr">money</span>: <span class="number">1800</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> filterData = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> filter = listArr.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> item.money &gt; <span class="number">500</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(filter);</span><br><span class="line">      <span class="keyword">return</span> filter;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> BoxHeight = computed(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// è¢« computed é‡æ–°åŒ…è£éå¾Œï¼Œé ˆä½¿ç”¨`.value`å–å¾—è³‡æ–™</span></span><br><span class="line">      <span class="keyword">return</span> isOpen.value ? <span class="string">`<span class="subst">$&#123;filterData.value.length * <span class="number">40</span>&#125;</span>px`</span> : <span class="string">&quot;0px&quot;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> HandListShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isOpen.value = !isOpen.value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isOpen,</span><br><span class="line">      filterData,</span><br><span class="line">      HandListShow,</span><br><span class="line">      BoxHeight,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h1 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h1><p>è³‡æ–™ç›£æ§<br>å¯å¸¶å…¥å…©å€‹åƒæ•¸ï¼Œå¦‚è³‡æ–™è¢«æ”¹è®Šæœƒè‡ªå‹•åŸ·è¡Œ callback</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch(è¦ç›£æ§çš„è³‡æ–™, <span class="function">(<span class="params">æ–°è³‡æ–™, èˆŠè³‡æ–™</span>) =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure><h2 id="ç›£æ§-ref"><a href="#ç›£æ§-ref" class="headerlink" title="ç›£æ§ ref"></a>ç›£æ§ ref</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> idx = ref(<span class="number">0</span>);</span><br><span class="line">    watch(idx, <span class="function">(<span class="params">newIdx, oldIdx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;newIdx:&quot;</span>, newIdx, <span class="string">&quot;oldIdx:&quot;</span>, oldIdx);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      idx.value++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç›£æ§-reactive"><a href="#ç›£æ§-reactive" class="headerlink" title="ç›£æ§ reactive"></a>ç›£æ§ reactive</h2><p>watch ç›£æ§çš„å€¼ç‚º getterï¼Œåªèƒ½è¢«è®€å–çš„å€¼ï¼Œéœ€é€éå‡½å¼å›å‚³ reactive çš„å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    watch(</span><br><span class="line">      () =&gt; data.idx, <span class="comment">// watchç›£æ§çš„å€¼ç‚ºgetterï¼Œåªèƒ½è¢«è®€å–çš„å€¼</span></span><br><span class="line">      (newIdx, oldIdx) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;newIdx:&quot;</span>, newIdx, <span class="string">&quot;oldIdx:&quot;</span>, oldIdx);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      data.idx++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç›£æ§æ•´å€‹-Array-æˆ–-object"><a href="#ç›£æ§æ•´å€‹-Array-æˆ–-object" class="headerlink" title="ç›£æ§æ•´å€‹ Array æˆ– object"></a>ç›£æ§æ•´å€‹ Array æˆ– object</h2><p>ref ä¸èƒ½ç›£æ§æ•´å€‹ç‰©ä»¶çš„è®Šå‹•ï¼Œåªèƒ½ç›£æ§å–®ä¸€å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> refObj = ref(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    <span class="keyword">const</span> reactiveObj = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    watch(refObj, <span class="function">(<span class="params">newIdx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;ref&quot;</span>, refObj);</span><br><span class="line">    &#125;);</span><br><span class="line">    watch(reactiveObj, <span class="function">(<span class="params">newIdx</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;reactiveObj&quot;</span>, reactiveObj);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      refObj.value.idx++;</span><br><span class="line">      reactiveObj.idx++;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123; refObj, reactiveObj &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚éœ€ä½¿ç”¨ ref åšæ·±å±¤ç›£æ§ï¼Œå¯ä»¥ä½¿ç”¨ <strong>deep</strong>ï¼Œä½†éå¸¸è€—æ•ˆèƒ½ï¼Œä¸å»ºè­°ä½¿ç”¨ï¼Œå»ºè­°ç›£æ§å–®ä¸€å€¼å°±å¥½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watch &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = ref(&#123; <span class="attr">user</span>: &#123;&#125; &#125;);</span><br><span class="line"></span><br><span class="line">    watch(</span><br><span class="line">      data,</span><br><span class="line">      (newVal) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(newVal);</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123; <span class="attr">deep</span>: <span class="literal">true</span> &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      data.value.user[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;æ³¢æ¯”&quot;</span>;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h1 id="watchEffect"><a href="#watchEffect" class="headerlink" title="watchEffect"></a>watchEffect</h1><p>ä¸é ˆå‚³å…¥è¦ç›£æ§çš„å€¼ï¼Œå€¼åœ¨é‚„æ²’è®Šå‹•æ™‚å°±æœƒé–‹å§‹ç›£æ§<br>æœ‰å¯«é€² watchEffect çš„è³‡æ–™éƒ½æœƒè¢«è®€å–ï¼Œå³ä½¿æ˜¯æ²’æœ‰æ”¹è®Šçš„å€¼ä¹Ÿæœƒå†è¢« show å‡ºä¾†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watchEffect &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> numData = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line"></span><br><span class="line">    watchEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num.value);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      num.value++;</span><br><span class="line">      numData.idx++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åœæ­¢-watchEffect-çš„ç›£æ§"><a href="#åœæ­¢-watchEffect-çš„ç›£æ§" class="headerlink" title="åœæ­¢ watchEffect çš„ç›£æ§"></a>åœæ­¢ watchEffect çš„ç›£æ§</h2><p>çµ¦ watchEffect è‡ªå®šç¾©ä¸€å€‹è®Šæ•¸ï¼Œä¸¦åŸ·è¡Œï¼Œå°‡æœƒåœæ­¢ watchEffect</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive, watchEffect &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> numData = reactive(&#123; <span class="attr">idx</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">const</span> stop = watchEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(num.value);</span><br><span class="line">      <span class="keyword">if</span> (num.value &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">        stop(); <span class="comment">// åœæ­¢watchEffect</span></span><br><span class="line">        <span class="built_in">clearInterval</span>(timer); <span class="comment">// watchEffecté—œé–‰å¾Œä¸æœƒåœæ­¢setTimeoutï¼Œéœ€è¦å†clearInterval</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      num.value++;</span><br><span class="line">      numData.idx++;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><p>å¦‚æœé€™ç¯‡ç­†è¨˜æœ‰å¹«åŠ©ï¼Œéº»ç…©è«‹å¹«æˆ‘æŒ‰äº”ä¸‹ Likerï¼Œçµ¦æˆ‘ä¸€é»é¼“å‹µå”·ï¼æŒ‰è®šæ˜¯å…éŒ¢æ»´ ğŸ˜€</p>]]></content>
      
      
      <categories>
          
          <category> Vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> VueJs </tag>
            
            <tag> computed </tag>
            
            <tag> watch </tag>
            
            <tag> watchEffect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3åŸºæœ¬æ“ä½œ-1</title>
      <link href="2021/03/02/vue3-base1/"/>
      <url>2021/03/02/vue3-base1/</url>
      
        <content type="html"><![CDATA[<h1 id="vue-js-çš„èµ·æ‰‹å¼"><a href="#vue-js-çš„èµ·æ‰‹å¼" class="headerlink" title="vue.js çš„èµ·æ‰‹å¼"></a>vue.js çš„èµ·æ‰‹å¼</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handAddInt&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> handAddInt = <span class="function">() =&gt;</span> msg.value++;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// è®Šæ•¸å›å‚³åˆ°æ¨¡ç‰ˆ</span></span><br><span class="line">      msg,</span><br><span class="line">      handAddInt,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">Vue.createApp(App).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><p>ä»¥å¾€ VUE2 ä½¿ç”¨ new Vue å‰µå»ºå¯¦é«”ï¼ŒVUE3 ä½¿ç”¨ createApp ä¾†å‰µå»ºæ‡‰ç”¨ç¨‹å¼(App)çš„å¯¦é«”ï¼Œä¸¦æ›è¼‰åˆ° DOM ä¸Š<br>setup() æ”¾å…¥æ‰€æœ‰è·Ÿ vue.js ç›¸é—œçš„æ“ä½œå…§å®¹<br>return æ”¾å…¥è¦å›å‚³åˆ° HTML çš„è³‡æ–™<br>é€é ref è®“è³‡æ–™åšç¶å®šï¼Œref éœ€è¦é€é.value å­˜å–è³‡æ–™</p><h1 id="ref-amp-reactive"><a href="#ref-amp-reactive" class="headerlink" title="ref &amp; reactive"></a>ref &amp; reactive</h1><h2 id="é¸æ“‡-ref-é‚„æ˜¯-reactive"><a href="#é¸æ“‡-ref-é‚„æ˜¯-reactive" class="headerlink" title="é¸æ“‡ ref é‚„æ˜¯ reactive"></a>é¸æ“‡ ref é‚„æ˜¯ reactive</h2><p>åœ¨å¤§å¤šæ•¸æƒ…æ³ä¸‹å…©è€…å¯ä»¥äº’ç›¸æ›¿æ›ä½¿ç”¨ï¼Œä¸»è¦å–æ±ºæ–¼å€‹äººå–œå¥½æˆ–è€…åœ˜éšŠç¿’æ…£ï¼Œæ ¹æ“šå…·é«”æƒ…æ³å»æ±ºå®šè¦ä½¿ç”¨å“ªå€‹å°±å¥½</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message.text&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> message = reactive(&#123; <span class="attr">text</span>: <span class="string">&quot;hello&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg,</span><br><span class="line">      message,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ref"><a href="#ref" class="headerlink" title="ref()"></a>ref()</h2><p>å¯ä»¥æ¥å—ä»»ä½•å‹æ…‹çš„è³‡æ–™ï¼Œä½†æ˜¯ä¸æœƒå°ç‰©ä»¶æˆ–é™£åˆ—å…§éƒ¨çš„å±¬æ€§è®Šå‹•åšç›£è½ï¼Œéœ€è¦é€é<code>.value</code>å­˜å–è³‡æ–™ã€‚</p><h2 id="reactive"><a href="#reactive" class="headerlink" title="reactive()"></a>reactive()</h2><p>åªèƒ½æ¥å—ç‰©ä»¶æˆ–é™£åˆ—ï¼Œå¯ä»¥åšæ·±å±¤çš„ç›£è½ï¼Œä»¥åŠè¨ªå•è³‡æ–™ä¸éœ€è¦<code>.value</code></p><hr><h1 id="v-model-è³‡æ–™é›™å‘ç¶å®š"><a href="#v-model-è³‡æ–™é›™å‘ç¶å®š" class="headerlink" title="v-model è³‡æ–™é›™å‘ç¶å®š"></a>v-model è³‡æ–™é›™å‘ç¶å®š</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message.text&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message.text&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> message = reactive(&#123; <span class="attr">text</span>: <span class="string">&quot;hello&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg,</span><br><span class="line">      message,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h1 id="v-on-Event-äº‹ä»¶ç¶å®š"><a href="#v-on-Event-äº‹ä»¶ç¶å®š" class="headerlink" title="v-on:Event äº‹ä»¶ç¶å®š"></a>v-on:Event äº‹ä»¶ç¶å®š</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addCount&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;reduceCount&quot;</span>&gt;</span>Reduce<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      count.value++;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> reduceCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      count.value--;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count,</span><br><span class="line">      addCount,</span><br><span class="line">      reduceCount,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h1 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h1><p>readonlyÂ  å°±æ˜¯è®“ä½ çš„ Â refÂ  æˆ–æ˜¯ Â reactiveÂ  çš„è³‡æ–™åªå¯ä»¥è®€å–ä¸å¯ä»¥è¢«ä¿®æ”¹<br>éå¸¸é©åˆç”¨åœ¨åƒæ•¸å‚³éçš„æ™‚å€™é¿å…ä¸å°å¿ƒè¢«ä¿®æ”¹è³‡æ–™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref, readonly &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> copyCount = readonly(count);</span><br><span class="line">    <span class="keyword">const</span> addCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      copyCount.value++;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> reduceCount = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      copyCount.value--;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count,</span><br><span class="line">      addCount,</span><br><span class="line">      reduceCount,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é»æ“ŠæŒ‰éˆ•æ™‚ copyCount ç„¡æ³•è¢«ä¿®æ”¹</p><hr><h1 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, idx) in dogs&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span>&#123;&#123;idx+1&#125;&#125;-&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> dogs = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è´è¶çŠ¬&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æŸ´çŠ¬&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;åšç¾çŠ¬&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å“ˆå£«å¥‡&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹é¬¥ç‰›çŠ¬&quot;</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      dogs,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="KEY"><a href="#KEY" class="headerlink" title="KEY"></a>KEY</h2><p>ç‚ºäº†ä¸è¦é‡è¤‡æ¸²æŸ“ï¼Œv-for å¿…é ˆåŠ ä¸Š keyï¼Œä¿®æ”¹è³‡æ–™æ™‚å°±ä¸æœƒå…¨éƒ¨çš„ DOM ä¸€èµ·ä¿®æ”¹<br>ä½¿ç”¨ v-for æ™‚ä¸€å®šè¦çµ¦ key<br>ä½¿ç”¨ v-for æ™‚ä¸è¦æ‹¿ç´¢å¼•ç•¶ key<br>ä½¿ç”¨å”¯ä¸€çš„å€¼ç•¶ key çš„å€¼</p><hr><h1 id="v-if-èˆ‡-v-show"><a href="#v-if-èˆ‡-v-show" class="headerlink" title="v-if èˆ‡ v-show"></a>v-if èˆ‡ v-show</h1><p>é¡¯ç¤ºã€éš±è— DOM å…ƒç´ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;text&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;text&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handDomShow&quot;</span>&gt;</span>show text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ref &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isShow = ref(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">const</span> text = ref(<span class="string">&quot;hello VUE!&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> handDomShow = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isShow.value = !isShow.value;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShow,</span><br><span class="line">      text,</span><br><span class="line">      handDomShow,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h2><p>ç›´æ¥å°‡ DOM å¾é é¢ä¸Šç§»é™¤è·ŸåŠ å…¥<br>v-if å¯ä»¥æ¸›å°‘æ¸²æŸ“é€Ÿåº¦çš„æ•ˆèƒ½<br>å¯ç”¨æ–¼æ¬Šé™æˆ–ä¸€é–‹å§‹å°±ä¸è©²å‡ºç¾çš„å€å¡Š<br>å¦‚æœæ˜¯ DOM å…ƒç´ åˆ‡æ›çš„åŠŸèƒ½ï¼Œæ¶ˆè€—çš„è³‡æºæ¯”è¼ƒé«˜ï¼Œå»ºè­°ç”¨ v-show</p><h2 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h2><p>é€é CSS çš„ display : none; è·Ÿ display : block; ä¾†é¡¯ç¤ºé—œé–‰<br>v-show å¯ä»¥æå‡åˆ‡æ›é€Ÿåº¦æ•ˆèƒ½<br>é©åˆåš tab åˆ‡æ›çš„åŠŸèƒ½</p><hr><h1 id="v-bind-attribute-å±¬æ€§ç¶å®š"><a href="#v-bind-attribute-å±¬æ€§ç¶å®š" class="headerlink" title="v-bind:attribute å±¬æ€§ç¶å®š"></a>v-bind:attribute å±¬æ€§ç¶å®š</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.blue</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  &lt;li</span><br><span class="line">    v-for=&quot;(list, idx) in listArr&quot;</span><br><span class="line">    v-bind:class=&quot;list.status&quot;</span><br><span class="line">    v-bind:key=&quot;list.name&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &#123;&#123;idx + 1&#125;&#125;. &#123;&#123;list.name&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; reactive &#125; = Vue;</span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> listArr = reactive([</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;è´è¶çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;red&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æŸ´çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;blue&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;åšç¾çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;red&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;å“ˆå£«å¥‡&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;red&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;æ³•åœ‹é¬¥ç‰›çŠ¬&quot;</span>, <span class="attr">status</span>: <span class="string">&quot;blue&quot;</span> &#125;,</span><br><span class="line">    ]);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      listArr,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚è¦ç¶å®šå…©å€‹ä»¥ä¸Šçš„ class å¯å¯«æˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;box&#x27;, &#123;open: isOpen&#125;]&quot;</span></span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> VueJs3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> javascript </tag>
            
            <tag> ref </tag>
            
            <tag> reactive </tag>
            
            <tag> v-model </tag>
            
            <tag> v-on </tag>
            
            <tag> readonly </tag>
            
            <tag> v-for </tag>
            
            <tag> v-show </tag>
            
            <tag> v-if </tag>
            
            <tag> v-bind </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Node.js èˆ‡ npm æ›´æ–°çš„æ–¹å¼</title>
      <link href="2021/02/08/nodeJS-update/"/>
      <url>2021/02/08/nodeJS-update/</url>
      
        <content type="html"><![CDATA[<h2 id="Node-js-æ›´æ–°"><a href="#Node-js-æ›´æ–°" class="headerlink" title="Node.js æ›´æ–°"></a>Node.js æ›´æ–°</h2><h3 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean -f</span><br><span class="line">npm install -g n</span><br><span class="line"><span class="comment">// è‹¥è¦æ›´æ–°åˆ°æœ€å¾Œä¸€å€‹ç‰ˆæœ¬</span></span><br><span class="line">n latest</span><br><span class="line"><span class="comment">// è‹¥è¦æ›´æ–°åˆ°ç©©å®šç‰ˆæœ¬</span></span><br><span class="line">n stable</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><p>ä¸Šé¢çš„æ–¹æ³•ç”¨åœ¨ windows æ˜¯è¡Œä¸é€šçš„ï¼Œç”±æ–¼ n æ¨¡å¡Šä¸æ”¯æ´ windowsï¼Œéœ€åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ node å®˜ç¶²ä¸‹è¼‰ LTS ç‰ˆæœ¬çš„ node å®‰è£åŒ…ï¼Œå®‰è£å¾Œè¦†è“‹åŒè·¯å¾‘å³å¯ã€‚<br><br>æŸ¥çœ‹ node å®‰è£è·¯å¾‘<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> node</span><br></pre></td></tr></table></figure><h2 id="æª¢æŸ¥-Node-js-ç‰ˆæœ¬"><a href="#æª¢æŸ¥-Node-js-ç‰ˆæœ¬" class="headerlink" title="æª¢æŸ¥ Node.js ç‰ˆæœ¬"></a>æª¢æŸ¥ Node.js ç‰ˆæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><h2 id="NPM-æ›´æ–°"><a href="#NPM-æ›´æ–°" class="headerlink" title="NPM æ›´æ–°"></a>NPM æ›´æ–°</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g npm</span><br></pre></td></tr></table></figure><h2 id="æª¢æŸ¥-NPM-ç‰ˆæœ¬"><a href="#æª¢æŸ¥-NPM-ç‰ˆæœ¬" class="headerlink" title="æª¢æŸ¥ NPM ç‰ˆæœ¬"></a>æª¢æŸ¥ NPM ç‰ˆæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯æˆ‘çš„å­¸ç¿’ç­†è¨˜ï¼Œå¸Œæœ›ä¹Ÿæœ‰å¹«åŠ©åˆ°ä½ å“¦ ğŸ˜€<br></p>]]></content>
      
      
      <categories>
          
          <category> nodeJs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodeJs </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
